(this["webpackJsonpfirebase-tools-ui"]=this["webpackJsonpfirebase-tools-ui"]||[]).push([[3],{100:function(e,t,n){e.exports={sideBarWrapper:"SideBar_sideBarWrapper__2U4fA",metadata:"SideBar_metadata___54TG",headerTitleWrapper:"SideBar_headerTitleWrapper__36Cab",headerWrapper:"SideBar_headerWrapper__1g-KA",fileName:"SideBar_fileName__2RdXQ",openFileLink:"SideBar_openFileLink__3atYO",location:"SideBar_location__3lF4q"}},116:function(e,t,n){e.exports={accordion:"Accordion_accordion__twLFS",header:"Accordion_header__15Xue",content:"Accordion_content__OG25e",icon:"Accordion_icon__1VWct"}},117:function(e,t,n){e.exports={actionHeaderWrapper:"ActionHeader_actionHeaderWrapper__839fT",actionHeaderLabel:"ActionHeader_actionHeaderLabel__eo4Zi",actionBar:"ActionHeader_actionBar__2g6vj",openButton:"ActionHeader_openButton__1VI3W",deleteButton:"ActionHeader_deleteButton__3qlcp"}},129:function(e,t,n){e.exports={storageHeaderWrapper:"StorageHeader_storageHeaderWrapper__37Mrt",breadcrumbWrapper:"StorageHeader_breadcrumbWrapper__2_8zz",wrapper:"StorageHeader_wrapper__2TGQ0",storageHeaderActionBarWrapper:"StorageHeader_storageHeaderActionBarWrapper__4UmmL"}},136:function(e,t,n){},157:function(e,t,n){e.exports={icon:"StorageIcon_icon__3v1AK"}},164:function(e,t,n){e.exports={"query-panel":"Collection_query-panel__1MziT","button-wrapper":"Collection_button-wrapper__3gNP-",badge:"Collection_badge__B5KHa"}},166:function(e,t,n){e.exports={metadata:"FileLocation_metadata__pnhC3",token:"FileLocation_token__1vQVl"}},167:function(e,t,n){e.exports={tableWrapper:"StorageCard_tableWrapper__thHA2",gridWrapper:"StorageCard_gridWrapper__2KCyf",tableCell:"StorageCard_tableCell__3fLyU"}},185:function(e,t,n){e.exports={image:"UserFormDialog_image__1Z6Cw",loading:"UserFormDialog_loading__nfVD8"}},186:function(e,t,n){e.exports={filterForm:"AuthFilter_filterForm__W0zqx"}},187:function(e,t,n){e.exports={barActions:"AuthHeader_barActions__3eROi",addUserButton:"AuthHeader_addUserButton__35cpq"}},192:function(e,t,n){e.exports={container:"StatusLabel_container__2Y6KW",icon:"StatusLabel_icon__34nuE"}},193:function(e,t,n){e.exports={dropzoneWrapper:"TableDropzoneWrapper_dropzoneWrapper__2KM6n",dropWrapper:"TableDropzoneWrapper_dropWrapper__22gIh"}},198:function(e,t){},199:function(e,t,n){},216:function(e,t,n){},219:function(e,t,n){"use strict";n.d(t,"hostAndPort",(function(){return r}));n(198);function r(e,t){return e.indexOf(":")>=0?"[".concat(e,"]:").concat(t):"".concat(e,":").concat(t)}},222:function(e,t,n){e.exports={wrapper:"OneAccountPerEmailCard_wrapper__3fZZe"}},223:function(e,t,n){e.exports={description:"OneAccountPerEmailDialog_description__HG1Vb"}},226:function(e,t,n){e.exports={clearAllButton:"UsersCard_clearAllButton__23izn"}},227:function(e,t,n){e.exports={iconWrapper:"ProviderCell_iconWrapper__2KYaU"}},231:function(e,t,n){e.exports={container:"ImportDialog_container__3M_uy"}},238:function(e,t,n){e.exports={missing:"DocumentListItem_missing__2gbCW"}},241:function(e,t,n){e.exports={bucketPicker:"BucketPicker_bucketPicker__bpVJM"}},242:function(e,t,n){e.exports={canvasWrapper:"Canvas_canvasWrapper__3idKa"}},243:function(e,t,n){e.exports={deleteAllFiles:"DeleteAllButton_deleteAllFiles__3f148"}},244:function(e,t,n){e.exports={list:"CustomMetadata_list__3jAMI",metadata:"CustomMetadata_metadata__277Xi"}},245:function(e,t,n){e.exports={preview:"StoragePreview_preview__1ISx6"}},246:function(e,t,n){e.exports={uploadButton:"UploadButton_uploadButton__3NOLi"}},247:function(e,t,n){e.exports={zeroStateWrapper:"ZeroState_zeroStateWrapper__115-W"}},248:function(e,t,n){e.exports={storageWrapper:"Storage_storageWrapper__3CLAv",spinnerWrapper:"Storage_spinnerWrapper__Q6i7e"}},277:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){e.exports={"sign-in-quota":"Auth_sign-in-quota__XoMrq"}},289:function(e,t,n){},290:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},352:function(e,t,n){},356:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){},364:function(e,t,n){},365:function(e,t,n){},366:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},374:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);n(276),n(277);var r=n(72),a=n(24),c=n(1),i=n.n(c),o=n(32),s=n.n(o),l=n(42),u=n(31),d=n(48),j="#681DA8",b="rgba(0, 0, 0, .38)",f="#F5F5F5",h=(n(285),n(413)),p=n(430),O=n(39),m=(n(286),n(60)),v=n(23),x=Object(v.createAction)("@auth/UPDATE_AUTH_CONFIG")(),g=Object(v.createAction)("@auth/CREATE_USER_REQUEST")(),y=Object(v.createAction)("@auth/CREATE_USER_SUCCESS")(),w=Object(v.createAction)("@auth/UPDATE_USER_REQUEST")(),C=Object(v.createAction)("@auth/UPDATE_USER_SUCCESS")(),N=Object(v.createAction)("@auth/SET_USER_DISABLED_REQUEST")(),k=Object(v.createAction)("@auth/SET_USER_DISABLED_SUCCESS")(),S=Object(v.createAction)("@auth/DELETE_USER_REQUEST")(),_=Object(v.createAction)("@auth/DELETE_USER_SUCCESS")(),E=Object(v.createAction)("@auth/UPDATE_FILTER")(),A=Object(v.createAction)("@auth/NUKE_USERS_REQUEST")(),D=Object(v.createAction)("@auth/NUKE_USERS_SUCCESS")(),R=Object(v.createAction)("@auth/AUTH_FETCH_USERS_REQUEST")(),T=Object(v.createAction)("@auth/AUTH_FETCH_USERS_SUCCESS")(),I=Object(v.createAction)("@auth/AUTH_FETCH_USERS_ERROR")(),F=Object(v.createAction)("@auth/SET_ALLOW_DUPLICATE_EMAILS_REQUEST")(),L=Object(v.createAction)("@auth/SET_ALLOW_DUPLICATE_EMAILS_SUCCESS")(),P=Object(v.createAction)("@auth/GET_ALLOW_DUPLICATE_EMAILS_REQUEST")(),U=(Object(v.createAction)("@auth/GET_ALLOW_DUPLICATE_EMAILS_SUCCESS")(),Object(v.createAction)("@auth/SET_AUTH_USER_DIALOG_DATA")()),M=Object(v.createAction)("@auth/SET_AUTH_USER_DIALOG_DATA_LOADING")(),q=Object(v.createAction)("@auth/SET_AUTH_USER_DIALOG_DATA_ERRORS")(),B=Object(v.createAction)("@auth/CLEAR_AUTH_USER_DIALOG_DATA")(),V=n(8),W=n(5),z=n.n(W),H=n(11),G=n(7),K=n(52),J=n(219),Q=n(0),Z=i.a.createContext(void 0),Y="/api/config";function $(e){var t=Object(c.useState)((function(){return{oldData:e,deferred:se()}})),n=Object(G.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){if(e!==r.oldData){var t=r.deferred;a({oldData:e,deferred:se()}),t.resolve(e)}}),[e,r,a]),r.deferred.promise}var X=function(e){var t=e.refreshInterval,n=e.children,r=Object(K.a)(Y,ie,{refreshInterval:t,refreshWhenOffline:!0,onErrorRetry:function(e,n,r,a,c){var i=c.retryCount;i<2?setTimeout((function(){return a({retryCount:i})}),t):Object(K.b)(Y,null,!0)}}).data,a=$(r);return Object(Q.jsx)(Z.Provider,{value:{config:r,promise:a},children:n})};function ee(){var e=i.a.useContext(Z);if(void 0===e)throw new Error("useConfig must be used within a <EmulatorConfigProvider>");if(void 0===e.config)throw e.promise;if(null==e.config)throw e.promise;return e.config}function te(e){var t=ee()[e],n=$(t);if(void 0===t)throw n;return t}function ne(e){var t=re();return void 0!==t&&(null===t||!(!e||t[e]))}function re(){var e=i.a.useContext(Z);if(void 0===e)throw new Error("useConfigOptional must be used within a <EmulatorConfigProvider>");return e.config}function ae(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(H.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Got HTTP status code ".concat(n.status));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(H.a)(z.a.mark((function e(t){var n,r,a,c,i,o,s,l,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:r=e.sent,a={projectId:r.projectId},c=0,i=Object.entries(r);case 5:if(!(c<i.length)){e.next=14;break}if(o=Object(G.a)(i[c],2),s=o[0],l=o[1],"projectId"!==s){e.next=9;break}return e.abrupt("continue",11);case 9:u=le(l.host),a[s]=Object(V.a)(Object(V.a)({},l),{},{host:u,hostAndPort:Object(J.hostAndPort)(u,l.port)});case 11:c++,e.next=5;break;case 14:return(null===(n=a.firestore)||void 0===n?void 0:n.webSocketHost)&&(a.firestore.webSocketHost=le(a.firestore.webSocketHost)),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){var e;return{promise:new Promise((function(t){e=t})),resolve:e}}function le(e){return"0.0.0.0"===e?(e=window.location.hostname)&&"localhost"!==e||(e="127.0.0.1"):"::"===e&&((e=window.location.hostname)&&"localhost"!==e||(e="::1")),e}n(289);var ue=n(27),de=n(9),je=n(51),be=n(20),fe=we(Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Q.jsxs)("g",{fill:"none",children:[Object(Q.jsx)("path",{d:"M0 0h192v192H0z"}),Object(Q.jsx)("path",{d:"M96 104l-72 32v-32l72-32 72 32v28-6 10zm0-88l72 32v32L96 48 24 80V48zm27 116l36 16-63 28v-32z",fill:"currentColor",fillRule:"evenodd"})]})})),he=we(Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(Q.jsx)("path",{d:"M10.8 7.79999C10.8 9.45684 9.45681 10.8 7.79995 10.8C6.1431 10.8 4.79995 9.45684 4.79995 7.79999C4.79995 6.14313 6.1431 4.79999 7.79995 4.79999C9.45681 4.79999 10.8 6.14313 10.8 7.79999ZM1.19995 16.68V19.2H14.4V16.68C14.4 14.2745 11.445 13.2 7.79995 13.2C4.15487 13.2 1.19995 14.2745 1.19995 16.68ZM16.2 10.8C17.8568 10.8 19.2 9.45684 19.2 7.79999C19.2 6.14313 17.8568 4.79999 16.2 4.79999C14.5431 4.79999 13.2 6.14313 13.2 7.79999C13.2 9.45684 14.5431 10.8 16.2 10.8ZM22.8 19.2H15.6V16.68C15.6 15.25 14.9331 14.1526 13.7752 13.3811C14.5258 13.2593 15.3439 13.2 16.2 13.2C19.845 13.2 22.8 14.2745 22.8 16.68V19.2Z",fill:"currentColor",fillRule:"evenodd"})})),pe=we(Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Q.jsxs)("g",{fill:"none",children:[Object(Q.jsx)("path",{d:"M0 0h192v192H0z"}),Object(Q.jsx)("path",{d:"M24 120h144v32.016c0 8.832-7.144 15.984-15.96 15.984H39.96C31.144 168 24 160.816 24 152.016zm0-80.064C24 31.136 31.144 24 39.96 24h112.08c8.816 0 15.96 7.2 15.96 15.936v56.128c0 8.8-7.144 15.936-15.96 15.936H39.96C31.144 112 24 104.8 24 96.064zM40 40h112v24H40zm0 44.04C40 81.8 41.712 80 44.04 80h7.92C54.2 80 56 81.712 56 84.04v7.92C56 94.2 54.288 96 51.96 96h-7.92C41.8 96 40 94.288 40 91.96zm0 56c0-2.24 1.712-4.04 4.04-4.04h7.92c2.24 0 4.04 1.712 4.04 4.04v7.92c0 2.24-1.712 4.04-4.04 4.04h-7.92c-2.24 0-4.04-1.712-4.04-4.04z",fill:"currentColor",fillRule:"evenodd"})]})})),Oe=we(Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Q.jsxs)("g",{fill:"none",children:[Object(Q.jsx)("path",{d:"M0 0h192v192H0z"}),Object(Q.jsx)("path",{d:"M160.056 134.048v-76.08l-26.944-26.944 16.952-16.96L184 48v86.16l-.056.032v9.832l-33.904 33.912L133.112 161zm-128.112-.024l26.944 26.952-16.952 16.96L8 144V57.84l.056-.032v-9.832L41.96 14.064 58.888 31 31.944 57.952v76.08zm28.064-26c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032z",fill:"currentColor",fillRule:"evenodd"})]})})),me=we(Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Q.jsx)("path",{d:"M96 16c-44.16 0-80 35.84-80 80s35.84 80 80 80 80-35.84 80-80-35.84-80-80-80zm-8 143.44c-31.6-3.92-56-30.8-56-63.44 0-4.96.64-9.68 1.68-14.32L72 120v8c0 8.8 7.2 16 16 16zm55.2-20.32c-2.08-6.48-8-11.12-15.2-11.12h-8v-24c0-4.4-3.6-8-8-8H64V80h16c4.4 0 8-3.6 8-8V56h16c8.8 0 16-7.2 16-16v-3.28c23.44 9.52 40 32.48 40 59.28 0 16.64-6.4 31.76-16.8 43.12z",fillRule:"evenodd",fill:"currentColor"})})),ve=we(Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Q.jsx)("path",{fill:"currentColor",d:"M80 32H32c-8.8 0-15.92 7.2-15.92 16L16 144c0 8.8 7.2 16 16 16h128c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H96zm11.6 93.68L117.328 96 152 136H48l26-32z"})})),xe=we(Object(Q.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(Q.jsxs)("g",{children:[Object(Q.jsx)("path",{d:"M19.83,9.7a1.72,1.72,0,1,0-2.36-.63A1.73,1.73,0,0,0,19.83,9.7Z",fill:"currentColor"}),Object(Q.jsx)("path",{d:"M4.17,9.7a1.72,1.72,0,1,0-.63-2.35A1.72,1.72,0,0,0,4.17,9.7Z",fill:"currentColor"}),Object(Q.jsx)("circle",{cx:"12",cy:"20.28",r:"1.72",fill:"currentColor"}),Object(Q.jsx)("path",{d:"M20.06,14.36a2.19,2.19,0,0,0-2.46.19l-2.9-1.68a2.67,2.67,0,0,0,.08-.64,2.77,2.77,0,0,0-2-2.65V6.22a2.19,2.19,0,1,0-1.6,0V9.58a2.77,2.77,0,0,0-2,2.65,2.67,2.67,0,0,0,.08.64L6.4,14.55a2.2,2.2,0,1,0,.79,1.38l2.9-1.68a2.75,2.75,0,0,0,3.82,0l2.9,1.68a2.18,2.18,0,1,0,3.25-1.57Z",fill:"currentColor"})]})})),ge=we(Object(Q.jsxs)("svg",{viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Q.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 37C28.9411 37 37 28.9411 37 19C37 9.05887 28.9411 1 19 1C9.05887 1 1 9.05887 1 19C1 28.9411 9.05887 37 19 37Z",fill:"white",stroke:"black",strokeOpacity:"0.12"}),Object(Q.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 22H28V26.002C28.0005 26.5315 27.7906 27.0396 27.4164 27.4143C27.0423 27.7891 26.5345 27.9997 26.005 28H11.995C10.8929 27.9978 10.0005 27.1041 10 26.002V22ZM10 11.992C10 10.892 10.893 10 11.995 10H26.005C27.107 10 28 10.9 28 11.992V19.008C28 20.108 27.107 21 26.005 21H11.995C10.893 21 10 20.1 10 19.008V11.992ZM12 12H26V15H12V12ZM12 17.505C12 17.225 12.214 17 12.505 17H13.495C13.775 17 14 17.214 14 17.505V18.495C14 18.775 13.786 19 13.495 19H12.505C12.3704 19.0022 12.2407 18.9497 12.1455 18.8545C12.0503 18.7593 11.9978 18.6296 12 18.495V17.505ZM12 24.505C12 24.225 12.214 24 12.505 24H13.495C13.775 24 14 24.214 14 24.505V25.495C14 25.775 13.786 26 13.495 26H12.505C12.3704 26.0022 12.2407 25.9497 12.1455 25.8545C12.0503 25.7593 11.9978 25.6296 12 25.495V24.505Z",fill:"currentColor"})]})),ye=we(Object(Q.jsx)("svg",{viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Q.jsx)("path",{d:"M2.99998 13C2.99998 13.3667 3.29998 13.6667 3.66665 13.6667H6.33331C6.69998 13.6667 6.99998 13.3667 6.99998 13V12.3334H2.99998V13ZM4.99998 0.333374C2.42665 0.333374 0.333313 2.42671 0.333313 5.00004C0.333313 6.58671 1.12665 7.98004 2.33331 8.82671V10.3334C2.33331 10.7 2.63331 11 2.99998 11H6.99998C7.36665 11 7.66665 10.7 7.66665 10.3334V8.82671C8.87331 7.98004 9.66665 6.58671 9.66665 5.00004C9.66665 2.42671 7.57331 0.333374 4.99998 0.333374ZM6.89998 7.73337L6.33331 8.13337V9.66671H3.66665V8.13337L3.09998 7.73337C2.65831 7.42718 2.29727 7.01867 2.04768 6.54271C1.79809 6.06675 1.66736 5.53747 1.66665 5.00004C1.66665 3.16004 3.15998 1.66671 4.99998 1.66671C6.83998 1.66671 8.33331 3.16004 8.33331 5.00004C8.33331 6.08671 7.79998 7.10671 6.89998 7.73337Z",fill:"currentColor"})}));function we(e){return function(t){var n=t.size,r=void 0===n?"small":n,a=Object(je.a)(t,["size"]);return Object(Q.jsx)(be.a,Object(V.a)({icon:{strategy:"component",size:r,icon:e}},a))}}var Ce=function(e){var t=e.productName;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(O.b,{desktop:2,tablet:0,phone:0}),Object(Q.jsx)(O.b,{span:8,align:"middle",children:Object(Q.jsxs)(ue.a,{className:"EmulatorDisabled",children:[Object(Q.jsx)("div",{className:"EmulatorDisabled-graphics",children:Object(Q.jsx)("img",{src:"/assets/img/database.png",alt:""})}),Object(Q.jsxs)("div",{className:"EmulatorDisabled-description",children:[Object(Q.jsxs)(de.a,{use:"headline6",tag:"h3",children:["The ",t," Emulator is currently not running."]}),Object(Q.jsxs)(de.a,{use:"body1",tag:"p",children:["If you are not using ",t," in your testing, everything is fine. If you want to use ",t," in your testing, then the best way to set it up and start it is to run the following command to initialize the ",t," Emulator:"," ",Object(Q.jsx)("code",{children:"firebase init emulators"}),". Followed by:"," ",Object(Q.jsx)("code",{children:"firebase emulators:start"}),"."]}),Object(Q.jsx)(de.a,{use:"body1",tag:"p",children:Object(Q.jsxs)("a",{href:"https://firebase.google.com/docs/emulator-suite/install_and_configure#configure_emulator_suite",children:[Object(Q.jsx)(ye,{size:"xsmall"})," Learn more"]})})]})]})})]})},Ne=function(e){var t=e.productName;return Object(Q.jsxs)("div",{className:"EmulatorDisabled",children:[Object(Q.jsx)("div",{className:"EmulatorDisabled-graphics",children:Object(Q.jsx)("img",{src:"/assets/img/database.png",alt:""})}),Object(Q.jsxs)("div",{className:"EmulatorDisabled-description",children:[Object(Q.jsxs)(de.a,{use:"headline6",tag:"h3",children:["Please update your ",t," Emulator."]}),Object(Q.jsxs)(de.a,{use:"body1",tag:"p",children:["This feature requires the latest ",t," Emulator. Please"," ",Object(Q.jsx)("a",{href:"https://firebase.google.com/docs/cli#update-cli",children:"upgrade your Firebase CLI"})," ","to the latest version and refresh this page."]})]})]})},ke=(n(290),n(144)),Se=n(28),_e=n.n(Se),Ee=function(e){var t=e.message,n=e.size,r=e.span,a=e.cover,c=e.scrim,i=Object(je.a)(e,["message","size","span","cover","scrim"]),o=Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ke.a,{size:null!==n&&void 0!==n?n:"xlarge"}),t&&Object(Q.jsx)(de.a,{use:"body2",tag:"p",children:t})]});return void 0===r?Object(Q.jsx)("div",Object(V.a)(Object(V.a)({className:_e()("Spinner",{cover:a,scrim:c})},i),{},{children:o})):Object(Q.jsx)(O.b,Object(V.a)(Object(V.a)({span:r,align:"middle",className:"Spinner"},i),{},{children:o}))},Ae=n(25),De=n(90),Re=n(22),Te=n(58),Ie=n(15),Fe=n(35);n(221);function Le(e){return void 0!==e&&"error"in e}function Pe(e,t){if(void 0!==e)return"error"in e?e:{data:t(e.data)}}function Ue(e,t){return{loading:e.loading,result:Pe(e.result,t)}}function Me(e){return{loading:!1,result:{data:e}}}function qe(e,t){return function(e,t){return void 0===e?t.onNone():Le(e)?t.onError(e.error):t.onData(e.data)}(e.result,{onNone:function(){return t.onNone(e.loading)},onData:function(n){return t.onData(n,e.loading)},onError:function(n){return t.onError(n,e.loading)}})}var Be=Object(v.createReducer)({users:{loading:!0},filter:"",allowDuplicateEmails:!1}).handleAction(y,Object(Fe.a)((function(e,t){var n=t.payload;e.users=Ue(e.users,(function(e){return[].concat(Object(Ie.a)(e),[n.user])}))}))).handleAction(C,Object(Fe.a)((function(e,t){var n=t.payload;e.users=Ue(e.users,(function(e){return e.map((function(e){return e.localId===n.user.localId?n.user:e}))}))}))).handleAction(D,Object(Fe.a)((function(e){e.users=Ue(e.users,(function(){return[]}))}))).handleAction(L,Object(Fe.a)((function(e,t){var n=t.payload;e.allowDuplicateEmails=n}))).handleAction(k,Object(Fe.a)((function(e,t){var n=t.payload;e.users=Ue(e.users,(function(e){return e.map((function(e){return e.localId===n.localId?Object(V.a)(Object(V.a)({},e),{},{disabled:n.disabled}):e}))}))}))).handleAction(_,Object(Fe.a)((function(e,t){var n=t.payload;e.users=Ue(e.users,(function(e){return e.filter((function(e){return e.localId!==n.localId}))}))}))).handleAction(E,Object(Fe.a)((function(e,t){var n=t.payload.filter;e.filter=n}))).handleAction(U,Object(Fe.a)((function(e,t){var n=t.payload;e.authUserDialogData=n}))).handleAction(M,Object(Fe.a)((function(e,t){var n=t.payload;e.authUserDialogData&&(e.authUserDialogData.loading=n)}))).handleAction(q,Object(Fe.a)((function(e,t){var n=t.payload;e.authUserDialogData&&e.authUserDialogData.result&&(e.authUserDialogData.result.error=n)}))).handleAction(B,Object(Fe.a)((function(e){e.authUserDialogData=void 0}))).handleAction(T,Object(Fe.a)((function(e,t){var n=t.payload;e.users={loading:!1,result:{data:n}}}))).handleAction(I,Object(Fe.a)((function(e,t){var n=t.payload;e.users={loading:!1,result:{error:n}}}))),Ve=n(17),We=n(62),ze=n(73),He=n(88),Ge=n(95),Ke=n(66),Je=n(161);var Qe=function(e){Object(He.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(Ke.a)(e);if(t()){var a=Object(Ke.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(Ge.a)(this,n)}}(n);function n(e,r,a){var c;return Object(We.a)(this,n),(c=t.call(this,e)).response=r,c.json=a,c}return n}(Object(Je.a)(Error)),Ze=function(){function e(){Object(We.a)(this,e)}return Object(ze.a)(e,[{key:"getToken",value:function(){return{accessToken:"owner"}}},{key:"jsonRequest",value:function(){var e=Object(H.a)(z.a.mark((function e(t,n){var r,a,c,i,o,s,l=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:"GET",a=l.length>3&&void 0!==l[3]?l[3]:{"Content-Type":"application/json"},c=this.getToken(),i=c.accessToken,e.next=5,fetch(t,{method:r,body:JSON.stringify(n),headers:Object(V.a)({Authorization:"Bearer "+i},a)});case 5:return o=e.sent,e.next=8,o.json();case 8:if(s=e.sent,!(o.status>=400&&o.status<600)){e.next=11;break}throw new Qe(s.error.message,o,s);case 11:return e.abrupt("return",{res:o,json:s});case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteRequest",value:function(){var e=Object(H.a)(z.a.mark((function e(t){var n,r,a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getToken(),r=n.accessToken,e.next=3,fetch(t,{method:"DELETE",headers:{Authorization:"Bearer "+r}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,!(a.status>=400&&a.status<600)){e.next=9;break}throw new Qe(c.error.message,a,c);case 9:return e.abrupt("return",{res:a,json:c});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"patchRequest",value:function(){var e=Object(H.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.jsonRequest(t,n,"PATCH"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"postFile",value:function(){var e=Object(H.a)(z.a.mark((function e(t,n){var r,a,c,i,o,s,l=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:"POST",a=Ye(n),c=this.getToken(),i=c.accessToken,a.append("auth",i),e.next=6,fetch(t,{method:r,body:a});case 6:return o=e.sent,e.next=9,o.text();case 9:if(s=e.sent,!(o.status>=400&&o.status<600)){e.next=12;break}throw new Qe(s,o);case 12:return e.abrupt("return",{res:o,text:s});case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ye(e){var t=new FormData;return t.append("upload",e),t}var $e=function(e){var t,n=null===(t=e.passwordHash)||void 0===t?void 0:t.match(et);return Object(V.a)(Object(V.a)({password:n?n[1]:""},e),{},{providerUserInfo:e.providerUserInfo||[]})},Xe=function(e){Object(He.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(Ke.a)(e);if(t()){var a=Object(Ke.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(Ge.a)(this,n)}}(n);function n(e,r){var a;return Object(We.a)(this,n),(a=t.call(this)).hostAndPort=e,a.projectId=r,a.baseUrl="http://".concat(a.hostAndPort,"/identitytoolkit.googleapis.com/v1/projects/").concat(a.projectId),a.baseEmulatorUrl="http://".concat(a.hostAndPort,"/emulator/v1/projects/").concat(a.projectId),a}return Object(ze.a)(n,[{key:"nukeUsers",value:function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deleteRequest("".concat(this.baseEmulatorUrl,"/accounts"));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(H.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:query"),{},"POST");case 2:return t=e.sent,n=t.json,e.abrupt("return",n.userInfo.map($e));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUser",value:function(){var e=Object(H.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:lookup"),{localId:[t]},"POST");case 2:if(n=e.sent,(r=n.json).users&&r.users.length){e.next=6;break}throw new Error('User "'.concat(t,'" not found in Project "').concat(this.projectId,'"!'));case 6:return e.abrupt("return",$e(r.users[0]));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(H.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts"),Object(V.a)({},t),"POST");case 2:return n=e.sent,r=n.json,e.abrupt("return",this.fetchUser(r.localId));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateConfig",value:function(){var e=Object(H.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.patchRequest("".concat(this.baseEmulatorUrl,"/config"),{signIn:{allowDuplicateEmails:t}});case 2:return n=e.sent,r=n.json,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){var e=Object(H.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseEmulatorUrl,"/config"));case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,n=t.signIn,e.abrupt("return",n.allowDuplicateEmails);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(H.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:update"),t,"POST");case 2:return n=e.sent,r=n.json,e.abrupt("return",this.fetchUser(r.localId));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:delete"),t,"POST");case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ze),et=/^fakeHash:salt=[\w\d]+:password=(.*)$/,tt=z.a.mark(jt),nt=z.a.mark(ft),rt=z.a.mark(ht),at=z.a.mark(pt),ct=z.a.mark(Ot),it=z.a.mark(mt),ot=z.a.mark(vt),st=z.a.mark(xt),lt=z.a.mark(gt),ut=z.a.mark(yt),dt=z.a.mark(wt);function jt(){var e,t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Re.b)(yt);case 2:return e=n.sent,n.prev=3,n.next=6,Object(Re.b)([e,"fetchUsers"]);case 6:return t=n.sent,n.next=9,Object(Re.e)(T(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(3),n.next=15,Object(Re.e)(I({message:"Error when fetching users"}));case 15:case"end":return n.stop()}}),tt,null,[[3,11]])}var bt="AUTH_API_CONTEXT";function ft(e){var t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.payload){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,Object(Re.f)(Object(Ve.a)({},bt,new Xe(t.auth.hostAndPort,t.projectId)));case 5:return n.next=7,Object(Re.a)([Object(Re.g)(Object(v.getType)(R),jt),Object(Re.g)(Object(v.getType)(g),pt),Object(Re.g)(Object(v.getType)(A),gt),Object(Re.g)(Object(v.getType)(S),ht),Object(Re.g)(Object(v.getType)(w),Ot),Object(Re.g)(Object(v.getType)(N),mt),Object(Re.g)(Object(v.getType)(F),vt),Object(Re.g)(Object(v.getType)(P),xt),Object(Re.e)(R()),Object(Re.e)(P())]);case 7:case"end":return n.stop()}}),nt)}function ht(e){var t,n;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Re.b)(yt);case 3:return n=r.sent,r.next=6,Object(Re.b)([n,"deleteUser"],{localId:t.localId});case 6:return r.next=8,Object(Re.e)(_({localId:t.localId}));case 8:case"end":return r.stop()}}),rt)}function pt(e){var t,n,r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Re.b)(yt);case 3:return n=a.sent,a.prev=4,a.next=7,Object(Re.e)(M(!0));case 7:return a.next=9,Object(Re.b)([n,"createUser"],t.user);case 9:if(r=a.sent,!t.user.customAttributes){a.next=14;break}return a.next=13,Object(Re.b)([n,"updateUser"],{localId:r.localId,customAttributes:t.user.customAttributes});case 13:r=a.sent;case 14:return a.next=16,Object(Re.e)(y({user:r}));case 16:if(t.keepDialogOpen){a.next=19;break}return a.next=19,Object(Re.e)(B());case 19:a.next=25;break;case 21:return a.prev=21,a.t0=a.catch(4),a.next=25,Object(Re.e)(q(a.t0.message));case 25:return a.prev=25,a.next=28,Object(Re.e)(M(!1));case 28:return a.finish(25);case 29:case"end":return a.stop()}}),at,null,[[4,21,25,29]])}function Ot(e){var t,n,r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Re.b)(yt);case 3:return n=a.sent,a.prev=4,a.next=7,Object(Re.e)(M(!0));case 7:return a.next=9,Object(Re.b)([n,"updateUser"],Object(V.a)(Object(V.a)({},t.user),{},{localId:t.localId}));case 9:return r=a.sent,a.next=12,Object(Re.e)(C({user:r}));case 12:return a.next=14,Object(Re.e)(B());case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(4),a.next=20,Object(Re.e)(q(a.t0.message));case 20:return a.prev=20,a.next=23,Object(Re.e)(M(!1));case 23:return a.finish(20);case 24:case"end":return a.stop()}}),ct,null,[[4,16,20,24]])}function mt(e){var t,n;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Re.b)(yt);case 3:return n=r.sent,r.next=6,Object(Re.b)([n,"updateUser"],{disableUser:t.disabled,localId:t.localId});case 6:return r.next=8,Object(Re.e)(k(t));case 8:case"end":return r.stop()}}),it)}function vt(e){var t,n;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(Re.b)(yt);case 3:return n=r.sent,r.next=6,Object(Re.b)([n,"updateConfig"],t);case 6:return r.next=8,Object(Re.e)(L(t));case 8:case"end":return r.stop()}}),ot)}function xt(){var e,t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Re.b)(yt);case 2:return e=n.sent,n.next=5,Object(Re.b)([e,"getConfig"]);case 5:return t=n.sent,n.next=8,Object(Re.e)(L(t));case 8:case"end":return n.stop()}}),st)}function gt(){var e;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Re.b)(yt);case 2:return e=t.sent,t.next=5,Object(Re.b)([e,"nukeUsers"]);case 5:return t.next=7,Object(Re.e)(D());case 7:case"end":return t.stop()}}),lt)}function yt(){var e;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Re.d)(bt);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),ut)}function wt(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.g)(Object(v.getType)(x),ft);case 2:case"end":return e.stop()}}),dt)}var Ct=z.a.mark(Nt);function Nt(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.a)([Object(Re.c)(wt)]);case 2:case"end":return e.stop()}}),Ct)}var kt=Object(De.b)({auth:Be});function St(e){return Te.b(e)}var _t,Et,At=function(e){return e.auth},Dt=Object(Te.a)(At,(function(e){return e.users})),Rt=Object(Te.a)(At,(function(e){return e.authUserDialogData})),Tt=Object(Te.a)(Rt,(function(e){return e&&(void 0!==(t=e.result)&&"data"in t)?e.result.data:void 0;var t})),It=Object(Te.a)(Tt,(function(e){return!!e})),Ft=(Object(Te.a)(Dt,(function(e){return e.result})),Object(Te.a)(Dt,(function(e){return Object(Ie.a)((t=e,n=[],qe(t,{onNone:function(){return n},onData:function(e){return e},onError:function(){return n}}))).sort((function(e,t){return Number(new Date(t.createdAt))-Number(new Date(e.createdAt||0))}));var t,n}))),Lt=Object(Te.a)(Ft,(function(e){return new Set(e.map((function(e){return e.email})).filter((function(e){return!!e})))})),Pt=Object(Te.a)(Ft,(function(e){return new Set(e.map((function(e){return e.phoneNumber})).filter((function(e){return!!e})))})),Ut=Object(Te.a)(Ft,(function(e){return e.length>0})),Mt=Object(Te.a)(At,(function(e){return e.filter})),qt=Object(Te.a)(At,(function(e){return e.allowDuplicateEmails})),Bt=Object(Te.a)(Ft,Mt,(function(e,t){return t?e.filter((function(e){return[e.localId,e.displayName,e.email||"",e.phoneNumber||""].join("\n").toLocaleUpperCase().includes(t.toLocaleUpperCase())})):e})),Vt=Object(Te.a)(Ft,(function(e){return 0===e.length})),Wt=Object(Te.a)(Ft,Bt,(function(e,t){return e.length>0&&0===t.length})),zt=Object(Te.a)(Ft,Bt,(function(e,t){return t.length>0})),Ht=n(222),Gt=n.n(Ht),Kt=n(250),Jt=n(115),Qt=n(223),Zt=n.n(Qt),Yt=St({allowDuplicateEmails:qt}),$t=Object(l.b)(Yt,(function(e){return{setAllowDuplicateEmails:function(t){return e(F(t))}}}))((function(e){var t=e.allowDuplicateEmails,n=e.onClose,r=e.setAllowDuplicateEmails,a=i.a.useState(t),c=Object(G.a)(a,2),o=c[0],s=c[1];return Object(Q.jsxs)(Kt.a,{renderToPortal:!0,open:!0,onClose:n,children:[Object(Q.jsx)(Kt.e,{children:"Account email address settings"}),Object(Q.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(o),n()},children:[Object(Q.jsxs)(Kt.d,{children:[Object(Q.jsx)(de.a,{use:"body2",className:Zt.a.description,children:"This setting either prevents or allows users to create multiple accounts using the same email address if they sign in to your app using different authentication providers."}),Object(Q.jsx)(Jt.a,{value:"false",checked:!o,onChange:function(){return s(!1)},onClick:function(){return s(!1)},children:"Prevent creation of multiple accounts with the same email address"}),Object(Q.jsx)(Jt.a,{value:"true",checked:o,onChange:function(){return s(!0)},onClick:function(){return s(!0)},children:"Allow creation of multiple accounts with the same email address"})]}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{type:"submit",unelevated:!0,children:"Save"})]})]})]})})),Xt=St({allowDuplicateEmails:qt}),en=Object(l.b)(Xt)((function(e){var t=e.allowDuplicateEmails,n=Object(c.useState)(!1),r=Object(G.a)(n,2),a=r[0],i=r[1];return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(ue.a,{className:Gt.a.wrapper,children:[t?Object(Q.jsxs)("div",{children:[Object(Q.jsx)(de.a,{use:"headline6",tag:"div",theme:"textPrimaryOnBackground",children:"Multiple accounts per email address"}),Object(Q.jsxs)(de.a,{use:"body2",theme:"textPrimaryOnBackground",children:["Allowing users to create multiple accounts for authentication providers that use the same email address."," ",Object(Q.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.google.com/firebase/answer/6400716",children:"Learn more"})]})]}):Object(Q.jsxs)("div",{children:[Object(Q.jsx)(de.a,{use:"headline6",tag:"div",theme:"textPrimaryOnBackground",children:"One account per email address"}),Object(Q.jsx)(de.a,{use:"body2",theme:"textPrimaryOnBackground",children:"Preventing users from creating multiple accounts using the same email address with different authentication providers."})]}),Object(Q.jsx)("div",{children:Object(Q.jsx)(Ae.a,{outlined:!0,onClick:function(){return i(!0)},children:"Change"})})]}),a&&Object(Q.jsx)($t,{onClose:function(){return i(!1)}})]})})),tn={background:"#f3e5f5",primary:j,primaryRgb:"104, 29, 168",textIconOnBackground:j,textPrimaryOnBackground:j,textSecondaryOnBackground:"rgba(".concat(j,", 0.7)")},nn="#00796b",rn="#00695c",an={background:"#e0f2f1",primary:nn,primaryRgb:"0, 121, 107",textIconOnBackground:nn,textPrimaryOnBackground:rn,textSecondaryOnBackground:"rgba(".concat(rn,", 0.7)")},cn="#476282",on="#1b3a57",sn={background:"#e5eaf0",primary:cn,primaryRgb:"71, 98, 130",textIconOnBackground:cn,textPrimaryOnBackground:on,textSecondaryOnBackground:"rgba(".concat(on,", 0.7)")},ln="#ff8f00",un="#bf360c",dn={background:"#fff3e0",primary:ln,primaryRgb:"255, 143, 0",onPrimary:"white",textIconOnBackground:ln,textPrimaryOnBackground:un,textSecondaryOnBackground:"rgba(".concat(un,", 0.7)")},jn="#d32f2f",bn="#c62828",fn={background:"#fbe9e7",primary:jn,primaryRgb:"211, 47, 47",textIconOnBackground:jn,textPrimaryOnBackground:bn,textSecondaryOnBackground:"rgba(".concat(bn,", 0.7)")};!function(e){e.CAUTION="caution",e.NOTE="note",e.SUCCESS="success",e.TIP="tip",e.WARNING="warning"}(Et||(Et={}));var hn,pn=(_t={},Object(Ve.a)(_t,Et.CAUTION,dn),Object(Ve.a)(_t,Et.NOTE,sn),Object(Ve.a)(_t,Et.SUCCESS,an),Object(Ve.a)(_t,Et.TIP,tn),Object(Ve.a)(_t,Et.WARNING,fn),_t),On=function(e){var t=e.use,n=e.wrap,r=e.children;return Object(Q.jsx)(a.b,{options:pn[t],wrap:n,children:r})},mn=(n(292),hn={},Object(Ve.a)(hn,Et.CAUTION,"error"),Object(Ve.a)(hn,Et.NOTE,"info"),Object(Ve.a)(hn,Et.SUCCESS,"check_circle"),Object(Ve.a)(hn,Et.TIP,"star"),Object(Ve.a)(hn,Et.WARNING,"warning"),hn),vn=function(e){var t=e.children,n=e.actions,r=e.icon,c=e.aside,i=e.type,o=void 0===i?Et.NOTE:i,s=r||mn[o],l=c?" Callout-aside":"",u="Callout Callout-".concat(o).concat(l);return Object(Q.jsx)(On,{use:o,wrap:!0,children:Object(Q.jsxs)(a.a,{className:u,use:c?[]:["onPrimary","primaryBg"],tag:"div",children:[Object(Q.jsx)("div",{className:"Callout-body",children:Object(Q.jsxs)("div",{className:"Callout-message",children:[s&&Object(Q.jsx)(be.a,{icon:s,"aria-hidden":"true",className:"Callout-icon"}),Object(Q.jsx)(de.a,{use:"subtitle2",children:t})]})}),Object(Q.jsx)(a.b,{wrap:!0,options:c?{}:{primary:"#fff"},children:Object(Q.jsx)("div",{className:"Callout-actions",children:n})})]})})},xn=Object(p.b)(),gn=xn.dialogs,yn=(xn.alert,xn.confirm),wn=(xn.prompt,n(226)),Cn=n.n(wn),Nn=St({hasUsers:Ut}),kn=Object(l.b)(Nn,(function(e){return{clearAllData:function(){return e(A())}}}))((function(e){var t=e.hasUsers,n=e.clearAllData;return Object(Q.jsx)(Q.Fragment,{children:t&&Object(Q.jsx)("div",{className:Cn.a.clearAllButton,children:Object(Q.jsx)(On,{use:"warning",wrap:!0,children:Object(Q.jsx)(Ae.a,{unelevated:!0,onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn({title:"Clear all data",body:Object(Q.jsx)("div",{className:"Firestore--dialog-body",children:Object(Q.jsx)(vn,{aside:!0,type:"warning",children:"This will delete all users"})}),acceptLabel:null,cancelLabel:null,footer:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})});case 2:if(!e.sent){e.next=4;break}n();case 4:case"end":return e.stop()}}),e)}))),children:"Clear all data"})})})})})),Sn=n(34),_n=(n(199),n(225)),En=n(158),An=n(75),Dn=function(e){var t=e.fieldClassName,n=e.label,r=(e.fullwidth,e.outlined,e.tip),a=e.error,i=Object(je.a)(e,["fieldClassName","label","fullwidth","outlined","tip","error"]),o=Object(c.useState)(Object(_n.a)("field")),s=Object(G.a)(o,1)[0],l=Object(c.useState)(Object(_n.a)("field-subtext")),u=Object(G.a)(l,1)[0];return Object(Q.jsxs)("div",{className:_e()("Field",t),children:[Object(Q.jsx)(de.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:s,children:n}),Object(Q.jsx)(An.a,Object(V.a)(Object(V.a)({outlined:!0,"aria-describedby":u,invalid:!!a,"aria-invalid":!!a},i),{},{tag:"div",id:s})),Object(Q.jsx)("div",{className:"Field-subtext",id:u,children:a?Object(Q.jsx)(de.a,{className:"Field-tip",role:"alert",use:"body2",theme:"error",children:a}):r&&Object(Q.jsx)(de.a,{className:"Field-tip",use:"body2",theme:"secondary",children:r})})]})},Rn=function(e){var t=e.fieldClassName,n=e.label,r=(e.outlined,e.tip),a=(e.theme,e.error),i=Object(je.a)(e,["fieldClassName","label","outlined","tip","theme","error"]),o=Object(c.useState)(Object(_n.a)()),s=Object(G.a)(o,1)[0];return Object(Q.jsxs)("div",{className:_e()("Field",t),children:[Object(Q.jsx)(de.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:s,children:n}),Object(Q.jsx)(En.a,Object(V.a)(Object(V.a)({outlined:!0},i),{},{id:s})),Object(Q.jsx)("div",{className:"Field-subtext",children:a?Object(Q.jsx)(de.a,{className:"Field-tip",use:"body2",theme:"error",children:a}):r&&Object(Q.jsx)(de.a,{className:"Field-tip",use:"body2",theme:"secondary",children:r})})]})},Tn=n(70),In=n.n(Tn);function Fn(e,t){if(!e)throw new Error(t)}var Ln=Error;function Pn(e){var t;Fn(e.length<=1e3,"CLAIMS_TOO_LARGE");try{t=JSON.parse(e)}catch(n){throw new Ln("INVALID_CLAIMS")}!function(e){Fn("object"===typeof e&&null!=e&&!Array.isArray(e),"INVALID_CLAIMS");var t=!0,n=!1,r=void 0;try{for(var a,c=Un[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var i=a.value;Fn(!(i in e),"FORBIDDEN_CLAIM : ".concat(i))}}catch(o){n=!0,r=o}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}}(t)}var Un=["iss","aud","sub","iat","exp","nbf","jti","nonce","azp","acr","amr","cnf","auth_time","firebase","at_hash","c_hash"];function Mn(e){if(""===e)return!0;try{return Pn(e),!0}catch(n){if("INVALID_CLAIMS"===n.message)return"Custom claims must be a valid JSON object";if("CLAIMS_TOO_LARGE"===n.message)return"Custom claims length must not exceed 1000 characters";var t=n.message.match(/FORBIDDEN_CLAIM : (\w+)$/);if(t&&t[1])return"Custom claims must not have forbidden key: "+t[1]}}var qn,Bn="customAttributes",Vn=function(e){var t,n=e.errors,r=e.register,a=Object(Q.jsx)("label",{children:Object(Q.jsx)(de.a,{use:"subtitle2",tag:"div",theme:"textPrimaryOnBackground",children:"Custom claims (optional)"})});return Object(Q.jsxs)("div",{className:In.a.customAttributesWrapper,children:[Object(Q.jsx)(Dn,{inputRef:r({validate:Mn}),error:null===(t=n.customAttributes)||void 0===t?void 0:t.message,name:Bn,label:a,textarea:!0,placeholder:'Enter valid json, e.g. {"role":"admin"}'}),Object(Q.jsxs)(de.a,{use:"body2",children:["These custom key:value attributes can be used with Rules to implement various access control strategies (e.g. based on roles)."," ",Object(Q.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/auth/admin/custom-claims",children:"Learn more"})]})]})},Wn=n(185),zn=n.n(Wn);!function(e){e.NONE="NONE",e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(qn||(qn={}));var Hn=function(e){var t=e.register,n=e.watch,r=e.triggerValidation,a=e.ImageConstructor;a=a||Image;var i=Object(c.useState)(""),o=Object(G.a)(i,2),s=o[0],l=o[1],u=Object(c.useRef)(new a),d=Object(c.useRef)(""),j=Object(c.useRef)(qn.NONE),b=n("photoUrl")||"";Object(c.useEffect)((function(){var e=u.current;return e.onload=function(){j.current===qn.LOADING&&(j.current=qn.LOADED,l(d.current),r("photoUrl"))},e.onerror=function(){j.current===qn.LOADING&&(j.current=qn.ERROR,l(""),r("photoUrl"))},function(){e.onload=null,e.onerror=null}}),[r]),Object(c.useEffect)((function(){""!==b.trim()?(j.current=qn.LOADING,d.current=b,u.current.src=b):j.current=qn.NONE,r("photoUrl")}),[b,r]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Dn,{name:"photoUrl",label:"User photo URL (optional)",placeholder:"Enter URL",error:j.current===qn.ERROR&&"Error loading image",type:"text",inputRef:t({validate:function(){return j.current===qn.LOADED||j.current===qn.NONE}})}),j.current===qn.LOADED&&Object(Q.jsx)("img",{className:zn.a.image,src:s,alt:"Profile preview"}),j.current===qn.LOADING&&Object(Q.jsx)("div",{className:zn.a.imageWrapper,"aria-busy":"true","aria-live":"polite","data-testid":"spinner",children:Object(Q.jsx)(ke.a,{size:"large"})})]})},Gn=n(415),Kn=/^[^@]+@[^@]+$/;function Jn(e){if(e.email){if("pattern"===e.email.type)return"Invalid email";if("validate"===e.email.type)return"User with this email already exists"}return e.emailpassword?"Both email and password should be present":e.password?"Password should be at least ".concat(6," characters"):void 0}var Qn=St({allEmails:Lt,isEditing:It}),Zn=Object(l.b)(Qn)((function(e){var t=e.register,n=e.watch,r=e.setError,a=e.clearError,i=e.errors,o=e.allEmails,s=e.editedUserEmail,l=e.isEditing,u=n("email"),d=n("password");return Object(c.useEffect)((function(){""===u&&""===d||""!==u&&(""!==d||l)?a("emailpassword"):r("emailpassword","both")}),[u,d,a,r,l]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(de.a,{use:"body1",tag:"div",className:In.a.authKindLabel,theme:"textPrimaryOnBackground",children:"Email authentication"}),Object(Q.jsxs)("div",{className:In.a.emailWrapper,children:[Object(Q.jsx)(Dn,{name:"email",placeholder:"Enter email",label:"Email",type:"text",inputRef:t({validate:function(e){return e===s||!o.has(e)},pattern:Kn})}),Object(Q.jsx)(Dn,{name:"password",type:"text",label:"Password",placeholder:"Enter password",inputRef:t({minLength:6})})]}),Object(Q.jsx)(de.a,{className:In.a.error,use:"body2",role:"alert",theme:"error",children:Jn(i)})]})})),Yn=/^\+/,$n=St({allPhoneNumbers:Pt}),Xn=Object(l.b)($n)((function(e){var t=e.register,n=e.errors,r=e.allPhoneNumbers,a=e.editedUserPhoneNumber;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(de.a,{use:"body1",tag:"div",className:In.a.authKindLabel,theme:"textPrimaryOnBackground",children:"Phone authentication"}),Object(Q.jsx)(Dn,{name:"phoneNumber",label:"Phone",placeholder:"Enter phone number",type:"tel",error:function(){if(n.phoneNumber){if("pattern"===n.phoneNumber.type)return'Phone number must be in international format and start with a "+"';if("validate"===n.phoneNumber.type)return"User with this phone number already exists"}}(),inputRef:t({pattern:Yn,validate:function(e){return a===e||!r.has(e)}})})]})})),er="atLeastOneMethodRequired",tr=function(e){var t=e.watch,n=e.setError,r=e.clearError,a=e.formState,i=e.errors,o=e.user,s=t("email"),l=t("password"),u=t("phoneNumber");Object(c.useEffect)((function(){""!==s||!!u?r(er):n(er)}),[s,l,r,n,u,i]);var d=a.touched.email||a.touched.phoneNumber,j=er in i&&1===Object.values(i).length;return Object(Q.jsxs)("div",{className:In.a.signInWrapper,children:[Object(Q.jsx)(Gn.a,{tag:"div"}),Object(Q.jsxs)("div",{className:In.a.signInHeader,children:[Object(Q.jsx)(de.a,{use:"body1",theme:"textPrimaryOnBackground",children:"Authentication method"}),d&&j?Object(Q.jsx)(de.a,{use:"body2",theme:"error",tag:"div",role:"alert",children:"One method is required. Please enter either an email/password or phone number."}):Object(Q.jsx)(de.a,{use:"body2",tag:"div",children:"Enter details for at least one of the following methods:"})]}),Object(Q.jsx)(Zn,Object(V.a)(Object(V.a)({},e),{},{editedUserEmail:null===o||void 0===o?void 0:o.email})),Object(Q.jsx)(Xn,Object(V.a)(Object(V.a)({},e),{},{editedUserPhoneNumber:null===o||void 0===o?void 0:o.phoneNumber}))]})},nr=St({authUserDialogData:Rt,user:Tt}),rr=Object(l.b)(nr,(function(e){return{clearAuthUserDialogData:function(){return e(B())},updateUser:function(t){return e(w(t))},createUser:function(t){return e(g(t))}}}))((function(e){var t=e.authUserDialogData,n=e.clearAuthUserDialogData,r=e.updateUser,a=e.createUser,i=e.user,o=!!i,s=null===i||void 0===i?void 0:i.localId,l=Object(Sn.d)({defaultValues:i,mode:"onChange"}),u=Object(c.useCallback)((function(e,t){o?r({user:e,localId:s}):a({user:e,keepDialogOpen:t})}),[o,r,a,s]),d=l.register,j=l.handleSubmit,b=l.formState,f=l.reset,h=l.errors,p=!(null===t||void 0===t?void 0:t.loading)&&b.isValid,O=Object(c.useCallback)((function(e){0===Object.values(h).length&&u(e)}),[h,u]);return Object(Q.jsxs)(Kt.a,{renderToPortal:!0,open:!0,onClose:n,children:[Object(Q.jsx)(Kt.e,{children:i?"Edit User ".concat(i.displayName):"Add a user"}),Object(Q.jsxs)("form",{onSubmit:j(O),"data-testid":"user-form",children:[Object(Q.jsxs)(Kt.d,{children:[Object(Q.jsx)(Dn,{name:"displayName",label:"Display name (optional)",type:"text",placeholder:"Enter display name",error:(null===h||void 0===h?void 0:h.displayName)&&"Display name is required",inputRef:d({})}),Object(Q.jsx)(Hn,Object(V.a)({},l)),Object(Q.jsx)(Vn,Object(V.a)({},l)),Object(Q.jsx)(tr,Object(V.a)(Object(V.a)({},l),{},{user:i})),Le(null===t||void 0===t?void 0:t.result)&&Object(Q.jsxs)(vn,{type:"warning",children:["Error: ",null===t||void 0===t?void 0:t.result.error]})]}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),!o&&Object(Q.jsx)(Ae.a,{onClick:j((function(e){u(e,!0),f(i)})),disabled:!p,type:"button",children:"Save and create another"}),Object(Q.jsx)(Kt.c,{disabled:!p,type:"submit",unelevated:!0,children:"Save"})]})]})]})})),ar=(n(293),function(e){var t=e.className,n=e.children;return Object(Q.jsx)(a.b,{options:{surface:f},className:_e()("CardActionBar",t),children:Object(Q.jsx)(a.a,{use:["surface"],className:"CardActionBar-container",tag:"div",children:n})})}),cr=function(e){var t=e.children;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("span",{style:{flex:"1 auto"}}),Object(Q.jsx)("div",{className:"CardActionBar-actions",children:t})]})},ir=n(127),or=n.n(ir),sr=n(186),lr=n.n(sr),ur=St({filter:Mt}),dr=Object(l.b)(ur,(function(e){return{updateFilter:function(t){return e(E(t))}}}))((function(e){var t=e.filter,n=e.updateFilter,r=function(){return n({filter:""})},a=Object(c.useRef)(null);return Object(c.useLayoutEffect)((function(){var e;""===t&&(null===(e=a.current)||void 0===e||e.focus())}),[t]),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("form",{role:"search",className:lr.a.filterForm,onSubmit:function(e){e.preventDefault()},children:Object(Q.jsx)(An.a,{onChange:function(e){n({filter:e.target.value})},placeholder:"Search by user UID, email address, phone number, or display name",value:t,"aria-label":"filter",fullwidth:!0,type:"text",inputRef:a,outlined:!1,ripple:!1,icon:"search",className:lr.a.filterTextField,trailingIcon:t&&{icon:"close",role:"button","aria-label":"clear",onClick:r,onKeyDown:function(e){e.keyCode!==or()("spacebar")&&e.keyCode!==or()("enter")||(r(),e.preventDefault())}}})})})})),jr=n(187),br=n.n(jr),fr=n(18),hr=Object(l.b)(null,(function(e){return{refresh:function(){return e(R())}}}))((function(e){var t=e.refresh;return Object(Q.jsx)(fr.a,{onClick:t,icon:"refresh",label:"Refresh",theme:"secondary"})})),pr=function(e){var t=e.onOpenNewUserDialog;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(ar,{children:[Object(Q.jsx)(dr,{}),Object(Q.jsx)("div",{className:br.a.barActions,children:Object(Q.jsxs)(cr,{children:[Object(Q.jsx)(hr,{}),Object(Q.jsx)(Ae.a,{className:br.a.addUserButton,unelevated:!0,onClick:function(){return t()},children:"Add user"})]})})]})})},Or=n(14),mr=n(427),vr=n(96),xr=n.n(vr),gr=function(){return Object(Q.jsx)(de.a,{use:"body2",className:xr.a.noResultsWrapper,theme:"textSecondaryOnBackground",children:"No users for this project yet"})},yr=function(e){return yn({title:"Delete user",body:Object(Q.jsx)("div",{className:"Firestore--dialog-body",children:Object(Q.jsxs)(vn,{aside:!0,type:"warning",children:["This will delete user with uid ",e.localId]})}),acceptLabel:null,cancelLabel:null,footer:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})})},wr=function(){return Object(Q.jsx)(de.a,{use:"body2","aria-live":"polite",theme:"textSecondaryOnBackground",className:xr.a.noResultsWrapper,children:"No results"})},Cr={"gc.apple.com":"assets/provider-icons/auth_service_game_center.svg","apple.com":"assets/provider-icons/auth_service_apple.svg","facebook.com":"assets/provider-icons/auth_service_facebook.svg","github.com":"assets/provider-icons/auth_service_github.svg","google.com":"assets/provider-icons/auth_service_google.svg","microsoft.com":"assets/provider-icons/auth_service_mslive.svg","playgames.google.com":"assets/provider-icons/auth_service_play_games.svg","twitter.com":"assets/provider-icons/auth_service_twitter.svg","yahoo.com":"assets/provider-icons/auth_service_yahoo.svg",phone:"assets/provider-icons/auth_service_phone.svg",password:"assets/provider-icons/auth_service_email.svg",oidc:"assets/provider-icons/auth_service_oidc.svg",saml:"assets/provider-icons/auth_service_saml.svg"},Nr=n(227),kr=n.n(Nr),Sr=function(e){var t=e.user;return Object(Q.jsx)(a.a,{use:"secondary",children:Object(Q.jsx)("div",{className:kr.a.iconWrapper,children:t.providerUserInfo.map((function(e){var t=e.providerId;return t.match(/^saml\./)?t="saml":t.match(/^oidc\./)&&(t="oidc"),Cr[t]&&Object(Q.jsx)(be.a,{icon:Cr[t],"aria-label":e.providerId},e.providerId)}))})})},_r=function(e){var t=e.user,n=e.onEditUser,r=e.toggleUserDisabled,a=e.onDeleteUser,i=Object(c.useState)(!1),o=Object(G.a)(i,2),s=o[0],l=o[1],u=new Date(Number(t.createdAt)).toLocaleDateString(),d=t.lastLoginAt&&new Date(Number(t.lastLoginAt)).toLocaleDateString();return Object(Q.jsxs)(Or.g,{className:t.disabled?xr.a.disabled:"",children:[Object(Q.jsx)(Or.c,{children:t.displayName||t.email||t.phoneNumber}),Object(Q.jsx)(Or.c,{children:Object(Q.jsx)(Sr,{user:t})}),Object(Q.jsx)(Or.c,{children:u}),Object(Q.jsx)(Or.c,{children:d}),Object(Q.jsx)(Or.c,{children:t.localId}),Object(Q.jsx)(Or.c,{style:{width:"20px"},children:Object(Q.jsxs)(mr.c,{open:s,onOpen:function(){return l(!0)},onClose:function(){return l(!1)},handle:Object(Q.jsx)(fr.a,{theme:"secondary",icon:"more_vert",label:"Open menu"}),renderToPortal:!0,children:[Object(Q.jsx)(mr.b,{onClick:function(){l(!1),n()},children:"Edit user"}),Object(Q.jsx)(mr.b,{onClick:function(){l(!1),r()},children:t.disabled?"Enable user":"Disable user"}),Object(Q.jsx)(mr.b,{onClick:function(){l(!1),a()},children:"Delete user"})]})})]})},Er=St({shouldShowTable:zt,shouldShowZeroResults:Wt,shouldShowZeroState:Vt,filteredUsers:Bt}),Ar=Object(l.b)(Er,(function(e){return{setUserDisabled:function(t){return e(N(t))},deleteUser:function(t){return e(S(t))},openAuthUserDialog:function(t){return e(U(t))}}}))((function(e){var t=e.filteredUsers,n=e.setUserDisabled,r=e.deleteUser,a=e.shouldShowTable,c=e.openAuthUserDialog,i=e.shouldShowZeroResults,o=e.shouldShowZeroState;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Or.a,{className:xr.a.tableWrapper,children:Object(Q.jsxs)(Or.d,{children:[Object(Q.jsx)(Or.e,{children:Object(Q.jsxs)(Or.g,{children:[Object(Q.jsx)(Or.f,{children:"Identifier"}),Object(Q.jsx)(Or.f,{children:"Provider"}),Object(Q.jsx)(Or.f,{children:"Created"}),Object(Q.jsx)(Or.f,{children:"Signed In"}),Object(Q.jsx)(Or.f,{children:"User UID"})]})}),Object(Q.jsx)(Or.b,{children:a&&t.map((function(e){return Object(Q.jsx)(_r,{user:e,onEditUser:function(){c(Me(e))},toggleUserDisabled:function(){n({localId:e.localId,disabled:!e.disabled})},onDeleteUser:Object(H.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yr(e);case 2:if(!t.sent){t.next=4;break}r(e);case 4:case"end":return t.stop()}}),t)})))},e.localId)}))})]})}),i&&Object(Q.jsx)(wr,{}),o&&Object(Q.jsx)(gr,{})]})})),Dr=St({authUserDialogData:Rt}),Rr=Object(l.b)(Dr,(function(e){return{openAuthUserDialog:function(t){return e(U(t))}}}))((function(e){var t=e.openAuthUserDialog,n=e.authUserDialogData;return Object(Q.jsxs)(ue.a,{children:[Object(Q.jsx)(pr,{onOpenNewUserDialog:function(){return t(Me(void 0))}}),Object(Q.jsx)(Ar,{}),n&&Object(Q.jsx)(rr,{})]})})),Tr=function(){return Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Fr,{}),children:Object(Q.jsx)(Ir,{})})},Ir=Object(l.b)(null,{updateAuthConfig:x})((function(e){var t=e.updateAuthConfig,n=te("auth"),r=ee().projectId;return Object(c.useEffect)((function(){t({auth:n,projectId:r})}),[n,r,t]),Object(Q.jsxs)(O.b,{span:12,className:"Auth",children:[Object(Q.jsx)(kn,{}),Object(Q.jsx)(m.a,{z:"2",wrap:!0,children:Object(Q.jsx)(Rr,{})}),Object(Q.jsx)(m.a,{z:"2",wrap:!0,children:Object(Q.jsx)(en,{})})]})})),Fr=function(){return ne("auth")?Object(Q.jsx)(Ce,{productName:"Auth"}):Object(Q.jsx)(Ee,{span:12,message:"Auth Emulator Loading..."})},Lr=(n(294),n(76)),Pr=(n(295),n(297),n(298),n(33)),Ur=n(77);function Mr(e,t){var n="http://".concat(e.hostAndPort,"/?ns=").concat(t),r=Ur.a.initializeApp({databaseURL:n},"Database Component: ".concat(n," ").concat(Math.random()));Br(r);var a=r.database();return window.database||console.log("\ud83d\udd25 Realtime Database is available at window.database.\n\n    Try:\n    database.ref().set({hello: 'world!'});\n    database.ref().once('value').then( snap => console.log(snap.val()) );"),window.database=a,[a,{cleanup:function(){return r.delete()}}]}function qr(e,t,n){var r=ee().projectId,a=Object(c.useState)(),i=Object(G.a)(a,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){if(!o){var a=Ur.a.initializeApp(Object(V.a)(Object(V.a)({},t),{},{projectId:r}),"".concat(e," component::").concat(Math.random()));Br(a),null===n||void 0===n||n(a),s(a)}return function(){o&&(s(void 0),o.delete().catch((function(){})))}}),[o,e,t,r,n]),o}function Br(e){var t="owner",n=new Pr.Component("auth-internal",(function(){return{getToken:function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{accessToken:t});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUid:function(){return null},addAuthTokenListener:function(e){e(t)},removeAuthTokenListener:function(){}}}),"PRIVATE");e._addOrOverwriteComponent(n)}n(299);var Vr=n(229),Wr=(n(300),[]),zr=function(e){var t=e.base,n=e.path,r=e.onEdit,a=e.children,c=e.homeElement,i=void 0===c?Object(Q.jsx)(fr.a,{icon:"home"}):c,o=n.startsWith("/")?n.substr(1):n,s=o?o.split("/"):Wr,l=s.reduce((function(e,n){var r=e.length?e[e.length-1]:t;return e.push("".concat(r,"/").concat(n)),e}),[]);return Object(Q.jsxs)("ul",{role:"navigation",className:"BreadCrumbs",children:[Object(Q.jsx)("li",{className:"BreadCrumbs-crumb BreadCrumbs-homeCrumb",children:Object(Q.jsx)(u.b,{to:t,children:Object(Q.jsx)(de.a,{use:"body2",theme:"secondary",children:i})})}),s.map((function(e,t){return Object(Q.jsx)("li",{className:_e()("BreadCrumbs-crumb","BreadCrumbs-link",{"BreadCrumbs-active":t===s.length-1}),children:Object(Q.jsx)(u.b,{to:l[t],children:decodeURIComponent(e)})},l[t])})),Object(Q.jsx)("li",{className:"BreadCrumbs-edit","aria-label":"Edit URL",onClick:function(){return r&&r()},children:Object(Q.jsx)(fr.a,{icon:"edit",label:"edit"})}),Object(Q.jsx)("li",{children:a})]})},Hr=function(e){var t=e.onNavigate,n=e.children,r=e.inputPrefix,a=e.path,i=Object(je.a)(e,["onNavigate","children","inputPrefix","path"]),o=Object(c.useState)(!1),s=Object(G.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(a),j=Object(G.a)(d,2),b=j[0],f=j[1];Object(c.useEffect)((function(){return f(a)}),[a]);var h=function(){u(!1),f(a)},p=Object(c.useRef)(null);return Object(Vr.a)(["Escape"],h,{eventTypes:["keypress","keydown","keyup"],target:p,when:!0}),Object(c.useLayoutEffect)((function(){p.current&&p.current.select()}),[l,p]),Object(Q.jsx)("div",{className:"InteractiveBreadCrumbBar",children:l?Object(Q.jsx)(m.a,{z:1,wrap:!0,children:Object(Q.jsxs)("form",{className:"InteractiveBreadCrumbBar-form",onSubmit:function(e){e.preventDefault();var n=b.startsWith("/")?b.substr(1):b;t(n),u(!1)},children:[r&&Object(Q.jsx)(de.a,{use:"body2",className:"InteractiveBreadCrumbBar-prefix",theme:"secondary",children:r}),Object(Q.jsx)(An.a,{"aria-label":"Document path",fullwidth:!0,className:"value",type:"text",onBlur:h,value:b,onChange:function(e){return f(e.currentTarget.value)},inputRef:p}),Object(Q.jsx)(fr.a,{label:"Cancel",type:"button",icon:"close",onClick:h,theme:"secondary"})]})}):Object(Q.jsx)(ar,{className:"top",children:Object(Q.jsx)(zr,Object(V.a)(Object(V.a)({path:a},i),{},{onEdit:function(){u(!0)},children:n}))})})};var Gr=function(e){Object(He.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(Ke.a)(e);if(t()){var a=Object(Ke.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(Ge.a)(this,n)}}(n);function n(e,r){var a;Object(We.a)(this,n),(a=t.call(this)).namespace=r,a.baseUrl=void 0,a.cleanup=void 0,a.database=void 0;var c=Mr(e,a.namespace),i=Object(G.a)(c,2),o=i[0],s=i[1].cleanup;return a.database=o,a.cleanup=s,a.baseUrl="http://".concat(e.hostAndPort),a}return Object(ze.a)(n,[{key:"delete",value:function(){return this.cleanup()}},{key:"importFile",value:function(){var e=Object(H.a)(z.a.mark((function e(t,n){var r,a,c,i=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},a=new URLSearchParams({ns:this.namespace,access_token:"owner",writeSizeLimit:"unlimited"}),r.disableTriggers&&a.set("disableTriggers","true"),c=Kr(t)+"?".concat(a.toString()),e.next=6,this.postFile("".concat(this.baseUrl,"/").concat(c),n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Ze);function Kr(e){var t=new URL(e.toString()).pathname.replace(/^\//,"").replace(/\/$/,"");return""!==t&&(t+="/"),t+=".upload"}var Jr,Qr=n(79),Zr=(n(303),function(e){var t=e.label,n=e.tip,r=e.error,a=e.onFiles,i=e.value,o=e.accept,s=Object(c.useState)(Object(_n.a)()),l=Object(G.a)(s,1)[0],u=Object(Lr.a)({onDrop:a,accept:o}),d=u.isDragActive,j=u.getRootProps,b=u.getInputProps,f=u.isDragReject;return Object(Q.jsxs)("div",{className:"Field",children:[Object(Q.jsx)(de.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:l,children:t}),Object(Q.jsxs)("div",Object(V.a)(Object(V.a)({className:"Field-filename"},j()),{},{"data-testid":"dropzone",children:[Object(Q.jsx)("input",Object(V.a)({},b({id:l}))),Object(Q.jsx)(de.a,{use:"body2",theme:"secondary",children:d?f?"File type is not accepted":"Drop file(s) here":i}),Object(Q.jsx)(Ae.a,{type:"button",children:"Browse"})]})),Object(Q.jsx)("div",{className:"Field-subtext",children:r?Object(Q.jsx)(de.a,{className:"Field-tip",use:"body2",theme:"error",role:"alert",children:r}):n&&Object(Q.jsx)(de.a,{className:"Field-tip",use:"body2",theme:"secondary",children:n})})]})}),Yr=n(231),$r=n.n(Yr),Xr=function(e){var t=e.api,n=e.reference,r=e.onComplete,a=e.droppedFile,i=!!ee().functions,o=Object(c.useState)(a),s=Object(G.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(!1),j=Object(G.a)(d,2),b=j[0],f=j[1],h=Object(c.useState)(!1),p=Object(G.a)(h,2),O=p[0],m=p[1],v=Object(c.useState)(),x=Object(G.a)(v,2),g=x[0],y=x[1],w=function(){var e=Object(H.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!l){e.next=13;break}return e.prev=2,m(!0),e.next=6,t.importFile(n,l,{disableTriggers:!i||!b});case 6:r(n,l),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),y(e.t0.message);case 12:m(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),C=new URL(n.toString()).pathname;return Object(Q.jsxs)(Kt.a,{renderToPortal:!0,open:!0,onClose:function(){return r()},children:[Object(Q.jsxs)("form",{onSubmit:w,className:$r.a.container,children:[Object(Q.jsx)(Kt.e,{children:"Import JSON"}),Object(Q.jsxs)(Kt.d,{onSubmit:w,children:[Object(Q.jsx)(vn,{aside:!0,type:"warning",children:"All data at this location will be overwritten"}),Object(Q.jsx)(Dn,{disabled:!0,name:"location",label:"Data location",value:C,type:"text"}),Object(Q.jsx)(Zr,{name:"file",accept:"application/json",label:"Data (JSON)",required:!0,value:(null===l||void 0===l?void 0:l.name)||"Drop a file, or click to select",onFiles:function(e){return u(e[0])},error:g}),i&&Object(Q.jsx)("div",{children:Object(Q.jsx)(Qr.a,{label:"Also execute database triggers in the Functions emulator",checked:b,onChange:function(e){f(e.currentTarget.checked)}})})]}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{type:"submit",unelevated:!0,children:"Import"})]})]}),O&&Object(Q.jsx)(Ee,{cover:!0,scrim:!0,message:"Importing..."})]})},ea=n(251),ta=n(418),na=n(232),ra=n(113),aa=n(38),ca=n(416),ia=n(417),oa=n(419),sa=n(420),la=n(421),ua=n(154),da=50,ja={limit:da};function ba(e){try{return JSON.parse(e)}catch(t){return e}}function fa(e){return e.database.app.options.databaseURL}!function(e){e.Table="table",e.TreeView="tree"}(Jr||(Jr={}));var ha=[],pa={Authorization:"Bearer owner"};function Oa(e,t){var n=new ea.a(1);n.next({limit:da});var r=n.pipe(Object(ca.a)((function(n){return t.pipe(Object(ia.a)((function(t){return t?function(e,t){var n;return function(e){return Object(ra.a)(e.once("value"))}(e).pipe(Object(ca.a)((function(r){return r.hasChildren()?ma(n=va(e,t)):ma(e)})),Object(ua.a)((function(e){return{value:e.hasChildren()?void 0:e.val(),children:e.hasChildren()?Object.keys(e.val()):ha,isRealtime:!0,isLoading:!1,query:n}})))}(e,n):function(e,t){return function(e,t){var n=function(e){var t=e.key,n=e.operator,r=e.value,a=e.limit,c={orderBy:t,limitToFirst:"".concat(a||da)};if(t&&n&&r)switch(n){case"==":c.equalTo=r;break;case"<=":c.endAt=r;break;case">=":c.startAt=r}return c}(t),r=xa(e,Object(V.a)(Object(V.a)({},n),{},{shallow:"true"}));return Object(ta.a)((function(){return fetch(r,{headers:pa})})).pipe(Object(ua.a)((function(e){return e.json()})),Object(ua.a)((function(e){return Object.keys(e)})))}(e,t).pipe(Object(ua.a)((function(e){return{children:e,isLoading:!1,isRealtime:!1}})))}(e,n)})))})));return{query:n,viewModel$:r}}function ma(e){return new aa.a((function(t){var n=e.on("value",(function(e){return t.next(e)}));return function(){return e.off("value",n)}}))}function va(e,t){var n=t.key,r=t.operator,a=t.value,c=t.limit;if(null!=n&&null!=r&&null!=a){var i=e.orderByChild(n).limitToFirst(c||da);switch(r){case"==":return i.equalTo(a);case"<=":return i.endAt(a);case">=":return i.startAt(a)}}return e.limitToFirst(c||da)}function xa(e,t){var n=fa(e);if(n.indexOf("?ns=")>=0){var r=n.split("?ns=")[1];t=Object(V.a)(Object(V.a)({},t),{},{ns:r})}var a=Object.entries(t).filter((function(e){var t=Object(G.a)(e,2);t[0];return!!t[1]})).map((function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&");return"".concat(e.toString(),".json?").concat(a)}n(304);var ga,ya=n(46),wa=(n(305),n(423));n(306);function Ca(e){return"=="===e.operator||"!="===e.operator||">"===e.operator||">="===e.operator||"<="===e.operator||"<"===e.operator||"array-contains"===e.operator}function Na(e){return"in"===e.operator||"not-in"===e.operator||"array-contains-any"===e.operator}function ka(e){return!e.operator||">"===e.operator||">="===e.operator||"<="===e.operator||"<"===e.operator}!function(e){e.ARRAY="array",e.BLOB="blob",e.BOOLEAN="boolean",e.GEOPOINT="geopoint",e.JSON="json",e.MAP="map",e.NULL="null",e.NUMBER="number",e.REFERENCE="reference",e.STRING="string",e.TIMESTAMP="timestamp"}(ga||(ga={}));var Sa=n(47),_a=n(82),Ea=n.n(_a),Aa=/^-?([\d]*\.?\d+|Infinity|NaN)$/;function Da(e){return e.slice(0,e.length-1)}function Ra(e){if(!e.length)throw new Error("".concat(e," is empty and has no _last_ field name"));return e[e.length-1]}function Ta(e){return null===e?ga.NULL:e instanceof Sa.a.firestore.Timestamp?ga.TIMESTAMP:e instanceof Array?ga.ARRAY:e instanceof Sa.a.firestore.DocumentReference?ga.REFERENCE:e instanceof Sa.a.firestore.GeoPoint?ga.GEOPOINT:e instanceof Sa.a.firestore.Blob?ga.BLOB:"object"===typeof e?ga.MAP:typeof e}function Ia(e){return"boolean"===typeof e}function Fa(e){return e instanceof Sa.a.firestore.Timestamp}function La(e){return"number"===typeof e}function Pa(e){return Ta(e)===ga.MAP}function Ua(e){return Ta(e)===ga.ARRAY}function Ma(e){return!Pa(e)&&!Ua(e)}var qa=Object(Fe.a)((function(e,t,n){var r=Ea()(e,Da(t))||e;if(Pa(r))r[Ra(t)]=n;else{if(!Ua(r))return n;r[Number(Ra(t))]=n}})),Ba=Object(Fe.a)((function(e,t){var n=Ea()(e,Da(t))||e;Pa(n)?delete n[Ra(t)]:Ua(n)&&n.splice(Number(Ra(t)),1)}));function Va(e,t){switch(Ta(e)){case ga.ARRAY:return za(e,t,Va);case ga.MAP:return Ha(e,t,Va);case ga.BLOB:var n=e.toBase64();return n.length<t?n:n.substr(0,t)+"...";case ga.BOOLEAN:return e.toString();case ga.GEOPOINT:var r=e;return Ga(r.latitude,r.longitude);case ga.NULL:return"null";case ga.NUMBER:return e.toString();case ga.REFERENCE:return e.path;case ga.STRING:return'"'.concat(e,'"');case ga.TIMESTAMP:return Wa(e.toDate(),t);case ga.JSON:throw new Error("JSON field type is input only")}}function Wa(e,t){return e.toString()}function za(e,t,n){var r="[",a=!0,c=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;if(r.length>1&&(r+=", "),r.length>t){r+="...";break}r+=n(l,t-r.length)}}catch(u){c=!0,i=u}finally{try{a||null==s.return||s.return()}finally{if(c)throw i}}return r+="]"}function Ha(e,t,n){var r="{",a=!0,c=!1,i=void 0;try{for(var o,s=Object.entries(e).sort((function(e,t){return Ka(e[0],t[0])}))[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=Object(G.a)(o.value,2),u=l[0],d=l[1];if(r.length>1&&(r+=", "),r.length>t){r+="...";break}r+="".concat(u,": ").concat(n(d,t-r.length))}}catch(j){c=!0,i=j}finally{try{a||null==s.return||s.return()}finally{if(c)throw i}}return r+="}"}function Ga(e,t){return"[".concat((r=e,"".concat(Math.abs(r),"\xb0 ").concat(r>=0?"N":"S")),", ").concat((n=t,"".concat(Math.abs(n),"\xb0 ").concat(n>=0?"E":"W")),"]");var n,r}function Ka(e,t){return e.localeCompare(t)}var Ja=Object(v.createAction)("@document/addToMap")(),Qa=Object(v.createAction)("@document/addToArray")(),Za=Object(v.createAction)("@document/removeFromMap")(),Ya=Object(v.createAction)("@document/removeFromArray")(),$a=Object(v.createAction)("@document/updateName")(),Xa=Object(v.createAction)("@document/updateType")(),ec=Object(v.createAction)("@document/updateValue")(),tc=function(e){var t=e.value,n=e.onChange;return Object(Q.jsx)(Rn,{label:"Value",value:t.toString(),options:["true","false"],onChange:function(e){n("true"===e.currentTarget.value)}})},nc=function(e){var t,n,r=e.name,a=e.value,i=e.onChange,o=Object(c.useState)(String(a.latitude)),s=Object(G.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(String(a.longitude)),j=Object(G.a)(d,2),b=j[0],f=j[1],h=Object(Sn.e)(),p=h.errors,O=h.formState.touched,m=h.register,v=h.unregister,x=h.setValue,g="".concat(r,"-lat"),y="".concat(r,"-long");return Object(c.useEffect)((function(){return m(g,{required:"Required",min:{value:-90,message:"Must be >= -90"},max:{value:90,message:"Must be <= -90"}}),m(y,{required:"Required",min:{value:-180,message:"Must be >= -180"},max:{value:180,message:"Must be <= -180"}}),function(){return v([g,y])}}),[m,v,g,y]),Object(c.useEffect)((function(){var e=Number(l),t=Number(b);if(a.latitude!==e||a.longitude!==t)try{var n=new Sa.a.firestore.GeoPoint(e,t);i(n)}catch(r){}}),[a,l,b,i]),Object(Q.jsxs)("div",{className:"FieldEditor-geo-point",children:[Object(Q.jsx)(Dn,{label:"Latitude",type:"number",step:"any",defaultValue:l,onChange:function(e){x(g,e.currentTarget.value,!0),u(e.currentTarget.value)},error:O[g]&&(null===(t=p[g])||void 0===t?void 0:t.message)}),Object(Q.jsx)(Dn,{label:"Longitude",type:"number",step:"any",defaultValue:b,onChange:function(e){x(y,e.currentTarget.value,!0),f(e.currentTarget.value)},error:O[y]&&(null===(n=p[y])||void 0===n?void 0:n.message)})]})},rc=function(e){var t,n=e.value,r=e.onChange,a=e.name,i=Object(c.useState)(JSON.stringify(n)),o=Object(G.a)(i,1)[0],s=Object(Sn.e)(),l=s.errors,u=s.formState.touched,d=s.register,j=s.unregister,b=s.setValue,f=s.triggerValidation;function h(){return(h=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:if(!e.sent){e.next=4;break}r(JSON.parse(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return d(a,{validate:function(e){try{return JSON.parse(e),!0}catch(t){return"Must be valid JSON"}}}),function(){return j(a)}}),[d,j,a]),Object(Q.jsx)(Dn,{label:"JSON",defaultValue:o,onChange:function(e){b(a,e.currentTarget.value),function(e){h.apply(this,arguments)}(e.currentTarget.value)},error:u[a]&&(null===(t=l[a])||void 0===t?void 0:t.message)})},ac=function(e){var t,n=e.value,r=e.onChange,a=e.name,i=Object(Sn.e)(),o=i.errors,s=i.formState.touched,l=i.register,u=i.unregister,d=i.setValue,j=i.triggerValidation;function b(){return(b=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a);case 2:if(!e.sent){e.next=4;break}r(parseFloat(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return l(a,{required:"Required",pattern:{value:Aa,message:"Must be a number"}}),function(){return u(a)}}),[l,u,a]),Object(Q.jsx)(Dn,{label:"Value",defaultValue:n,onChange:function(e){d(a,e.currentTarget.value),function(e){b.apply(this,arguments)}(e.currentTarget.value)},error:s[a]&&(null===(t=o[a])||void 0===t?void 0:t.message)})},cc=n(45),ic=function e(t){Object(We.a)(this,e),this.path=t};function oc(e){return!sc(e)&&!function(e){return Ma(e)||e instanceof ic}(e)}function sc(e){return e instanceof Array}function lc(e){return"mapChildren"in e}function uc(e){return"arrayChildren"in e}function dc(e){return"isJson"in e}function jc(e){if(void 0===e.uuid)throw new Error("Store has no root")}function bc(e){if(!lc(e))throw new Error("Field is not a map")}function fc(e){if(!uc(e))throw new Error("Field is not an array")}var hc=function(e){var t,n=e.value,r=e.onChange,a=e.name,i=Object(c.useState)(n.path),o=Object(G.a)(i,1)[0],s=Object(cc.b)(),l=Object(Sn.e)(),u=l.errors,d=l.formState.touched,j=l.register,b=l.unregister,f=l.setValue,h=l.triggerValidation;function p(){return(p=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(a);case 2:if(!e.sent){e.next=4;break}r(new ic(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return j(a,{validate:function(e){try{return s.doc(e),!0}catch(t){return"Must point to a document"}}}),function(){return b(a)}}),[j,b,a,s]),Object(Q.jsx)(Dn,{label:"Document path",defaultValue:o,onChange:function(e){f(a,e.currentTarget.value),function(e){p.apply(this,arguments)}(e.currentTarget.value)},error:d[a]&&(null===(t=u[a])||void 0===t?void 0:t.message)})},pc=0;function Oc(){return pc++}function mc(e){return oc(e)?function(e){var t=Oc(),n=Object.entries(e).reduce((function(e,t){var n=e.mapChildren,r=e.fields,a=Object(G.a)(t,2),c=a[0],i=mc(a[1]);return jc(i),n.push({uuid:Oc(),name:c,valueId:i.uuid}),{mapChildren:n,fields:Object(V.a)(Object(V.a)({},r),i.fields)}}),{mapChildren:[],fields:{}});return{uuid:t,fields:Object(V.a)(Object(V.a)({},n.fields),{},Object(Ve.a)({},t,{mapChildren:n.mapChildren}))}}(e):sc(e)?function(e){var t=Oc(),n=e.reduce((function(e,t){var n=e.arrayChildren,r=e.fields,a=mc(t);return jc(a),n.push({uuid:Oc(),valueId:a.uuid}),{arrayChildren:n,fields:Object(V.a)(Object(V.a)({},r),a.fields)}}),{arrayChildren:[],fields:{}});return{uuid:t,fields:Object(V.a)(Object(V.a)({},n.fields),{},Object(Ve.a)({},t,{arrayChildren:n.arrayChildren}))}}(e):function(e){var t=Oc();return e instanceof Sa.a.firestore.DocumentReference?{uuid:t,fields:Object(Ve.a)({},t,{value:new ic(e.path)})}:{uuid:t,fields:Object(Ve.a)({},t,{value:e})}}(e)}function vc(e,t){jc(e);var n=e.fields[e.uuid];if(lc(n))return n.mapChildren.reduce((function(n,r){return n[r.name]=vc({uuid:r.valueId,fields:e.fields},t),n}),{});if(uc(n))return n.arrayChildren.reduce((function(n,r){return n.push(vc({uuid:r.valueId,fields:e.fields},t)),n}),[]);if(n.value instanceof ic){if(!t)return"";try{return t.doc(n.value.path)}catch(r){return""}}return n.value}function xc(e){switch(e){case ga.BLOB:return"";case ga.BOOLEAN:return!0;case ga.GEOPOINT:return new Sa.a.firestore.GeoPoint(0,0);case ga.NULL:return null;case ga.NUMBER:return 0;case ga.REFERENCE:return new ic("");case ga.STRING:return"";case ga.TIMESTAMP:return Sa.a.firestore.Timestamp.fromDate(new Date)}return""}function gc(e,t){return t.reduce((function(t,n){t.push(n);var r=e[n];return lc(r)?t.push.apply(t,Object(Ie.a)(gc(e,r.mapChildren.map((function(e){return e.valueId}))))):uc(r)&&t.push.apply(t,Object(Ie.a)(gc(e,r.arrayChildren.map((function(e){return e.valueId}))))),t}),[])}var yc=c.createContext({store:{fields:{}},dispatch:function(){}}),wc=Object(v.createReducer)({fields:{}}).handleAction(Ja,Object(Fe.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];bc(r);var a=mc(n.value);jc(a),e.fields=Object(V.a)(Object(V.a)({},e.fields),a.fields),r.mapChildren.push({uuid:Oc(),name:n.name,valueId:a.uuid})}))).handleAction(Qa,Object(Fe.a)((function(e,t){var n=t.payload;fc(e.fields[n.uuid]);var r=mc(n.value);jc(r),e.fields=Object(V.a)(Object(V.a)({},e.fields),r.fields),e.fields[n.uuid].arrayChildren.push({uuid:Oc(),valueId:r.uuid})}))).handleAction(Za,Object(Fe.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];bc(r);var a=r.mapChildren.find((function(e){return e.uuid===n.childId}));if(!a)throw new Error("No map-child found with given ID");var c=!0,i=!1,o=void 0;try{for(var s,l=gc(e.fields,[a.valueId])[Symbol.iterator]();!(c=(s=l.next()).done);c=!0){var u=s.value;delete e.fields[u]}}catch(d){i=!0,o=d}finally{try{c||null==l.return||l.return()}finally{if(i)throw o}}r.mapChildren=r.mapChildren.filter((function(e){return e.uuid!==n.childId}))}))).handleAction(Ya,Object(Fe.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];fc(r);var a=r.arrayChildren.find((function(e){return e.uuid===n.childId}));if(!a)throw new Error("No array-child found with given ID");var c=!0,i=!1,o=void 0;try{for(var s,l=gc(e.fields,[a.valueId])[Symbol.iterator]();!(c=(s=l.next()).done);c=!0){var u=s.value;delete e.fields[u]}}catch(d){i=!0,o=d}finally{try{c||null==l.return||l.return()}finally{if(i)throw o}}r.arrayChildren=r.arrayChildren.filter((function(e){return e.uuid!==n.childId}))}))).handleAction($a,Object(Fe.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];bc(r);var a=r.mapChildren.find((function(e){return e.uuid===n.childId}));if(!a)throw new Error("No map-child found with given ID");a.name=n.name}))).handleAction(Xa,Object(Fe.a)((function(e,t){var n=t.payload;n.type===ga.MAP?e.fields[n.uuid]={mapChildren:[]}:n.type===ga.ARRAY?e.fields[n.uuid]={arrayChildren:[]}:n.type===ga.JSON?e.fields[n.uuid]={isJson:!0,value:{}}:e.fields[n.uuid]={value:xc(n.type)}}))).handleAction(ec,Object(Fe.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];!function(e){if(!("value"in e))throw new Error("Field is not primitive")}(r),r.value=n.value}))),Cc=function(e,t){return wc.handlers[t.type](e,t)},Nc=function(e){var t=e.store,n=e.dispatch,r=e.children;return Object(Q.jsx)(yc.Provider,{value:{store:t,dispatch:n},children:r})};function kc(){var e=c.useContext(yc);if(void 0===e)throw new Error("useDocumentStore must be used within a <DocumentStore>");return e}function Sc(){var e=kc().store;return c.useMemo((function(){return e}),[e])}function _c(){var e=kc().dispatch;return c.useMemo((function(){return e}),[e])}function Ec(e){var t=Sc();return c.useMemo((function(){return t.fields[e]}),[t,e])}var Ac=function(e){var t=e.value,n=e.onChange;return Object(Q.jsx)(Dn,{value:t,outlined:!0,label:"Value",onChange:function(e){return n(e.currentTarget.value)}})};function Dc(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"T").concat(a,":").concat(c,":").concat(i)}var Rc=function(e){var t,n=e.value,r=e.onChange,a=e.name,i=Object(c.useState)(n.toDate()),o=Object(G.a)(i,2),s=o[0],l=o[1],u=Object(Sn.e)(),d=u.errors,j=u.formState.touched,b=u.register,f=u.unregister,h=u.setValue;return Object(c.useEffect)((function(){return b(a,{validate:function(e){return!isNaN(e)||"Must be a date-time"}}),function(){return f(a)}}),[b,f,a]),Object(c.useEffect)((function(){n.toMillis()!==s.getTime()&&r(Sa.a.firestore.Timestamp.fromDate(s))}),[n,s,r]),Object(Q.jsx)(Dn,{label:"Value",type:"datetime-local",defaultValue:Dc(s),onChange:function(e){var t=Date.parse(e.currentTarget.value);h(a,t,!0),isNaN(t)||t===s.getTime()||l(new Date(t))},error:j[a]&&(null===(t=d[a])||void 0===t?void 0:t.message)})},Tc=[ga.STRING,ga.NUMBER,ga.BOOLEAN,ga.MAP,ga.ARRAY,ga.NULL,ga.TIMESTAMP,ga.GEOPOINT,ga.REFERENCE],Ic=Tc.filter((function(e){return e!==ga.ARRAY})),Fc=[ga.STRING,ga.NUMBER,ga.BOOLEAN,ga.MAP,ga.ARRAY,ga.JSON],Lc=new Set(Tc);var Pc=function e(t){var n=t.uuid,r=t.isRtdb,a=t.areNamesMutable,c=void 0===a||a,i=t.areFieldsMutable,o=void 0===i||i,s=t.startingIndex,l=void 0===s?0:s,u=t.supportNestedArrays,d=void 0===u||u,j=t.isJson,b=void 0!==j&&j,f=Sc(),h=_c(),p=Ec(n);if(lc(p)){var O=r?Fc:Tc;return Object(Q.jsx)("div",{className:"DocumentEditor-Map",children:Object(Q.jsxs)("div",{className:"DocumentEditor-MapEntries",children:[p.mapChildren.map((function(t){return Object(Q.jsxs)("div",{className:"DocumentEditor-MapEntry",children:[Object(Q.jsxs)("div",{className:"DocumentEditor-MapEntryMetadata",children:[Object(Q.jsx)(Mc,{uuid:n,field:p,childId:t.uuid,readonly:!c&&n===f.uuid}),Object(Q.jsx)("span",{className:"Document-TypeSymbol",children:"="}),Object(Q.jsx)(Uc,{uuid:t.valueId,allowedTypes:O})]}),Object(Q.jsx)(e,{uuid:t.valueId,isRtdb:r,isJson:b}),o&&Object(Q.jsx)(fr.a,{className:"DocumentEditor-MapEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:function(){return h(Za({uuid:n,childId:t.uuid}))}})]},t.uuid)})),o&&Object(Q.jsx)(fr.a,{label:"Add field",type:"button",icon:"add",onClick:function(){return h(Ja({uuid:n,name:"",value:""}))}})]})})}if(uc(p)){var m=r?Fc:d?Tc:Ic;return Object(Q.jsx)("div",{className:"DocumentEditor-Array",children:Object(Q.jsxs)("div",{className:"DocumentEditor-ArrayEntries",children:[p.arrayChildren.map((function(t,a){return Object(Q.jsxs)("div",{className:"DocumentEditor-ArrayEntry",children:[Object(Q.jsxs)("div",{className:"DocumentEditor-ArrayEntryMetadata",children:[Object(Q.jsx)("div",{className:"DocumentEditor-ArrayIndex",children:Object(Q.jsx)(Dn,{value:a+l,label:"Index",disabled:!0})}),Object(Q.jsx)("span",{className:"Document-TypeSymbol",children:"="}),Object(Q.jsx)(Uc,{uuid:t.valueId,allowedTypes:m})]}),Object(Q.jsx)(e,{uuid:t.valueId,isRtdb:r}),o&&Object(Q.jsx)(fr.a,{className:"DocumentEditor-ArrayEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:function(){return h(Ya({uuid:n,childId:t.uuid}))}})]},t.uuid)})),o&&Object(Q.jsx)(fr.a,{label:"Add field",type:"button",icon:"add",onClick:function(){return h(Qa({uuid:n,value:""}))}})]})})}if(dc(p))return Object(Q.jsx)(rc,{name:"".concat(n),value:p.value,onChange:function(e){return h(ec({uuid:n,value:e}))}});var v=p.value instanceof ic?Object(Q.jsx)(hc,{name:"".concat(n),value:p.value,onChange:function(e){return h(ec({uuid:n,value:e}))}}):"string"===typeof p.value?Object(Q.jsx)(Ac,{value:p.value,onChange:function(e){return h(ec({uuid:n,value:e}))}}):Ia(p.value)?Object(Q.jsx)(tc,{value:p.value,onChange:function(e){return h(ec({uuid:n,value:e}))}}):La(p.value)?Object(Q.jsx)(ac,{name:"".concat(n),value:p.value,onChange:function(e){return h(ec({uuid:n,value:e}))}}):function(e){return e instanceof Sa.a.firestore.GeoPoint}(p.value)?Object(Q.jsx)(nc,{name:"".concat(n),value:p.value,onChange:function(e){return h(ec({uuid:n,value:e}))}}):Fa(p.value)?Object(Q.jsx)(Rc,{name:"".concat(n),value:p.value,onChange:function(e){return h(ec({uuid:n,value:e}))}}):null;return Object(Q.jsx)("div",{className:"DocumentEditor-Primitive",children:v})},Uc=function(e){var t=e.uuid,n=e.allowedTypes,r=Ec(t),a=_c();return Object(Q.jsx)(Rn,{label:"Type",outlined:!0,options:n,value:qc(r),onChange:function(e){a(Xa({uuid:t,type:e.currentTarget.value}))}})},Mc=function(e){var t,n,r=e.uuid,a=e.field,o=e.childId,s=e.readonly,l=Object(Sn.e)(),u=l.register,d=l.unregister,j=l.errors,b=l.clearError,f=l.setValue,h=l.setError,p=l.formState.touched,O=_c(),m=a.mapChildren.find((function(e){return e.uuid===o}));if(!m)throw new Error("Tried to render a name-edtior for a non-map-child");var v="".concat(o),x=i.a.useMemo((function(){return a.mapChildren.filter((function(e){return e.uuid!==o})).map((function(e){return e.name}))}),[a,o]);return Object(c.useEffect)((function(){return u(v),function(){return d(v)}}),[u,d,v]),Object(c.useEffect)((function(){var e=x.every((function(e){return e!==m.name}));m.name?e?b(v):h(v,"unique","Must be unique"):h(v,"required","Required")}),[m,x,v,h,b]),Object(Q.jsx)(Dn,{label:"Field",outlined:!0,value:m.name,disabled:s,onChange:function(e){f(v,e.currentTarget.value),O($a({uuid:r,childId:o,name:e.currentTarget.value}))},error:(p[v]||"unique"===(null===(t=j[v])||void 0===t?void 0:t.type))&&(null===(n=j[v])||void 0===n?void 0:n.message)})};function qc(e){return lc(e)?ga.MAP:uc(e)?ga.ARRAY:dc(e)?ga.JSON:e.value instanceof ic?ga.REFERENCE:Ta(e.value)}var Bc=function(e){var t=e.value,n=e.onChange,r=e.areRootNamesMutable,a=e.areRootFieldsMutable,o=e.rtdb,s=void 0!==o&&o,l=e.startingIndex,u=e.supportNestedArrays,d=e.firestore,j=mc(t),b=i.a.useReducer(Cc,j),f=Object(G.a)(b,2),h=f[0],p=f[1],O=Object(Sn.d)({mode:"onChange"}),m=i.a.useMemo((function(){return vc(h,d)}),[h,d]),v=i.a.useMemo((function(){return Object.keys(O.errors).length}),[O]);return Object(c.useEffect)((function(){0===v?n&&n(m):n&&n(void 0)}),[m,v,n]),Object(Q.jsx)(Sn.b,Object(V.a)(Object(V.a)({},O),{},{children:Object(Q.jsx)(Nc,{store:h,dispatch:p,children:Object(Q.jsx)("div",{className:"DocumentEditor",children:Object(Q.jsx)(Q.Fragment,{children:void 0!==h.uuid&&Object(Q.jsx)(Pc,{uuid:h.uuid,isRtdb:s,areNamesMutable:r,areFieldsMutable:a,startingIndex:l,supportNestedArrays:u})})})})}))},Vc=function(e){var t=e.value,n=e.onCancel,r=e.onSave,a=e.areRootKeysMutable,i=e.rtdb,o=e.startingIndex,s=e.firestore,l=Object(c.useState)(),u=Object(G.a)(l,2),d=u[0],j=u[1];function b(){n()}return Object(Q.jsx)(wa.a,{className:"Firestore-InlineEditor-relative-anchor",onClickOutside:b,onEscapeKey:b,scrollLock:!1,children:Object(Q.jsx)(m.a,{z:8,wrap:!0,children:Object(Q.jsxs)(ue.a,{className:"Firestore-InlineEditor",tag:"form",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),d&&r(Object.keys(d)[0],Object.values(d)[0])},children:[Object(Q.jsx)("div",{className:"Firestore-InlineEditorContent",children:Object(Q.jsx)(Bc,{value:t,onChange:function(e){j(e)},areRootNamesMutable:a,areRootFieldsMutable:!1,rtdb:i,startingIndex:o,supportNestedArrays:!1,firestore:s})}),Object(Q.jsx)(ue.e,{className:"Firestore-InlineEditorActions",children:Object(Q.jsxs)(ue.c,{children:[Object(Q.jsx)(ue.b,{type:"button",onClick:b,children:"Cancel"}),Object(Q.jsx)(ue.b,{type:"submit",unelevated:!0,disabled:!d,children:"Save"})]})})]})})})},Wc=(n(309),c.memo((function(e){var t=e.dbRef,n=t.key||fa(t),r=function(e){var t=Object(d.j)(),n=t.path.replace("/:path*",""),r=Object(d.f)(t.url,{path:n,strict:!0}),a=(null===r||void 0===r?void 0:r.url)||"";return"/"===a?e:"".concat(a).concat(e)}(new URL(t.toString()).pathname);return Object(Q.jsx)(de.a,{className:"NodeLink",use:"body1","aria-label":"Key name",tag:u.b,to:r,children:n})})));n(310);var zc=c.memo((function(e){var t=e.value,n=(e.use,Object(je.a)(e,["value","use"])),r="string"===typeof t&&t.length>=24?"".concat(t.substr(0,21),"..."):t;return Object(Q.jsx)(de.a,Object(V.a)(Object(V.a)({use:"body1",className:function(e){return"ValueDisplay ValueDisplay__".concat(typeof e)}(t)},n),{},{"aria-label":"Node value",children:JSON.stringify(r)}))})),Hc=c.memo((function(e){var t=e.value,n=e.realtimeRef,r=Object(c.useState)(!1),a=Object(G.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(!1),l=Object(G.a)(s,2),u=l[0],d=l[1],j=function(){o(!i)},b=function(){var e=Object(H.a)(z.a.mark((function e(t,r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.set(r);case 2:o(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(H.a)(z.a.mark((function e(t,r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.child(t).set(r);case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.remove();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),p=!n.parent&&null===t;return Object(Q.jsxs)("div",{className:"NodeLeaf",children:[Object(Q.jsxs)("div",{className:"NodeLeaf__key",children:[Object(Q.jsx)(Wc,{dbRef:n}),": ",Object(Q.jsx)(zc,{use:"body1",value:t,onClick:j})]}),Object(Q.jsxs)("span",{className:"NodeLeaf__actions",children:[Object(Q.jsx)(ya.a,{content:"Edit value",children:Object(Q.jsx)(fr.a,{icon:"edit",onClick:j,"aria-label":"Edit value"})}),p&&Object(Q.jsx)(ya.a,{content:"Add child",children:Object(Q.jsx)(fr.a,{icon:"add",onClick:function(){d(!u)},"aria-label":"Add child"})}),Object(Q.jsx)(ya.a,{content:"Delete value",children:Object(Q.jsx)(fr.a,{icon:"delete",onClick:h,"aria-label":"Delete value"})})]}),Object(Q.jsxs)("div",{className:"NodeLeaf__edit-ui",children:[i&&Object(Q.jsx)(Vc,{rtdb:!0,value:Object(Ve.a)({},n.key||n.toString(),null===t?"":t),onCancel:function(){return o(!1)},onSave:b,areRootKeysMutable:!1}),u&&Object(Q.jsx)(Vc,{rtdb:!0,value:Object(Ve.a)({},n.push().key,""),onCancel:function(){return d(!1)},onSave:f,areRootKeysMutable:!0})]})]})})),Gc=(n(352),n(237)),Kc=function(e){return new URL(e.toString()).pathname},Jc=c.memo((function(e){var t=e.realtimeRef,n=e.query,r=e.onComplete;Object(Gc.ok)(t.parent,"Cannot clone the root node!");var a=null!=n,i=t.key,o=Object(c.useState)(""),s=Object(G.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)({}),j=Object(G.a)(d,2),b=j[0],f=j[1],h=Object(c.useState)(!0),p=Object(G.a)(h,2),O=p[0],m=p[1],v=Object(c.useState)(a),x=Object(G.a)(v,2),g=x[0],y=x[1];Object(c.useEffect)((function(){(function(){var e=Object(H.a)(z.a.mark((function e(){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,null==n||!g){e.next=7;break}return e.next=4,n.once("value");case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,t.once("value");case 9:r=e.sent;case 10:a={},Object.entries(r.val()||{}).forEach((function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1];a[n]=JSON.stringify(r)})),f(a),u((c=t,i.startsWith("-")?"".concat(Kc(c.parent),"/").concat(c.push().key):"".concat(Kc(c),"_copy"))),m(!1);case 15:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m,f,u,i,t,g,n]);var w=function(e){var t=e.target;f(Object(V.a)(Object(V.a)({},b),{},Object(Ve.a)({},t.name,t.value)))};return Object(Q.jsx)(Kt.a,{open:!0,children:Object(Q.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={};Object.entries(b).forEach((function(e){var t=Object(G.a)(e,2),r=t[0],a=t[1];n[r]=JSON.parse(a)})),t.root.child(l).set(n),r(l)},children:[Object(Q.jsxs)(Kt.e,{children:['Clone "',i,'"']}),Object(Q.jsxs)(Kt.d,{children:[Object(Q.jsx)(Dn,{label:"New destination path:",value:l,onChange:function(e){return u(e.target.value)},type:"text"}),a?Object(Q.jsx)("div",{children:Object(Q.jsx)(Qr.a,{label:"Clone filtered data set",checked:g,onChange:function(e){y(!!e.currentTarget.checked)}})}):null,Object(Q.jsx)(de.a,{use:"headline6",children:"Data"}),O?"Loading...":Object.entries(b).map((function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1];return Object(Q.jsx)("div",{children:Object(Q.jsxs)("label",{children:[n,":",Object(Q.jsx)(An.a,{name:n,type:"text",value:r,onChange:w,placeholder:"JSON or simple text"})]})},n)}))]}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{type:"button",action:"close",theme:"secondary",onClick:function(){return r()},children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",children:"Clone"})]})]})})})),Qc=(n(356),c.memo((function(e){var t=e.params,n=void 0===t?{}:t,r=e.onSubmit,a=e.onCancel,i=n.key,o=void 0===i?"":i,s=n.operator,l=void 0===s?"==":s,u=n.value,d=void 0===u?"":u,j=n.limit,b=void 0===j?da:j,f=Object(c.useState)({key:o,operator:l,value:JSON.stringify(d),limit:"".concat(b)}),h=Object(G.a)(f,2),p=h[0],O=h[1],m=function(e){var t=e.target;O(Object(V.a)(Object(V.a)({},p),{},Object(Ve.a)({},t.name,t.value)))},v=Object(c.useRef)(null),x=Object(c.useRef)(null);return Object(c.useEffect)((function(){o?(x.current.focus(),x.current.select()):(v.current.focus(),v.current.select())}),[o]),Object(Q.jsxs)(ue.a,{className:"InlineQuery InlineQuery__card",tag:"form",onSubmit:function(e){e.preventDefault(),r&&r(function(e){var t=e.key,n=e.operator,r=e.value,a=e.limit;return{key:t,operator:n,value:ba(r||"null"),limit:Number(a)}}(p))},onKeyDown:function(e){e.keyCode===or()("esc")&&a&&a()},children:[Object(Q.jsxs)("div",{className:"InlineQuery__form-fields",children:[Object(Q.jsx)(Dn,{outlined:!0,label:"Key",name:"key",value:p.key,onChange:m,inputRef:v}),Object(Q.jsx)(Rn,{label:"Condition",name:"operator",options:["==",">=","<="],value:p.operator,onChange:m}),Object(Q.jsx)(Dn,{label:"Value",name:"value",value:p.value,onChange:m,inputRef:x,placeholder:"JSON or plain text"}),Object(Q.jsx)(Dn,{label:"limit",name:"limit",value:p.limit,onChange:m})]}),Object(Q.jsx)(ue.e,{className:"InlineQuery__actions",children:Object(Q.jsxs)(ue.c,{children:[n!==ja&&Object(Q.jsx)(ue.b,{type:"button",label:"Reset",danger:!0,onClick:function(){return r(ja)}}),Object(Q.jsx)(ue.b,{theme:"secondary",type:"button",label:"Cancel",onClick:function(){return a&&a()}}),Object(Q.jsx)(ue.b,{unelevated:!0,type:"submit",label:"Search"})]})})]})})));var Zc,Yc=c.memo((function(e){var t=e.realtimeRef,n=e.isOpen,r=e.onComplete,a=t.key,i=Object(c.useState)({newKey:a}),o=Object(G.a)(i,2),s=o[0],l=o[1],u=function(){var e=Object(H.a)(z.a.mark((function e(n){var c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t.once("value");case 3:return c=e.sent,e.prev=4,e.next=7,t.parent.update((i={},Object(Ve.a)(i,s.newKey,c.val()),Object(Ve.a)(i,a,null),i));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:r(!0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsx)(Kt.a,{open:n,onClose:function(){return r(!1)},children:Object(Q.jsxs)("form",{onSubmit:u,children:[Object(Q.jsxs)(Kt.e,{children:['Rename "',a,'"']}),Object(Q.jsx)(Kt.d,{onSubmit:u,children:Object(Q.jsx)(Dn,{name:"newKey",label:"New key:",value:s.newKey,onChange:function(e){var t=e.target;l(Object(V.a)(Object(V.a)({},s),{},Object(Ve.a)({},t.name,t.value)))},type:"text"})}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{type:"submit",unelevated:!0,children:"Rename"})]})]})})})),$c=function(e){return e===Jr.Table?Jr.TreeView:Jr.Table},Xc=function(e){switch(e){case Jr.Table:return"view_comfy";case Jr.TreeView:return"view_list";default:throw new Error("Display type is unrecognized")}},ei={color:"#09d3ac"},ti=c.memo((function(e){var t=e.displayType,n=e.onDisplayTypeChange,r=e.realtimeRef,a=e.updateQuery,i=e.onExpandRequested,o=e.queryParams,s=Object(c.useState)(!1),l=Object(G.a)(s,2),u=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(G.a)(j,2),f=b[0],h=b[1],p=Object(c.useState)(!1),O=Object(G.a)(p,2),m=O[0],v=O[1],x=Object(c.useState)(!1),g=Object(G.a)(x,2),y=g[0],w=g[1],C=Object(c.useState)(!1),N=Object(G.a)(C,2),k=N[0],S=N[1],_=u||f||m||y||k||o!==ja,E=null===r.parent,A=r.push().key,D=function(){var e=Object(H.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.child(t).set(n);case 2:h(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.remove();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),T=c.useMemo((function(){return va(r,o||{})}),[r,o]);return Object(Q.jsxs)("aside",{className:"NodeActions"+(_?" NodeActions--active":""),children:[Object(Q.jsx)(ya.a,{content:"Filter children",children:Object(Q.jsx)(fr.a,{icon:"filter_list",onIcon:Object(Q.jsx)("span",{style:ei,children:"filter_list"}),onClick:function(){return i(),void v(!0)},checked:o!==ja})}),Object(Q.jsx)(ya.a,{content:"Add child",children:Object(Q.jsx)(fr.a,{icon:"add",onClick:function(){i(),h(!f)}})}),E?null:Object(Q.jsx)(ya.a,{content:"Switch view",children:Object(Q.jsx)(fr.a,{icon:Xc($c(t)),onClick:function(){n($c(t))}})}),Object(Q.jsxs)(mr.c,{renderToPortal:!1,handle:Object(Q.jsx)(fr.a,{icon:"more_vert"}),onOpen:function(){return d(!0)},onClose:function(){return d(!1)},children:[Object(Q.jsxs)(mr.b,{onClick:R,children:[Object(Q.jsx)(be.a,{icon:"delete"})," Remove"]}),!E&&Object(Q.jsxs)(mr.b,{onClick:function(){return w(!0)},children:[Object(Q.jsx)(be.a,{icon:"file_copy"})," Clone"]}),!E&&Object(Q.jsxs)(mr.b,{onClick:function(){return S(!0)},children:[Object(Q.jsx)(be.a,{icon:"edit"})," Rename"]})]}),Object(Q.jsxs)("div",{className:"NodeActions__additional-ui",children:[f&&Object(Q.jsx)(Vc,{rtdb:!0,value:Object(Ve.a)({},A,""),onCancel:function(){return h(!1)},onSave:D,areRootKeysMutable:!0}),m&&Object(Q.jsx)(Qc,{params:o,onSubmit:function(e){a&&a(e),v(!1)},onCancel:function(){return v(!1)}}),y&&Object(Q.jsx)(Jc,{realtimeRef:r,query:T,onComplete:function(){return w(!1)}}),!E&&Object(Q.jsx)(Yc,{realtimeRef:r,isOpen:k,onComplete:function(){return S(!1)}})]})]})}));n(215),n(357),n(361);!function(e){e.KeyValue="kvp",e.KeyObject="ko",e.Array="arr"}(Zc||(Zc={}));var ni=c.memo((function(e){var t=e.query,n=e.hasMoreRows,r=e.onLoadMore,a=Object(c.useState)({type:Zc.Array,headers:[],rows:[]}),i=Object(G.a)(a,2),o=i[0],s=i[1];return Object(c.useEffect)((function(){Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,ri(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[t]),Object(Q.jsx)(Or.a,{className:"NodeTabularDisplay",children:Object(Q.jsxs)(Or.d,{children:[Object(Q.jsx)(Or.e,{children:Object(Q.jsx)(Or.g,{children:o.headers.map((function(e,t){return Object(Q.jsx)(Or.f,{children:Object(Q.jsx)(de.a,{use:"body1",children:e})},t)}))})}),Object(Q.jsx)(Or.b,{children:o.rows.map((function(e,n){return Object(Q.jsx)(Or.g,{children:o.headers.map((function(n,r){return function(e,t,n,r,a){if(0===r)return Object(Q.jsx)(Or.c,{children:Object(Q.jsx)(de.a,{use:"body2",className:"NodeTabularDisplay__key",children:Object(Q.jsx)(Wc,{dbRef:a.child(t.pkId)})})},n);var c=e.type===Zc.KeyValue||e.type===Zc.Array?t.value:t.value[n];switch(typeof c){case"undefined":return Object(Q.jsx)(Or.c,{className:"undef"},n);case"object":return Object(Q.jsx)(Or.c,{className:"object",children:Object(Q.jsx)(de.a,{use:"body2",children:"{ ... }"})},n);default:return Object(Q.jsx)(Or.c,{className:typeof c,children:Object(Q.jsx)(zc,{value:c,use:"body2"})},n)}}(o,e,n,r,t.ref)}))},n)}))}),n&&Object(Q.jsx)(Or.e,{children:Object(Q.jsx)(Or.g,{children:Object(Q.jsx)(Or.c,{colSpan:o.headers.length,children:Object(Q.jsx)(Ae.a,{onClick:function(){return r&&r()},children:"Load More"})})})})]})})}));function ri(e){return ai.apply(this,arguments)}function ai(){return(ai=Object(H.a)(z.a.mark((function e(t){var n,r,a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.once("value");case 2:if(n=e.sent,void 0!==(r=n.val())&&null!==r){e.next=6;break}return e.abrupt("return",{type:Zc.KeyValue,headers:["No Data Available"],rows:[{pkId:"value is undefined",value:"Value is undefined"}]});case 6:return a=Object.entries(r),c=ci(a),e.abrupt("return",{type:c,headers:ii(c,a),rows:a.map((function(e){var t=Object(G.a)(e,2);return{pkId:t[0],value:t[1]}}))});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ci(e){var t=Object(G.a)(e[0],2),n=t[0],r=t[1];return isNaN(parseInt(n))?"object"===typeof r?Zc.KeyObject:Zc.KeyValue:Zc.Array}function ii(e,t){var n=Object(G.a)(t[0],2)[1];switch(e){case Zc.KeyValue:return["key","value"];case Zc.Array:return["","value"];default:return["key"].concat(Object(Ie.a)(Object.keys(n)))}}var oi=c.memo((function(e){var t=e.realtimeRef,n=e.children,r=e.queryParams,a=e.updateQuery,i=e.isViewRoot,o=e.query,s=null===t.parent,l=!!n.length,u=Object(c.useState)(!(!s&&!i)),d=Object(G.a)(u,2),j=d[0],b=d[1],f=Object(c.useState)(Jr.TreeView),h=Object(G.a)(f,2),p=h[0],O=h[1],m=r&&r.limit?n.length>=r.limit:n.length>=da,v=function(){var e=r&&r.limit||da;a&&a(Object(V.a)(Object(V.a)({},r),{},{limit:e+da}))},x=Object(c.useCallback)((function(){return b(!j)}),[b,j]);return Object(Q.jsxs)("div",{className:"NodeParent",children:[Object(Q.jsxs)("div",{className:"NodeParent__label",children:[j?Object(Q.jsx)("button",{className:"NodeParent__tree-button material-icons","aria-label":"less",onClick:x,children:"arrow_drop_down"}):Object(Q.jsx)("button",{className:"NodeParent__tree-button material-icons","aria-label":"more",onClick:x,children:"arrow_right"}),Object(Q.jsx)(Wc,{dbRef:t}),Object(Q.jsx)(ti,{realtimeRef:t,displayType:p,onDisplayTypeChange:function(e){O(e),b(!0)},onExpandRequested:function(){return b(!0)},queryParams:r,updateQuery:a})]}),Object(Q.jsx)("div",{className:"NodeParent__children-container",children:l&&j&&(p===Jr.Table?Object(Q.jsx)(ni,{query:o||t,hasMoreRows:m,onLoadMore:v}):Object(Q.jsxs)("ul",{className:"NodeParent__children",children:[n.map((function(e){return Object(Q.jsx)("li",{children:Object(Q.jsx)(li,{realtimeRef:t.child(e)})},e)})),m&&Object(Q.jsx)("li",{className:"load-more",children:Object(Q.jsx)(Ae.a,{onClick:v,children:"Load more..."})})]}))})]})})),si={isLoading:!0,children:[]},li=c.memo((function(e){var t=e.realtimeRef,n=e.isViewRoot,r=Object(c.useState)(si),a=Object(G.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(void 0),l=Object(G.a)(s,2),u=l[0],d=l[1];Object(c.useEffect)((function(){var e=function(e){var t=xa(e,{print:"silent",timeout:"1s"});return Object(ta.a)((function(){return fetch(t,{headers:pa})})).pipe(Object(oa.a)(!0),Object(sa.a)((function(){return Object(na.a)(!1)})),Object(la.a)({bufferSize:1,refCount:!0}))}(t),n=Oa(t,e),r=n.query,a=n.viewModel$;d(r);var c=a.subscribe((function(e){return o(e)}));return function(){return c.unsubscribe()}}),[t]);var j=Object(c.useState)(ja),b=Object(G.a)(j,2),f=b[0],h=b[1],p=i.children,O=i.query;return!!p.length||f!==ja?Object(Q.jsx)(oi,{realtimeRef:t,children:p,queryParams:f,updateQuery:function(e){h(e),u&&u.next(e)},isViewRoot:n,query:O}):Object(Q.jsx)(Hc,{realtimeRef:t,value:i.value})})),ui=function(e){var t=e.root.toString();return t.substring(0,t.length-1)},di=function(e){var t=e.config,n=e.namespace,r=e.path,a=Object(c.useState)(void 0),i=Object(G.a)(a,2),o=i[0],s=i[1],l=Object(c.useState)(void 0),u=Object(G.a)(l,2),j=u[0],b=u[1],f=Object(d.g)(),h=Object(c.useState)(!1),p=Object(G.a)(h,2),O=p[0],m=p[1],v=Object(c.useState)(),x=Object(G.a)(v,2),g=x[0],y=x[1];Object(c.useEffect)((function(){var e=Mr(t,n),a=Object(G.a)(e,2),c=a[0],i=a[1].cleanup;s(r?c.ref(r):c.ref());var o=new Gr(t,n);return b(o),function(){i(),o.delete()}}),[t,n,r]);var w="/database/".concat(n,"/data");return Object(Q.jsx)("div",{className:"Database-Database",children:o&&j?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Hr,{base:w,path:r||"/",inputPrefix:ui(o),onNavigate:function(e){e.startsWith("/")&&(e=e.substr(1)),f.push("".concat(w,"/").concat(e))},children:Object(Q.jsx)(mr.c,{handle:Object(Q.jsx)(fr.a,{icon:"more_vert",label:"Open menu"}),renderToPortal:!0,children:Object(Q.jsx)(mr.b,{onClick:function(){return m(!0)},children:"Import JSON"})})}),Object(Q.jsx)(ji,{onDrop:function(e){return y(e)},children:Object(Q.jsx)(li,{realtimeRef:o,isViewRoot:!0})}),(O||g)&&Object(Q.jsx)(Xr,{api:j,reference:o,droppedFile:g,onComplete:function(){y(void 0),m(!1)}})]}):Object(Q.jsx)("p",{children:"Loading"})})},ji=function(e){var t=e.onDrop,n=e.children,r=Object(Lr.a)({onDrop:function(e){return t(e[0])},noClick:!0,accept:"application/json"}),a=r.getInputProps,c=r.getRootProps,i=r.isDragActive,o=r.isDragAccept;return Object(Q.jsxs)("div",Object(V.a)(Object(V.a)({className:"Database-Content"},c()),{},{children:[n,i&&Object(Q.jsx)("div",{className:"Database-Content-Dragging",children:o?"Drop JSON file to import":Object(Q.jsx)("span",{className:"invalid",children:"Only JSON files are supported for data import."})}),Object(Q.jsx)("input",Object(V.a)({},a()))]}))},bi=(n(362),n(428)),fi=function(e){var t=e.name,n=e.navigation,r=e.activated,a=n(t);return Object(Q.jsxs)(Gn.d,{activated:r,tag:u.b,to:a,"data-testid":"nav-".concat(t),children:[Object(Q.jsx)(Gn.e,{tag:ge,size:"large",theme:"primary"}),Object(Q.jsx)(Gn.i,{children:t})]})},hi=function(e){var t=e.primary,n=e.current,r=e.navigation,a=e.databases,c=a?a.filter((function(e){return e!==t})):[];n!==t&&c.indexOf(n)<0&&c.push(n);var i="Database-Picker";return 0===c.length&&(i+=" Database-Picker--primary-only"),Object(Q.jsx)("div",{className:i,children:Object(Q.jsx)(bi.a,{children:Object(Q.jsxs)(Gn.b,{children:[Object(Q.jsx)(Gn.c,{children:Object(Q.jsx)(de.a,{use:"caption",children:"Databases"})}),Object(Q.jsx)(fi,{activated:n===t,name:t,navigation:r}),Object(Q.jsx)(Gn.a,{tag:"div"}),c.map((function(e){return Object(Q.jsx)(fi,{activated:n===e,name:e,navigation:r},e)}))]})})})},pi=function(e){var t=e.current,n=e.primary,r=e.navigation,a=e.databases,i=e.children,o=Object(c.useState)(a),s=Object(G.a)(o,2),l=s[0],u=s[1],d=!1;return a!==l&&(void 0===l||void 0===a||l.join("|")===a.join("|")?u(a):d=!0),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(O.b,{span:12,className:"Database-Container",children:[d&&Object(Q.jsx)(vn,{icon:"info",actions:Object(Q.jsx)(Ae.a,{theme:"secondary",onClick:function(){return u(a)},children:"Reload"}),children:"There are new databases that have been created. Reload the page to view them."}),Object(Q.jsx)(m.a,{z:2,wrap:!0,children:Object(Q.jsx)(ue.a,{className:"canvas-card",children:Object(Q.jsxs)("div",{className:"Database",children:[Object(Q.jsx)(hi,{current:t,primary:n,navigation:r,databases:l}),i]})})})]})})};function Oi(e,t,n){return mi.apply(this,arguments)}function mi(){return(mi=Object(H.a)(z.a.mark((function e(t,n,r){var a,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(n.hostAndPort,"/.inspect/databases.json?ns=").concat(r));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("HTTP ".concat(a.status,": ").concat(a.statusText));case 5:return e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c.map((function(e){return e.name})).sort());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vi=function(e){var t=te("database"),n=Object(K.a)(["/dummy/database/databases",t,e.primary],Oi,{refreshWhenOffline:!0,initialData:void 0,refreshInterval:5e3}).data;return Object(Q.jsx)(pi,Object(V.a)({databases:n},e))},xi=function(){return Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(yi,{}),children:Object(Q.jsx)(gi,{})})},gi=function(){var e=te("database"),t=ee().projectId,n=Object(d.j)(),r=n.path,a=n.url;return Object(Q.jsxs)(d.d,{children:[Object(Q.jsxs)(d.b,{exact:!0,path:r,children:[Object(Q.jsx)(d.a,{to:"".concat(a,"/").concat(t,"/data")}),";"]}),Object(Q.jsx)(d.b,{path:"".concat(r,"/:namespace/data/:path*"),render:function(n){var r=n.match,c=r.params.namespace,i="/".concat(r.params.path||"");return Object(Q.jsx)(vi,{primary:t,current:c,navigation:function(e){return"".concat(a,"/").concat(e,"/data")},children:Object(Q.jsx)(di,{namespace:c,path:i,config:e})})}})]})},yi=function(){return ne("database")?Object(Q.jsx)(Ce,{productName:"Realtime Database"}):Object(Q.jsx)(Ee,{span:12,message:"Realtime Database Emulator Loading..."})},wi=(n(136),n(425)),Ci=n(424),Ni=function(){return yn({title:"Delete all data?",body:"Proceeding will delete all your collections, sub-collections and\n             documents within your database.",acceptLabel:null,cancelLabel:null,footer:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Kt.c,{type:"button",theme:"secondary",action:"close",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Clear"})]})})};function ki(){var e=Object(c.useState)(!1),t=Object(G.a)(e,2),n=t[0],r=t[1];return{isTextCopied:n,writeText:Object(c.useCallback)((function(e){return navigator.clipboard.writeText(e).then((function(){return r(!0)})).catch((function(){return r((function(e){return e}))}))}),[])}}function Si(e){var t=e.textToCopy,n=e.label,r=e.theme,a=e.icon,c=void 0===a?"content_copy":a;n=n||"Copy",r=r||"textPrimaryOnBackground";var i=ki().writeText;return Object(Q.jsx)(fr.a,{theme:r,icon:c,label:n,onClick:function(){return i(t)}})}var _i=n(168),Ei=n(164),Ai=n.n(Ei),Di=n(422),Ri=Object(v.createAction)("@firestore/addCollectionFilter")(),Ti=Object(v.createAction)("@firestore/removeCollectionFilter")(),Ii={collectionFilters:{}},Fi=c.createContext({store:Ii,dispatch:function(){}}),Li=Object(v.createReducer)(Ii).handleAction(Ri,Object(Fe.a)((function(e,t){var n=t.payload,r=(n.path,Object(je.a)(n,["path"]));e.collectionFilters[n.path]=r}))).handleAction(Ti,Object(Fe.a)((function(e,t){var n=t.payload;delete e.collectionFilters[n.path]}))),Pi=function(e,t){return Li.handlers[t.type](e,t)},Ui=function(e){var t=e.initState,n=void 0===t?Ii:t,r=e.children,a=c.useReducer(Pi,n),i=Object(G.a)(a,2),o=i[0],s=i[1];return Object(Q.jsx)(Fi.Provider,{value:{store:o,dispatch:s},children:r})};function Mi(){var e=c.useContext(Fi);if(void 0===e)throw new Error("useFirestoreStore must be used within a <FirestoreStore>");return e}function qi(e){return Mi().store.collectionFilters[e]}var Bi=n(53),Vi=n.n(Bi);var Wi=i.a.memo((function(e){var t=e.name,n=e.error,r=Object(Sn.e)(),a=r.setValue,i=(0,r.watch)(t),o=Object(c.useState)(function(e){return Ia(e)?"boolean":La(e)?"number":"string"}(i)),s=Object(G.a)(o,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){void 0===i&&a(t,"")}),[i,a,t]),Object(Q.jsxs)("div",{className:Vi.a.conditionEntry,children:[Object(Q.jsx)(Rn,{options:["string","number","boolean"],value:l,onChange:function(e){u(e.currentTarget.value)},fieldClassName:Vi.a.conditionEntryType}),"string"===l&&Object(Q.jsx)(Sn.a,{as:Dn,name:t,defaultValue:"",error:n,fieldClassName:Vi.a.conditionEntryValue,"aria-label":"Value"}),"number"===l&&Object(Q.jsx)(Sn.a,{as:Dn,name:t,defaultValue:"",rules:{pattern:{value:Aa,message:"Must be a number"}},error:n,onChange:function(e){var t=Object(G.a)(e,1)[0];return t.target.value.match(Aa)?parseFloat(t.target.value):t.target.value},fieldClassName:Vi.a.conditionEntryValue,"aria-label":"Value"}),"boolean"===l&&Object(Q.jsx)(zi,{name:t})]})})),zi=function(e){var t=e.name,n=Object(Sn.e)(),r=n.register,a=n.setValue,i=n.unregister,o=n.watch;Object(c.useEffect)((function(){return r({name:t}),a(t,!0),function(){return i(t)}}),[r,i,a,t]);var s=o(t);return Object(Q.jsx)(Rn,{name:t,options:["true","false"],value:s,onChange:function(e){return a(t,"true"===e.currentTarget.value)},fieldClassName:Vi.a.conditionEntryValue,"aria-label":"Value"})},Hi=function(e){var t=e.name,n=Object(Sn.e)(),r=n.errors,a=n.formState.touched,i=Object(Sn.c)({name:t}),o=i.fields,s=i.append,l=i.remove;return Object(c.useEffect)((function(){o.length<1&&s({_:""})}),[s,o]),Object(Q.jsxs)("ul",{className:Vi.a.conditionEntries,children:[o.map((function(e,n){var c="".concat(t,"[").concat(n,"]");return Object(Q.jsxs)("li",{children:[Object(Q.jsx)(Wi,{name:c,error:a[c]&&r[c]}),Object(Q.jsx)(fr.a,{className:o.length>1?Vi.a.removeFilter:Vi.a.hidden,icon:"delete",label:"Remove filter",type:"button",onClick:function(){return l(n)}})]},e.id)})),Object(Q.jsx)(Ae.a,{type:"button",icon:"add",onClick:function(){return s({_:""})},children:"Add value"})]})},Gi=function(e){var t=e.name,n=e.disabled,r=Object(Sn.e)(),a=r.register,i=r.setValue,o=r.unregister,s=r.watch;Object(c.useEffect)((function(){return n?i(t,void 0):a({name:t}),function(){return o(t)}}),[a,o,n,t,i]);var l=s(t);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Jt.a,{value:"asc",label:"Ascending",checked:"asc"===l,onChange:function(){return i(t,"asc")},disabled:n}),Object(Q.jsx)(Jt.a,{value:"desc",label:"Descending",checked:"desc"===l,onChange:function(){return i(t,"desc")},disabled:n})]})},Ki=function(e){var t,n,r=e.className,a=e.path,i=e.onClose,o=qi(a),s=function(){var e=Mi().dispatch;return c.useMemo((function(){return e}),[e])}(),l=Object(Sn.d)({mode:"onChange",defaultValues:o}),u=l.watch({nest:!0});return Object(Q.jsx)(Ji,{children:Object(Q.jsx)(Sn.b,Object(V.a)(Object(V.a)({},l),{},{children:Object(Q.jsxs)("form",{onSubmit:l.handleSubmit((function(e){s(Ri(Object(V.a)({path:a},e))),null===i||void 0===i||i()})),className:r,children:[Object(Q.jsx)($i,{title:"Filter by field",preview:u.field,defaultOpen:!0,children:Object(Q.jsx)(Sn.a,{as:Dn,name:"field",label:"Enter field",rules:{required:"Required"},defaultValue:"",error:l.formState.touched.field&&(null===(t=l.errors.field)||void 0===t?void 0:t.message)})}),Object(Q.jsx)($i,{title:"Add condition",preview:Object(Q.jsx)(Qi,{cf:u}),defaultOpen:!0,children:Object(Q.jsxs)(Yi,{children:[u&&Ca(u)&&Object(Q.jsx)(Wi,{name:"value",error:l.formState.touched.value&&(null===(n=l.errors.value)||void 0===n?void 0:n.message)}),u&&Na(u)&&Object(Q.jsx)(Hi,{name:"values"})]})}),Object(Q.jsx)($i,{title:"Sort results",preview:ka(u)&&u.sort,defaultOpen:!0,children:Object(Q.jsx)(Gi,{name:"sort",disabled:!ka(u)})}),Object(Q.jsx)(Zi,{path:a,cf:u}),Object(Q.jsxs)(ue.e,{className:Vi.a.actions,children:[Object(Q.jsx)(ue.c,{children:Object(Q.jsx)(ue.b,{type:"button",onClick:function(){s(Ti({path:a})),null===i||void 0===i||i()},children:"Clear"})}),Object(Q.jsxs)(ue.c,{children:[Object(Q.jsx)(ue.b,{type:"button",onClick:function(){return null===i||void 0===i?void 0:i()},children:"Cancel"}),Object(Q.jsx)(ue.b,{unelevated:!0,type:"submit",disabled:!l.formState.isValid,children:"Apply"})]})]})]})}))})},Ji=function(e){var t=e.children;return Object(Q.jsx)(a.b,{options:{background:f,surface:"#fff"},children:Object(Q.jsx)(a.a,{use:["background"],tag:"div",children:t})})},Qi=function(e){var t=e.cf,n='"'.concat(t.operator,'"');return Ca(t)?Object(Q.jsx)("span",{children:"".concat(n,', "').concat(t.value,'"')}):Na(t)?Object(Q.jsx)("span",{children:"".concat(n,", ").concat(JSON.stringify(t.values))}):null},Zi=function(e){var t=e.path,n=e.cf,r=t.split("/").pop();return Object(Q.jsxs)("code",{className:Vi.a.preview,"aria-label":"Code preview",children:[Object(Q.jsxs)("div",{children:[".collection(","".concat(JSON.stringify(r)),")"]}),(Ca(n)||Na(n))&&Object(Q.jsxs)("div",{className:Vi.a.previewFilter,children:['.where("',n.field,'", ',Object(Q.jsx)(Qi,{cf:n}),")"]}),ka(n)&&!!n.sort&&Object(Q.jsxs)("div",{className:Vi.a.previewFilter,children:[".orderBy(",'"'.concat(n.field,'", "').concat(n.sort,'"'),")"]})]})},Yi=function(e){var t=e.children;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Sn.a,{as:Rn,name:"operator",label:"Only show documents where the specified field is...",placeholder:"No condition",options:[{label:"(==) equal to",value:"=="},{label:"(!=) not equal to",value:"!="},{label:"(>) greater than",value:">"},{label:"(>=) greater than or equal to",value:">="},{label:"(<) less than",value:"<"},{label:"(<=) less than or equal to",value:"<="},{label:"(in) equal to any of the following",value:"in"},{label:"(not-in) not equal to any of the following",value:"not-in"},{label:"(array-contains) an array containing",value:"array-contains"},{label:"(array-contains-any) an array containing any",value:"array-contains-any"}],onChange:function(e){return Object(G.a)(e,1)[0].currentTarget.value||void 0}}),t]})},$i=function(e){var t=e.title,n=e.preview,r=e.defaultOpen,a=e.children,i=Object(c.useState)(r),o=Object(G.a)(i,2),s=o[0],l=o[1];return Object(Q.jsx)(Di.a,{className:Vi.a.listItem,defaultOpen:s,handle:Object(Q.jsx)(Gn.j,{text:Object(Q.jsxs)("div",{className:Vi.a.headerTitle,children:[Object(Q.jsx)(de.a,{use:"body1",children:t}),!s&&n&&Object(Q.jsx)(de.a,{use:"caption",children:n})]}),metaIcon:"chevron_right",className:Vi.a.header}),onOpen:function(){return l(!0)},onClose:function(){return l(!1)},children:Object(Q.jsx)("div",{className:Vi.a.children,children:a})})},Xi=function(e){var t=e.collectionRef,n=e.onChange,r=Object(c.useState)(t.doc().id),a=Object(G.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)(),l=Object(G.a)(s,2),u=l[0],d=l[1],j=Object(c.useCallback)((function(){try{return{id:i,data:u}}catch(e){return{id:i,data:{invalidData:!0}}}}),[i,u]);Object(c.useEffect)((function(){n(j())}),[j,n]);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Dn,{id:"add-document-path",fullwidth:!0,disabled:!0,label:"Parent path",value:t.path}),Object(Q.jsx)(Dn,{id:"add-document-id",fullwidth:!0,label:"Document ID",value:i,onChange:function(e){o(e.target.value),n(j())},required:!0}),Object(Q.jsx)(Bc,{value:{"":""},onChange:function(e){return d(e)}})]})},eo=function(e){var t=e.collectionRef,n=e.onClose,r=e.onValue,a=Object(je.a)(e,["collectionRef","onClose","onValue"]),i=Object(c.useState)({id:"",data:void 0}),o=Object(G.a)(i,2),s=o[0],l=o[1];return Object(Q.jsxs)(Kt.a,Object(V.a)(Object(V.a)({},a),{},{onClose:function(e){r("accept"===e.detail.action?s:null),n&&n(e)},children:[Object(Q.jsx)(Kt.e,{children:"Add a document"}),Object(Q.jsx)(Kt.d,{children:Object(Q.jsx)(Xi,{collectionRef:t,onChange:l})}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!s.data,children:"Save"})]})]}))},to=n(238),no=n.n(to),ro=function(e){var t=e.docId,n=e.url,r=e.queryFieldValue,c=e.missing,i=_e()("Firestore-List-Item",Object(Ve.a)({},no.a.missing,c));return Object(Q.jsx)(a.a,{use:[c?"textSecondaryOnBackground":"textPrimaryOnBackground"],children:Object(Q.jsx)(Gn.d,{className:i,tag:u.c,to:"".concat(n,"/").concat(encodeURIComponent(t)),activeClassName:"mdc-list-item--activated","data-testid":"firestore-document-list-item",children:void 0===r?Object(Q.jsx)(Gn.i,{children:t}):Object(Q.jsxs)(Gn.i,{"data-testid":"twoLine",children:[Object(Q.jsx)(Gn.g,{children:Va(r,20)}),Object(Q.jsx)(Gn.h,{children:t})]})})})},ao=n(239);function co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.json()};return function(){var n=Object(H.a)(z.a.mark((function n(r){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(r,Object(V.a)(Object(V.a)({},e),{},{headers:Object(V.a)(Object(V.a)({},e.headers),{},{Authorization:"Bearer owner"})})).then(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function io(e,t,n){var r=n.refreshInterval,a=void 0===r?0:r,c=co(t);return Object(K.a)(e,c,{refreshInterval:a,suspense:!0,refreshWhenOffline:!0})}var oo={},so=i.a.memo((function(e){var t=e.children,n=e.disableDevTools,r=te("firestore"),a=qr("firestore",oo,Object(c.useCallback)((function(e){e.firestore().useEmulator(r.host,r.port)}),[r]));return a?Object(Q.jsxs)(cc.a,{firebaseApp:a,children:[t,n||Object(Q.jsx)(lo,{})]}):null})),lo=i.a.memo((function(){var e=Object(cc.b)();return Object(c.useEffect)((function(){var t=window;return t.firestore=e,console.log("\ud83d\udd25 Firestore is available at window.firestore.\n\n    Try:\n    firestore.doc('hello/world').set({hello: 'world!'});\n    firestore.doc('hello/world').get().then( snap => console.log(snap.data()) );"),function(){delete t.firestore}}),[e]),null}));function uo(){var e=te("firestore"),t=ee().projectId,n="(default)";return{baseUrl:"http://".concat(e.hostAndPort,"/v1/projects/").concat(t,"/databases/").concat(n),baseEmulatorUrl:"http://".concat(e.hostAndPort,"/emulator/v1/projects/").concat(t,"/databases/").concat(n)}}var jo=Object(ao.a)(/projects\/(.*)\/databases\/(.*)\/documents\/(.*)/,{project:1,database:2,path:3});function bo(){var e=uo().baseEmulatorUrl,t=co({method:"DELETE"});return function(){var n=Object(H.a)(z.a.mark((function n(r){var a,c;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(K.b)("*"),a=fo(r.path),c="".concat(e,"/documents/").concat(a),n.next=5,t(c);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function fo(e){return e.split("/").map((function(e){return encodeURIComponent(e)})).join("/")}n(363);var ho=function(e){var t=e.id,n=e.icon,r=e.children;return Object(Q.jsx)("div",{className:"Firestore-PanelHeader",children:Object(Q.jsxs)(ar,{children:[Object(Q.jsx)(a.a,{use:"secondary",children:n}),Object(Q.jsx)(de.a,{use:"body2",className:"Firestore-PanelHeader-title",children:t}),Object(Q.jsx)(cr,{children:r})]})})},po="/firestore/data",Oo=po.split("/").length;function mo(e){var t=Object(d.j)().url,n=Object(d.h)().pathname,r=Object(c.useState)(null),a=Object(G.a)(r,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){var r=t===po||t.startsWith(po)&&t.split("/").length===Oo+1,a=t===n,c=null===e||void 0===e?void 0:e[0];o(r&&a&&c?Object(Q.jsx)(d.a,{to:"".concat(t,"/").concat(encodeURIComponent(c.id))}):null)}),[n,t,e,o]),i}var vo=[];var xo=function(e){var t=e.collection;return Object(Q.jsxs)("div",{className:"Firestore-Collection",children:[Object(Q.jsx)(ho,{id:t.id,icon:Object(Q.jsx)(be.a,{icon:{icon:"collections_bookmark",size:"small"}})}),Object(Q.jsx)(Ee,{message:"Loading collection"})]})};var go,yo,wo=(go=function(e){var t=e.collection,n=e.collectionFilter,r=e.addDocument,a=e.docs,i=e.missingDocs,o=e.url,s=bo(),l=Object(c.useState)(!1),u=Object(G.a)(l,2),j=u[0],b=u[1],f=Object(c.useState)(!1),h=Object(G.a)(f,2),p=h[0],O=h[1],m=Object(c.useState)(!1),v=Object(G.a)(m,2),x=v[0],g=v[1],y=function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=t,yn({title:"Delete collection",body:Object(Q.jsxs)("div",{className:"Firestore--dialog-body",children:[Object(Q.jsx)(vn,{aside:!0,type:"warning",children:"This will permanently delete the collection, including all nested documents and collections."}),Object(Q.jsx)(Dn,{label:"Collection path",value:"/".concat(n.path),fullwidth:!0,disabled:!0}),Object(Q.jsxs)(vn,{aside:!0,type:"note",children:["Cloud Functions triggers ",Object(Q.jsx)("b",{children:"will not"})," be executed."]})]}),acceptLabel:null,cancelLabel:null,footer:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})});case 2:e.sent&&s(t);case 4:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("div",{className:"Firestore-Collection",children:[Object(Q.jsx)(ho,{id:t.id,icon:Object(Q.jsx)(be.a,{icon:{icon:"collections_bookmark",size:"small"}}),children:Object(Q.jsxs)(_i.b,{children:[Object(Q.jsx)(_i.a,{open:p,onClose:function(){return O(!1)},children:p&&Object(Q.jsx)(Ki,{className:Ai.a["query-panel"],path:t.path,onClose:function(){return O(!1)}})}),Object(Q.jsx)(mr.a,{open:j,onClose:function(){return b(!1)},renderToPortal:!0,children:Object(Q.jsx)(mr.b,{onClick:y,children:"Delete collection"})}),Object(Q.jsx)(Si,{textToCopy:t.id,label:"Copy collection ID"}),Object(Q.jsx)("div",{className:_e()(Ai.a["button-wrapper"],n&&Ai.a.badge),children:Object(Q.jsx)(fr.a,{icon:"filter_list",label:"Filter documents in this collection",onClick:function(){return O(!p)}})}),Object(Q.jsx)(fr.a,{icon:"more_vert",label:"Menu",onClick:function(){return b(!j)}})]})}),x&&Object(Q.jsx)(eo,{collectionRef:t,open:x,onValue:r,onClose:function(){return g(!1)}}),Object(Q.jsx)(bi.a,{dense:!0,className:"List-Actions",tag:"div",children:Object(Q.jsx)(Gn.d,{className:"list-button",tag:Ae.a,label:"Add document",dense:!0,icon:"add",onClick:function(){return g(!0)}})}),Object(Q.jsxs)(bi.a,{dense:!0,className:"Firestore-Document-List",tag:"div",twoLine:n&&ka(n),children:[a.map((function(e){return Object(Q.jsx)(ro,{url:o,docId:e.ref.id,queryFieldValue:n&&ka(n)?Ea()(e.data(),n.field):void 0},e.ref.id)})),i.map((function(e){var n=e.path.replace(t.path,"").split("/")[1];return Object(Q.jsx)(ro,{missing:!0,url:o,docId:n,queryFieldValue:void 0},n)}))]})]}),Object(Q.jsx)(d.b,{path:"".concat(o,"/:id"),render:function(e){var n=e.match,r=decodeURIComponent(n.params.id),a=t.doc(r);return Object(Q.jsx)(ns,{reference:a})}})]})},function(e){var t=e.collection,n=Object(c.useState)(),r=Object(G.a)(n,2),a=r[0],i=r[1],o=qi(t.path),s=function(e,t){var n=e;return t&&Ca(t)&&(n=n.where(t.field,t.operator,t.value)),t&&Na(t)&&(n=n.where(t.field,t.operator,t.values)),t&&ka(t)&&(n=n.orderBy(t.field,t.sort)),n}(t,o),l=Object(cc.c)(s,{suspense:!0}),u=Object(d.g)(),j=Object(d.j)().url,b=function(e){var t,n=uo().baseUrl,r=fo(e.path),a=io("".concat(n,"/documents/").concat(r,"?mask.fieldPaths=_none_&pageSize=300&showMissing=true"),{method:"GET"},{refreshInterval:1e4}).data;return(null===a||void 0===a||null===(t=a.documents)||void 0===t?void 0:t.filter((function(e){return!e.createTime})).map((function(e){var t=jo.exec(e.name);if(!t)throw new Error('Document path "'.concat(e.name,'" returned by API does not match regex.'));return{path:Object(G.a)(t,4)[3]}})))||[]}(t),f=l.data.docs.length?l.data.docs:vo,h=mo(f),p=function(){var e=Object(H.a)(z.a.mark((function e(n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.id){e.next=4;break}return e.next=3,t.doc(n.id).set(n.data);case 3:i(n.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a&&(u.push("".concat(j,"/").concat(encodeURIComponent(a))),i(""))}),[u,j,a,i]),a?null:h?Object(Q.jsx)(Q.Fragment,{children:h}):Object(Q.jsx)(go,{collection:t,collectionFilter:o,addDocument:p,docs:f,missingDocs:b,url:j})}),Co=function(e){var t=e.documentRef,n=e.onChange,r=Object(c.useState)(""),a=Object(G.a)(r,2),i=a[0],o=a[1];return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Dn,{label:"Parent path",value:t?t.path:"/",disabled:!0}),Object(Q.jsx)(Dn,{label:"Collection ID",required:!0,value:i,onChange:function(e){o(e.target.value),n(e.target.value)}})]})};!function(e){e[e.COLLECTION=0]="COLLECTION",e[e.DOCUMENT=1]="DOCUMENT"}(yo||(yo={}));var No=function(e){var t=e.documentRef,n=e.onValue,r=e.onClose,a=Object(je.a)(e,["documentRef","onValue","onClose"]),i=Object(cc.b)(),o=Object(c.useState)(yo.COLLECTION),s=Object(G.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(""),j=Object(G.a)(d,2),b=j[0],f=j[1],h=Object(c.useState)({id:"",data:void 0}),p=Object(G.a)(h,2),O=p[0],m=p[1];return Object(Q.jsxs)(Kt.a,Object(V.a)(Object(V.a)({},a),{},{onClose:function(e){n("accept"===e.detail.action?{collectionId:b,document:O}:null),r&&r(e)},children:[Object(Q.jsx)(Kt.e,{children:"Start a collection"}),Object(Q.jsx)(Kt.d,{children:l===yo.COLLECTION?Object(Q.jsx)(Co,{documentRef:t,onChange:f}):Object(Q.jsx)(Xi,{collectionRef:t?t.collection(b):i.collection(b),onChange:m})}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),l===yo.DOCUMENT?Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!O.data,children:"Save"}):Object(Q.jsx)(Kt.c,{unelevated:!0,onClick:function(){return l===yo.COLLECTION&&b&&u(l+1)},children:"Next"})]})]}))},ko=function(){var e=function(){var e=uo().baseUrl,t=Object(cc.b)(),n=io("".concat(e,"/documents:listCollectionIds"),{method:"POST"},{refreshInterval:1e4}).data;return((null===n||void 0===n?void 0:n.collectionIds)||[]).map((function(e){return t.collection(e)}))}();return Object(Q.jsx)(_o,{collections:e})},So=function(e){var t=e.reference,n=function(e){var t=uo().baseUrl,n=fo(e.path),r=io("".concat(t,"/documents/").concat(n,":listCollectionIds"),{method:"POST"},{refreshInterval:1e4}).data;return((null===r||void 0===r?void 0:r.collectionIds)||[]).map((function(t){return e.collection(t)}))}(t);return Object(Q.jsx)(_o,{collections:n,reference:t})},_o=function(e){var t=e.collections,n=e.reference,r=Object(d.j)().url,a=Object(d.g)(),i=Object(cc.b)(),o=mo(t),s=Object(c.useState)(!1),l=Object(G.a)(s,2),u=l[0],j=l[1],b=function(){var e=Object(H.a)(z.a.mark((function e(t){var r,c,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.collectionId)||!(null===t||void 0===t?void 0:t.document.id)){e.next=7;break}return r=(n||i).collection(t.collectionId),e.next=5,r.doc(t.document.id).set(t.document.data);case 5:c=encodeURIComponent(t.collectionId),n?(o=n.path.split("/").map((function(e){return encodeURIComponent(e)})).join("/"),a.push("/firestore/data/".concat(o,"/").concat(c))):a.push("/firestore/data/".concat(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsxs)("div",{className:"Firestore-CollectionList","data-testid":"collection-list",children:[o,u&&Object(Q.jsx)(No,{documentRef:n,open:u,onValue:b,onClose:function(){return j(!1)}}),Object(Q.jsx)(bi.a,{dense:!0,className:"List-Actions",tag:"div",children:Object(Q.jsx)(Gn.d,{className:"list-button",tag:Ae.a,dense:!0,icon:"add",label:"Start collection",onClick:function(){return j(!0)}})}),Object(Q.jsx)(bi.a,{dense:!0,tag:"div",children:t&&t.map((function(e){return Object(Q.jsx)(Eo,{collectionId:e.id,routeMatchUrl:r},e.id)}))})]})},Eo=function(e){var t=e.collectionId,n=e.routeMatchUrl;return Object(Q.jsx)(Gn.d,{className:"Firestore-List-Item",tag:u.c,to:"".concat(n,"/").concat(encodeURIComponent(t)),activeClassName:"mdc-list-item--activated","data-testid":"firestore-collection-list-item",children:t},t)},Ao=function(e){var t=e.documentRef,n=e.onConfirm,r=e.onClose,a=Object(je.a)(e,["documentRef","onConfirm","onClose"]),i=Object(c.useState)(!1),o=Object(G.a)(i,2),s=o[0],l=o[1];return Object(Q.jsxs)(Kt.a,Object(V.a)(Object(V.a)({},a),{},{onClose:function(e){"accept"===e.detail.action&&n({recursive:s}),r&&r(e)},children:[Object(Q.jsx)(Kt.e,{children:"Delete document"}),Object(Q.jsx)(Kt.d,{children:Object(Q.jsxs)("div",{className:"Firestore--dialog-body",children:[Object(Q.jsx)(vn,{aside:!0,type:"warning",children:"This will permanently delete the document."}),Object(Q.jsx)(Dn,{label:"Document location",value:"/".concat(t.path),disabled:!0}),Object(Q.jsx)("div",{children:Object(Q.jsx)(Qr.a,{label:"Also delete nested collections and documents",checked:s,onChange:function(e){l(e.currentTarget.checked)}})}),s&&Object(Q.jsxs)(vn,{aside:!0,type:"note",children:["Cloud Functions triggers ",Object(Q.jsx)("b",{children:"will not"})," be executed."]})]})}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})]}))},Do=function(e){return yn({title:"Delete data",body:Object(Q.jsxs)("div",{className:"Firestore--dialog-body",children:[Object(Q.jsx)(vn,{aside:!0,type:"warning",children:"This will delete all fields of the document, excluding subcollections."}),Object(Q.jsx)(Dn,{label:"Document location",value:"/".concat(e.path),fullwidth:!0,disabled:!0})]}),acceptLabel:null,cancelLabel:null,footer:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})})},Ro=n(128),To=Sa.a.firestore.FieldValue.delete();function Io(e,t,n,r){var a=Po(t,n,r);e.update.apply(e,Object(Ie.a)(a))}function Fo(e,t,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=Object(H.a)(z.a.mark((function e(t,n,r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(!e.sent.exists){e.next=5;break}throw new Error(".set() on an existing document would delete other fields");case 5:return e.next=7,t.set(Object(Ve.a)({},n,r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e,t,n){var r=e,a=[],c=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(c=(s=l.next()).done);c=!0){var u=s.value;if(void 0===r||!Pa(r))throw new Error("Tried to set field ".concat(u," on non-map value."));if(r=r[u],a.push(u),a.length<t.length&&Ua(r)){var d=Object(Ro.a)(Sa.a.firestore.FieldPath,a),j=t.slice(a.length);return n===To||To.isEqual(n)?[d,Ba(r,j)]:[d,qa(r,j,n)]}}}catch(b){i=!0,o=b}finally{try{c||null==l.return||l.return()}finally{if(i)throw o}}return[Object(Ro.a)(Sa.a.firestore.FieldPath,Object(Ie.a)(t)),n]}n(364);var Uo=i.a.createContext(void 0),Mo=function(e){var t=e.value,n=e.children;return Object(Q.jsx)(Uo.Provider,{value:t,children:n})};function qo(){var e=i.a.useContext(Uo);if(void 0===e)throw new Error("useDocumentState must be used within a DocumentStateProvider");return e}function Bo(e){var t=qo();return 0===e.length?t:Ea()(t,e)}var Vo=i.a.createContext(void 0),Wo=function(e){var t=e.value,n=e.children;return Object(Q.jsx)(Vo.Provider,{value:t,children:n})};function zo(e,t){if("nullValue"in e)return"null";if("boolValue"in e)return Va(e.boolValue||!1,t);if("intValue"in e)return Ho(e.intValue);if("floatValue"in e)return Ho(e.floatValue);if("stringValue"in e)return Va(e.stringValue||"",t);if("bytesValue"in e)return Va(Sa.a.firestore.Blob.fromBase64String(e.bytesValue||""),t);if("durationValue"in e)return e.durationValue||"0s";var n,r,a,c,i,o,s,l,u;if("timestampValue"in e)return Wa(new Date(e.timestampValue||0));if("latlngValue"in e)return Ga((null===(n=e.latlngValue)||void 0===n?void 0:n.latitude)||0,(null===(r=e.latlngValue)||void 0===r?void 0:r.longitude)||0);if("listValue"in e)return za(null!==(a=null===(c=e.listValue)||void 0===c?void 0:c.values)&&void 0!==a?a:[],t,zo);if("setValue"in e)return za(null!==(i=null===(o=e.setValue)||void 0===o?void 0:o.values)&&void 0!==i?i:[],t,zo);if("mapValue"in e)return Ha(null!==(s=null===(l=e.mapValue)||void 0===l?void 0:l.fields)&&void 0!==s?s:{},t,zo);if("pathValue"in e)return"/"+Go(e.pathValue,t);if("constraintValue"in e)return"(Constraint)";if("mapDiffValue"in e)return"(MapDiff)";if("undefined"in e)return"(Error: ".concat((null===(u=e.undefined)||void 0===u?void 0:u.causeMessage)||"unknown",")");var d=JSON.stringify(e);return console.warn("Unknown ExpressionValue type: ".concat(d)),d}function Ho(e){return void 0===e?"0":"string"===typeof e?e:e.toString()}function Go(e,t){return e&&e.segments?e.segments.map((function(e){return function(e,t){return e.simple?e.simple:e.capture?e.capture.boundValue||"{".concat(e.capture.variableName,"}"):e.globCapture?e.globCapture.boundValue?Go(e.globCapture.boundValue,t):"{".concat(e.globCapture.variableName,"=**}"):""}(e,t)})).join("/"):""}function Ko(e,t){var n,r=Object(Q.jsx)("span",{className:"Constraint-unknown",children:"\u03c7"});if(!(null===e||void 0===e||null===(n=e.simpleConstraints)||void 0===n?void 0:n.length))return r;var a=!0,c=[],i=!0,o=!1,s=void 0;try{for(var l,u=e.simpleConstraints[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var d=l.value;a?(c.push(Object(Q.jsx)("span",{className:"Constraint-hint",children:"where "})),a=!1):c.push(Object(Q.jsx)("span",{className:"Constraint-and",children:" && "}));var j=d.comparator,b=d.value;if(!b)throw new Error("Constraint value unset in ".concat(JSON.stringify(d)));var f=zo(b,t);if(!j||"UNSET_COMPARATOR"===j)throw new Error("Constraint comparator unset in ".concat(JSON.stringify(d)));"LIST_CONTAINS"===j?c.push(Object(Q.jsxs)("span",{children:["(",f," in ",r,")"]})):c.push(Object(Q.jsxs)("span",{children:[r," ",Qo[j]||j," ",f]}))}}catch(h){o=!0,s=h}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return Object(Q.jsxs)("span",{children:[r," (",c,")"]})}var Jo,Qo={EQ:"==",NEQ:"!=",GT:">",GTE:">=",LT:"<",LTE:"<="},Zo=function e(t){var n=t.path,r=t.maxSummaryLen,o=t.children,s=t.actions,l=t.childComponent,u=void 0===l?e:l,d=function(e,t){var n=i.a.useContext(Uo),r=i.a.useContext(Vo);if(void 0!==n){var a=0===e.length?n:Ea()(n,e),c=null;Pa(a)?c=Object.keys(a).sort(Ka).map((function(t){return[].concat(Object(Ie.a)(e),[t])})):Ua(a)&&(c=a.map((function(t,n){return[].concat(Object(Ie.a)(e),["".concat(n)])})));var o=Va(a,t.maxSummaryLen);return{title:Fa(a)?a.toDate().toISOString():o,summary:o,childPaths:c,typeDisp:Ta(a)}}if(void 0!==r){var s,l=0===e.length?r:Ea()(r,e),u=null;if(l.mapValue)u=Object.keys(null!==(s=l.mapValue.fields)&&void 0!==s?s:{}).sort(Ka).map((function(t){return[].concat(Object(Ie.a)(e),["mapValue","fields",t])}));else if(l.listValue){var d;u=(null!==(d=l.listValue.values)&&void 0!==d?d:[]).map((function(t,n){return[].concat(Object(Ie.a)(e),["listValue","values","".concat(n)])}))}else if(l.setValue){var j;u=(null!==(j=l.setValue.values)&&void 0!==j?j:[]).map((function(t,n){return[].concat(Object(Ie.a)(e),["setValue","values","".concat(n)])}))}if(l.constraintValue)return{title:"",summary:Ko(l.constraintValue,t.maxSummaryLen),childPaths:null,typeDisp:"constraint"};var b=zo(l,t.maxSummaryLen);return{title:l.timestampValue?new Date(l.timestampValue).toISOString():b,summary:b,childPaths:u,typeDisp:l.pathValue?"path":(Object.keys(l)[0]||"unknown").replace("Value","")}}throw new Error("useFieldInfo must be used within a DocumentStateProvider or ExpressionValueStateProvider")}(n,{maxSummaryLen:r}),j=d.summary,b=d.title,f=d.typeDisp,h=d.childPaths,p=Object(c.useState)(!h||h.length>0),O=Object(G.a)(p,2),m=O[0],v=O[1];return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(Gn.d,{onClick:function(){return n.length&&v(!m)},className:_e()("FieldPreview",{"FieldPreview--primitive":!h,"FieldPreview--expanded":h&&m}),children:[Object(Q.jsx)(be.a,{className:"FieldPreview-expand-icon",icon:{size:"xsmall",icon:m?"arrow_drop_down":"arrow_right"}}),Object(Q.jsx)(a.a,{use:"secondary",tag:"span",className:"FieldPreview-key",children:n[n.length-1]||""}),Object(Q.jsx)("span",{className:"FieldPreview-summary",title:b,children:j}),Object(Q.jsxs)(Gn.f,{className:"FieldPreview-actions",children:[Object(Q.jsxs)("span",{className:"FieldPreview-type",children:["(",f,")"]}),s]})]}),o,h&&m&&Object(Q.jsx)("div",{className:n.length?"FieldPreview-children":"FieldPreview-top-level-fields",children:h.map((function(e){return Object(Q.jsx)(u,{path:e,maxSummaryLen:r},Ra(e))}))})]})},Yo=function e(t){var n,r=t.path,a=t.documentRef,i=t.maxSummaryLen,o=qo(),s=Bo(r.slice(0,-1)),l=Bo(r),u=Object(c.useState)(!1),d=Object(G.a)(u,2),j=d[0],b=d[1],f=Object(c.useState)(!1),h=Object(G.a)(f,2),p=h[0],O=h[1],m=Object(c.useCallback)((function(t){return Object(Q.jsx)(e,Object(V.a)({documentRef:a},t))}),[a]);return j?Object(Q.jsxs)(Q.Fragment,{children:[Ua(s)&&Object(Q.jsx)(Vc,{value:[l],onCancel:function(){b(!1)},onSave:function(e,t){Io(a,o,r,t),b(!1)},areRootKeysMutable:!1,firestore:a.firestore}),Pa(s)&&Object(Q.jsx)(Vc,{value:Object(Ve.a)({},Ra(r),l),onCancel:function(){b(!1)},onSave:function(e,t){Io(a,o,[].concat(Object(Ie.a)(Da(r)),[e]),t),b(!1)},areRootKeysMutable:!1,firestore:a.firestore})]}):Object(Q.jsxs)(Zo,{path:r,maxSummaryLen:i,childComponent:m,actions:Object(Q.jsxs)(Q.Fragment,{children:[Ma(l)&&(n=l,Lc.has(Ta(n)))&&Object(Q.jsx)(fr.a,{icon:"edit",label:"Edit field",onClick:function(e){e.stopPropagation(),b(!0)}})," ",(Ua(l)||Pa(l))&&Object(Q.jsx)(fr.a,{icon:"add",label:"Add field",onClick:function(e){e.stopPropagation(),O(!0)}}),Object(Q.jsx)(fr.a,{icon:"delete",label:"Remove field",onClick:function(e){e.stopPropagation(),function(e,t,n){var r=Po(t,n,To);e.update.apply(e,Object(Ie.a)(r))}(a,o,r)}})]}),children:[p&&Ua(l)&&Object(Q.jsx)(Vc,{value:[""],onCancel:function(){O(!1)},startingIndex:l.length,onSave:function(e,t){var n=[].concat(Object(Ie.a)(r),["".concat(l.length)]);Io(a,o,n,t),O(!1)},areRootKeysMutable:!Ua(l),firestore:a.firestore}),p&&Pa(l)&&Object(Q.jsx)(Vc,{value:{"":""},onCancel:function(){O(!1)},onSave:function(e,t){var n=[].concat(Object(Ie.a)(r),[e]);Io(a,o,n,t),O(!1)},areRootKeysMutable:!Ua(l),firestore:a.firestore})]})},$o=function(e){var t=e.children;return Object(Q.jsx)(de.a,{theme:"secondary",use:"body2",className:"Firestore-Document-Warning",children:Object(Q.jsx)("i",{children:t})})},Xo=function(e){var t=e.reference,n=e.maxSummaryLen,r=void 0===n?20:n,a=Object(cc.d)(t,{suspense:!0}).data,i=Object(c.useState)(!1),o=Object(G.a)(i,2),s=o[0],l=o[1],u=a.exists,d=u?a.data():{},j=u&&0===Object.keys(d).length;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(Mo,{value:d||{},children:Object(Q.jsxs)(bi.a,{dense:!0,className:"List-Actions Firestore-Document-Fields",tag:"div",children:[Object(Q.jsx)(Gn.d,{className:"list-button",tag:Ae.a,label:"Add field",dense:!0,icon:"add",onClick:function(){return l(!0)}}),s&&Object(Q.jsx)(Vc,{value:{"":""},onCancel:function(){l(!1)},onSave:function(){var e=Object(H.a)(z.a.mark((function e(n,r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=5;break}return e.next=3,Fo(t,n,r);case 3:e.next=6;break;case 5:Io(t,d,[n],r);case 6:l(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),areRootKeysMutable:!0,firestore:t.firestore}),u&&!j&&Object(Q.jsx)("div",{className:"Firestore-Field-List",children:Object.keys(d).sort(Ka).map((function(e){return Object(Q.jsx)(Yo,{path:[e],documentRef:t,maxSummaryLen:r},e)}))}),!u&&Object(Q.jsx)($o,{children:"This document does not exist, it will not appear in queries or snapshots"}),j&&Object(Q.jsx)($o,{children:"This document has no data"})]})})})},es=function(e){var t=e.collectionById,n=e.children,r=Object(d.j)().url;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"Firestore-Document",children:n}),Object(Q.jsx)(d.b,{path:"".concat(r,"/:id"),render:function(e){var n=e.match;return Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(xo,{collection:t(decodeURIComponent(n.params.id))}),children:Object(Q.jsx)(wo,{collection:t(decodeURIComponent(n.params.id))})})}})]})},ts=function(){var e=Object(cc.b)();return Object(Q.jsxs)(es,{id:"Root",collectionById:function(t){return e.collection(t)},children:[Object(Q.jsx)(ho,{id:"Root",icon:Object(Q.jsx)(fe,{})}),Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Ee,{message:"Loading collections"}),children:Object(Q.jsx)(ko,{})})]})},ns=function(e){var t=e.reference,n=bo(),r=Object(c.useState)(!1),a=Object(G.a)(r,2),i=a[0],o=a[1],s=function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(t);case 2:e.sent&&t.set({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Q.jsxs)(es,{id:t.id,collectionById:function(e){return t.collection(e)},children:[i&&Object(Q.jsx)(Ao,{documentRef:t,open:i,onConfirm:function(e){return e.recursive?n(t):t.delete()},onClose:function(){return o(!1)}}),Object(Q.jsxs)(ho,{id:t.id,icon:Object(Q.jsx)(be.a,{icon:{icon:"insert_drive_file",size:"small"}}),children:[Object(Q.jsx)(Si,{textToCopy:t.id,label:"Copy document ID"}),Object(Q.jsxs)(mr.c,{handle:Object(Q.jsx)(fr.a,{icon:"more_vert",label:"Menu"}),renderToPortal:!0,children:[Object(Q.jsx)(mr.b,{onClick:function(){return o(!0)},children:"Delete document"}),Object(Q.jsx)(mr.b,{onClick:s,children:"Delete all fields"})]})]}),Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Ee,{message:"Loading collections"}),children:Object(Q.jsx)(So,{reference:t})}),Object(Q.jsx)(Gn.a,{tag:"div"}),Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Ee,{message:"Loading document"}),children:Object(Q.jsx)(Xo,{reference:t})})]})},rs=(n(365),n(426)),as=function(e){var t=e.showCopyNotification,n=e.setShowCopyNotification,r=e.timeout;return Object(Q.jsx)(rs.a,{className:"Firestore-Requests-Copy-Path-Snackbar",open:t,onClose:function(){return n(!1)},message:"Request path copied to clipboard",icon:{icon:"check_circle",size:"medium"},timeout:r})};!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTED=1]="CONNECTED",e[e.PENDING=2]="PENDING"}(Jo||(Jo={}));var cs=function(){function e(t){var n=this;Object(We.a)(this,e),this.state=Jo.DISCONNECTED,this.listener=void 0,this.interval=void 0,this.ws=void 0,this.connect(t),this.interval=setInterval((function(){return n.connect(t)}),1e3)}return Object(ze.a)(e,[{key:"connect",value:function(e){var t=this;if(this.state===Jo.DISCONNECTED){var n=new WebSocket(e);this.ws=n,this.state=Jo.PENDING,n.onopen=function(){t.state=Jo.CONNECTED},n.onclose=function(){t.state=Jo.DISCONNECTED},n.onmessage=function(e){var n=JSON.parse(e.data);t.listener&&t.listener(n)}}}},{key:"cleanup",value:function(){this.listener=void 0,this.interval&&clearInterval(this.interval),this.ws&&this.ws.close(),this.ws=void 0}}]),e}(),is=i.a.createContext(void 0),os=function(e){var t=e.children,n=Object(c.useState)(),r=Object(G.a)(n,2),a=r[0],i=r[1],o=re(),s=null===o||void 0===o?void 0:o.projectId,l=null===o||void 0===o?void 0:o.firestore;Object(c.useEffect)((function(){if(s&&l&&l.webSocketHost&&l.webSocketPort){var e=new URL("ws://placeholder/requests");e.host=l.webSocketHost,e.port=l.webSocketPort.toString();var t=new cs(e.toString());return t.listener=function(e){e instanceof Array?i(e.filter(n)):n(e)&&i((function(t){return[].concat(Object(Ie.a)(t||[]),[e])}))},function(){return t.cleanup()}}function n(e){return!e.rulesReleaseName||e.rulesReleaseName.startsWith("projects/".concat(s,"/"))}i(void 0)}),[s,l,i]);var u=$(a);return Object(Q.jsx)(is.Provider,{value:{requests:a,promise:u},children:t})};function ss(){var e=i.a.useContext(is);if(void 0===e)throw new Error("useFirestoreRequests must be used within a <FirestoreRequestsProvider>");if(!e.requests)throw e.promise;return{requests:e.requests}}n(366);var ls=n(240),us=n.n(ls),ds={allow:"check_circle",deny:"remove_circle",error:"report_problem",admin:"security"},js={allow:{theme:"success",icon:ds.allow,label:"ALLOW"},deny:{theme:"warning",icon:ds.deny,label:"DENY"},error:{theme:"warning",icon:ds.error,label:"ERROR"},admin:{theme:"success",icon:ds.admin,label:"ADMIN"}};function bs(e){var t=Object(c.useState)(),n=Object(G.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){var t,n=function(){var t;return null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.offsetWidth},r=us()((function(){a(n())}),150);return a(n()),null===(t=window)||void 0===t||t.addEventListener("resize",r),function(){var e;return null===(e=window)||void 0===e?void 0:e.removeEventListener("resize",r)}}),[a,e]),r}n(367),n(370),n(371);var fs=n(87),hs=n.n(fs),ps=(n(372),function(){return Object(Q.jsx)(a.a,{use:"surface",wrap:!0,children:Object(Q.jsx)("div",{className:"Firestore-Requests-Details-Code-Admin-Request-Container",children:Object(Q.jsx)(de.a,{use:"body2",theme:"textSecondaryOnBackground",className:"Firestore-Requests-Details-Code-Admin-Request-Message",children:"Admin requests bypass Firestore rules"})})})}),Os=(n(373),/(?:allow|function|match|service|if|import|as|let|return)\b/),ms=/[a-z$][\w$]*/,vs=/true|false|null/,xs=/(\/\/.*)/,gs=/(?:[-+/*=<>!&|]+)/,ys=/(b?"[^"]*")|(b?'[^']*')|[0-9]+(\.[0-9]+)?/,ws=/(?:[.,:[\]{}()])/,Cs=/(?:auth|create|delete|get|headers|method|params|path|read|request|resource|time|uid|update|write|list)\b/,Ns="firebaseRules";function ks(){hs.a.defineSimpleMode(Ns,{start:[{regex:xs,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:Os,token:"keyword"},{regex:vs,token:"atom"},{regex:gs,token:"operator"},{regex:Cs,token:"string"},{regex:ys,token:"number"},{regex:ms,token:"variable"},{regex:ws,token:"misc"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],lineComment:"//"}})}var Ss={"--emulator-ui-code-success-primary":an.primary,"--emulator-ui-code-success-background":an.background,"--emulator-ui-code-error-primary":fn.primary,"--emulator-ui-code-error-background":fn.background,"--emulator-ui-code-comment-text":b},_s={tabSize:2,indentUnit:2,lineNumbers:!0,theme:"devsite-light",keyMap:"sublime",mode:Ns,readOnly:"nocursor",gutters:["CodeMirror-gutter-elt"]};var Es=function(e){var t=e.firestoreRules,n=e.linesOutcome,r=e.isAdminRequest;Object(c.useEffect)(ks,[]);var a=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(a.current){if("none"===a.current.style.display)return;var e=hs.a.fromTextArea(a.current,_s);e.setSize("100%","100%"),null===n||void 0===n||n.forEach((function(t){var n=t.line,r=t.outcome?"allow":"deny";e.setGutterMarker(n-1,"CodeMirror-gutter-elt",function(e){var t=document.createElement("i");return t.className="CodeMirror-gutter-icon ".concat(e," material-icons"),t.textContent=ds[e],t}(r)),e.addLineClass(n-1,"","highlighted-line-of-code--".concat(r))}))}}),[a,t,n]),Object(Q.jsxs)("div",{"data-testid":"request-details-code-viewer-section",className:"Firestore-Request-Details-Code-Section",style:Ss,children:[(null===n||void 0===n?void 0:n.length)?Object(Q.jsx)(Q.Fragment,{}):Object(Q.jsx)(vn,{type:"caution",children:"The request did not match any allow statements, so it was denied by default."}),r?Object(Q.jsx)(ps,{}):Object(Q.jsx)("textarea",{ref:a,value:t,readOnly:!0})]})};n(374),n(375);var As=function(e){var t=e.resourcePath,n=e.setShowCopyNotification,r=e.requestPathContainerWidth,a=Object(c.useRef)(null),i=Object(c.useRef)(null),o=Object(c.useState)(),s=Object(G.a)(o,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){r!==l&&function(e,t,n,r){var a,c=e.current;if(c&&r){var i=c.textContent,o=c.offsetWidth,s=(null===(a=t.current)||void 0===a?void 0:a.offsetWidth)||0,l=(null===i||void 0===i?void 0:i.length)||0,u=l?o/l:0;if(u){var d=r-s,j=Math.floor(d/u),b=n.length-j,f=b>0?"...".concat(n.substr(b+3)):n;c.textContent!==f&&(c.textContent=f)}}}(a,i,t,r)}),[a,i,t,r,l]),Object(c.useEffect)((function(){u(r)}),[r,u]),Object(Q.jsxs)("div",{className:"Firestore-Request-Path-Container",children:[Object(Q.jsx)(ya.a,{content:t,align:"bottomLeft",enterDelay:400,children:Object(Q.jsx)("div",{className:"Firestore-Request-Path-String",ref:a,"data-testid":"request-path-text",children:t})}),Object(Q.jsx)(ya.a,{content:"Copy path",align:"bottom",enterDelay:400,children:Object(Q.jsx)(fr.a,{className:"Firestore-Request-Path-Copy-Button",ref:i,icon:"content_copy",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e,t){var n,r;if(!(null===(n=navigator)||void 0===n||null===(r=n.clipboard)||void 0===r?void 0:r.writeText))throw new Error("Your browser does not support copying to clipboard");navigator.clipboard.writeText(e.replace(/\s/g,"")).then((function(){return t(!0)})).catch((function(e){throw t(!1),new Error("Could not copy to clipboard.\n\nReason: ".concat(e))}))}(t,n)}})})]})},Ds=function(e){var t=e.requestTimeComplete,n=e.requestTimeFormatted,r=e.requestMethod,i=e.resourcePath,o=e.outcomeData,s=e.setShowCopyNotification,l=Object(c.useRef)(null),d=bs(l);return Object(Q.jsx)(a.a,{use:"surface",wrap:!0,children:Object(Q.jsxs)("div",{"data-testid":"request-details-header",className:"Firestore-Request-Details-Header",children:[Object(Q.jsx)("div",{className:"Firestore-Request-Details-Header-Return",children:Object(Q.jsx)(ya.a,{content:"Go back to table",align:"bottom",enterDelay:100,children:Object(Q.jsx)(fr.a,{className:"Firestore-Request-Details-Header-Return-Button",icon:{icon:"arrow_back_ios",size:"small"},tag:u.b,to:"/firestore/requests",label:"header-return-button"})})}),Object(Q.jsxs)("div",{className:"Firestore-Request-Details-Header-Info",children:[Object(Q.jsx)(a.a,{use:"secondary",children:Object(Q.jsx)(ya.a,{content:t,align:"bottom",enterDelay:300,children:Object(Q.jsx)("div",{className:"Firestore-Request-Date",children:n})})}),Object(Q.jsx)(On,{use:(null===o||void 0===o?void 0:o.theme)||"note",wrap:!0,children:Object(Q.jsx)("div",{className:"Firestore-Request-Outcome",children:(null===o||void 0===o?void 0:o.icon)&&Object(Q.jsx)(ya.a,{content:null===o||void 0===o?void 0:o.label,align:"bottom",enterDelay:100,children:Object(Q.jsx)(be.a,{className:"Firestore-Request-Outcome-Icon",icon:{icon:null===o||void 0===o?void 0:o.icon,size:"medium"}})})})}),Object(Q.jsx)("div",{className:"Firestore-Request-Method",children:r}),Object(Q.jsx)("div",{className:"Firestore-Request-Path",ref:l,children:i&&Object(Q.jsx)(As,{resourcePath:i,setShowCopyNotification:s,requestPathContainerWidth:d})})]})]})})},Rs=(n(376),n(377),"Firestore-Request-Details-Inspection-Block"),Ts=function(e){var t=e.label,n=e.value,r=e.isMainBlock,i=e.children,o=Object(c.useState)(!!r),s=Object(G.a)(o,2),l=s[0],u=s[1];return Object(Q.jsxs)(a.b,{options:{surface:r?"#e2e2e2":f,textIconOnLight:b},children:[Object(Q.jsx)(a.a,{use:"surface",wrap:!0,children:Object(Q.jsxs)("div",{className:_e()(Rs,r&&"Firestore-Request-Details-Inspection-Block--Main"),onClick:function(){return u(!l)},"data-testid":r?"inspection-main-block":"inspection-block",children:[Object(Q.jsx)("span",{className:"".concat(Rs,"-Label"),children:t}),Object(Q.jsx)(a.a,{use:"textIconOnLight",children:Object(Q.jsx)(be.a,{className:"".concat(Rs,"-Icon"),icon:{icon:l?"expand_less":"expand_more"}})})]})}),l&&(i||Object(Q.jsx)(a.a,{use:"secondary",children:Object(Q.jsx)("div",{className:"".concat(Rs,"-Value"),children:Object(Q.jsx)(Wo,{value:n,children:Object(Q.jsx)("div",{className:"Firestore-Field-List mdc-list--non-interactive",children:Object(Q.jsx)(Zo,{path:[],maxSummaryLen:20})})})})}))]})},Is=function(e){var t=e.inspectionExpressions;return Object(Q.jsx)("div",{"data-testid":"request-details-inspection-section",className:"Firestore-Request-Details-Inspection",children:Object(Q.jsx)(Ts,{isMainBlock:!0,label:"Detailed information",value:{nullValue:null},children:(null===t||void 0===t?void 0:t.length)?t.map((function(e){var t=e.label,n=e.value;return Object(Q.jsx)(Ts,{label:t,value:n},t)})):Object(Q.jsx)("span",{className:"Firestore-Request-Details-Inspection-Nothing-To-Show",children:"Nothing to show here"})})})};function Fs(e,t){return[].concat(Object(Ie.a)(e),Object(Ie.a)((null===t||void 0===t?void 0:t.map((function(e){return{outcome:"error",line:e.line}})))||[]))}function Ls(e,t){if("admin"===t)return[];for(var n=[],r=0,a=["auth","method","path","query","resource","time"];r<a.length;r++){var c,i,o=a[r],s=null===(c=e.request.mapValue)||void 0===c||null===(i=c.fields)||void 0===i?void 0:i[o];s&&n.push({label:"request.".concat(o),value:s})}return e.resource&&n.push({label:"resource",value:e.resource}),n}var Ps=function(e){var t=e.selectedRequest,n=e.requestId,r=e.setShowCopyNotification,a=function(e){if(!e)return{};var t=e.rulesContext,n=e.granularAllowOutcomes,r=e.rules,a=e.outcome,c=new Date(t.time);return{requestTimeComplete:c.toLocaleString(),requestTimeFormatted:c.toLocaleTimeString("en-US",{hour12:!1}),requestMethod:t.method,resourcePath:t.path.replace("/databases/(default)/documents",""),outcome:a,outcomeData:js[a],firestoreRules:r,linesOutcome:Fs(n),inspectionExpressions:Ls(t,a)}}(t),c=a.requestTimeComplete,i=a.requestTimeFormatted,o=a.requestMethod,s=a.resourcePath,l=a.outcome,u=a.outcomeData,j=a.firestoreRules,b=a.linesOutcome,f=a.inspectionExpressions;return n&&!t?Object(Q.jsx)(d.a,{to:"/firestore/requests"}):Object(Q.jsx)("div",{"data-testid":"request-details",children:t&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ds,{requestTimeComplete:c,requestTimeFormatted:i,requestMethod:o,resourcePath:s,outcomeData:u,setShowCopyNotification:r}),Object(Q.jsxs)("div",{className:"Firestore-Request-Details-Content",children:[Object(Q.jsx)(Es,{firestoreRules:j,linesOutcome:b,isAdminRequest:"admin"===l}),Object(Q.jsx)(Is,{inspectionExpressions:f})]})]})})},Us=function(e){var t,n=(t=e.requestId,ss().requests.find((function(e){return e.requestId===t})));return Object(Q.jsx)(Ps,Object(V.a)({selectedRequest:n},e))},Ms=(n(216),n(378),function(){return Object(Q.jsx)(de.a,{use:"body2","aria-live":"polite",theme:"textSecondaryOnBackground",className:"Firestore-Requests-Table-No-Results",children:"No results"})});var qs,Bs=function(e){var t=e.request,n=e.requestId,r=e.setShowCopyNotification,a=e.requestPathContainerWidth,c=Object(d.g)(),i=function(e){var t=e.rulesContext,n=e.outcome,r=e.time,a=new Date(r);return{requestTimeComplete:a.toLocaleString(),requestTimeFormatted:a.toLocaleTimeString("en-US",{hour12:!1}),requestMethod:t.method,resourcePath:t.path.replace("/databases/(default)/documents",""),outcomeData:js[n]}}(t),o=i.requestTimeComplete,s=i.requestTimeFormatted,l=i.requestMethod,u=i.resourcePath,j=i.outcomeData;return Object(Q.jsxs)(Or.g,{onClick:function(){return c.push("/firestore/requests/".concat(n))},children:[Object(Q.jsx)(ya.a,{content:o,align:"bottomLeft",enterDelay:300,children:Object(Q.jsx)(Or.c,{className:"Firestore-Request-Date",theme:"secondary",children:s})}),Object(Q.jsx)(On,{use:(null===j||void 0===j?void 0:j.theme)||"note",wrap:!0,children:Object(Q.jsx)(Or.c,{className:"Firestore-Request-Outcome",children:(null===j||void 0===j?void 0:j.icon)&&Object(Q.jsx)(ya.a,{content:null===j||void 0===j?void 0:j.label,align:"bottom",enterDelay:100,children:Object(Q.jsx)(be.a,{className:"Firestore-Request-Outcome-Icon",icon:{icon:null===j||void 0===j?void 0:j.icon,size:"medium"}})})})}),Object(Q.jsx)(Or.c,{className:"Firestore-Request-Method",children:l}),Object(Q.jsx)(Or.c,{className:"Firestore-Request-Path",children:u&&Object(Q.jsx)(As,{resourcePath:u,setShowCopyNotification:r,requestPathContainerWidth:a})})]})},Vs=(n(379),function(){return Object(Q.jsx)(de.a,{use:"body2",theme:"textSecondaryOnBackground",className:"Firestore-Requests-Table-Zero-State",children:"No Firestore requests for this project yet"})}),Ws="Firestore-Requests-Table",zs=function(e){var t=e.filteredRequests,n=e.shouldShowZeroState,r=e.shouldShowZeroResults,a=e.shouldShowTable,i=e.setShowCopyNotification,o=Object(c.useRef)(null),s=bs(o);return Object(Q.jsxs)("div",{className:"".concat(Ws,"-Main-Container"),children:[Object(Q.jsx)(Or.a,{className:_e()(Ws,!a&&"Firestore-Requests-Table--Empty"),children:Object(Q.jsxs)(Or.d,{children:[Object(Q.jsx)(Or.e,{theme:"surface",children:Object(Q.jsxs)(Or.g,{children:[Object(Q.jsx)(Or.f,{className:"".concat(Ws,"-Date-Header"),children:"Time"}),Object(Q.jsx)(Or.f,{className:"".concat(Ws,"-Outcome-Header")}),Object(Q.jsx)(Or.f,{className:"".concat(Ws,"-Method-Header"),theme:"secondary",children:"Method"}),Object(Q.jsx)(Or.f,{className:"".concat(Ws,"-Path-Header"),theme:"secondary",children:Object(Q.jsx)("div",{ref:o,children:"Path"})})]})}),Object(Q.jsx)(Or.b,{children:a&&(null===t||void 0===t?void 0:t.map((function(e){var t=e.requestId;return Object(Q.jsx)(Bs,{requestId:t,request:e,setShowCopyNotification:i,requestPathContainerWidth:s},t)})))})]})}),r&&Object(Q.jsx)(Ms,{}),n&&Object(Q.jsx)(Vs,{}),Object(Q.jsxs)(vn,{type:"note",children:["Only client requests are shown above."," ",Object(Q.jsx)("a",{href:"https://firebase.google.com/docs/admin/setup",children:"Admin SDK"})," ","requests and"," ",Object(Q.jsx)("a",{href:"https://firebase.google.com/docs/firestore/security/rules-conditions#access_other_documents",children:"access calls initiated by Security Rules"})," ","are not listed because they bypass Security Rules."]})]})},Hs=function(e){var t=e.setShowCopyNotification,n=ss().requests,r=n;return Object(Q.jsx)(zs,{filteredRequests:r,shouldShowZeroState:0===n.length,shouldShowZeroResults:n.length>0&&0===r.length,shouldShowTable:r.length>0,setShowCopyNotification:t})},Gs=function(){var e=Object(c.useState)(!1),t=Object(G.a)(e,2),n=t[0],r=t[1];return function(){var e=te("firestore");return!(!e.webSocketHost||!e.webSocketPort)}()?Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(a.b,{options:{surface:f},style:{flex:1},children:[Object(Q.jsxs)(d.d,{children:[Object(Q.jsx)(d.b,{exact:!0,path:"/firestore/requests",children:Object(Q.jsx)("div",{"data-testid":"requests-card",children:Object(Q.jsx)(Hs,{setShowCopyNotification:r})})}),Object(Q.jsx)(d.b,{exact:!0,path:"/firestore/requests/:requestId",render:function(e){var t=e.match.params.requestId;return Object(Q.jsx)(Us,{requestId:t,setShowCopyNotification:r})}}),Object(Q.jsx)(d.a,{to:"/firestore/requests"})]}),Object(Q.jsx)(as,{showCopyNotification:n,setShowCopyNotification:r})]})}):Object(Q.jsx)(Ne,{productName:"Firestore"})},Ks=function(){return Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)($s,{}),children:Object(Q.jsx)(so,{children:Object(Q.jsx)(Qs,{})})})},Js=[{path:"/firestore/data",label:"Data",exact:!1},{path:"/firestore/requests",label:"Requests",exact:!1}],Qs=i.a.memo((function(){var e=Object(d.h)(),t=Object(d.g)(),n=Object(c.useState)(!1),r=Object(G.a)(n,2),a=r[0],i=r[1],o=function(){var e=uo().baseEmulatorUrl,t="".concat(e,"/documents"),n=co({method:"DELETE"});return Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(K.b)("*"),e.next=3,n(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))}(),s=e.pathname.replace(/^\/firestore\/data/,""),l=s.split("/").length<2,j=s.split("/").length<3,b=Js.map((function(e){var t=e.path,n=e.label;return Object(Q.jsx)(wi.a,{className:"mdc-tab--min-width",tag:u.b,to:t,children:n},n)})),f=Js.findIndex((function(t){return Object(d.f)(e.pathname,{path:t.path,exact:t.exact})}));function h(){return(h=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ni();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return i(!0),e.next=8,o();case 8:p(),i(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){var n="/firestore/data";void 0===e?t.push(n):t.push("".concat(n,"/").concat(e))}return a?Object(Q.jsx)(Ee,{span:12,"data-testid":"firestore-loading"}):Object(Q.jsx)(Ui,{children:Object(Q.jsxs)(O.b,{span:12,className:"Firestore",children:[Object(Q.jsx)("div",{className:"Firestore-sub-tabs",children:Object(Q.jsx)(Ci.a,{theme:"onSurface",activeTabIndex:f,children:b})}),Object(Q.jsxs)(d.d,{children:[Object(Q.jsx)(d.b,{path:"/firestore/data",children:Object(Q.jsx)(Zs,{path:s,handleClearData:function(){return h.apply(this,arguments)},handleNavigate:p,showCollectionShell:l,showDocumentShell:j})}),Object(Q.jsx)(d.b,{path:"/firestore/requests",children:Object(Q.jsx)(Ys,{})}),Object(Q.jsx)(d.a,{from:"/firestore",to:"/firestore/data"})]})]})})})),Zs=function(e){var t=e.path,n=e.handleClearData,r=e.handleNavigate,a=e.showCollectionShell,c=e.showDocumentShell;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"Firestore-actions",children:Object(Q.jsx)(On,{use:"warning",wrap:!0,children:Object(Q.jsx)(Ae.a,{unelevated:!0,onClick:function(){return n()},children:"Clear all data"})})}),Object(Q.jsx)(m.a,{z:"2",wrap:!0,children:Object(Q.jsxs)(ue.a,{className:"Firestore-panels-wrapper",children:[Object(Q.jsx)(Hr,{base:"/firestore/data",path:t,onNavigate:r}),Object(Q.jsxs)("div",{className:"Firestore-panels",children:[Object(Q.jsx)(ts,{}),a&&Object(Q.jsx)("div",{className:"Firestore-Collection","data-testid":"collection-shell",children:Object(Q.jsx)(ho,{id:"",icon:null})}),c&&Object(Q.jsx)("div",{className:"Firestore-Document","data-testid":"document-shell",children:Object(Q.jsx)(ho,{id:"",icon:null})})]})]})})]})},Ys=function(){return Object(Q.jsx)(m.a,{z:"2",wrap:!0,children:Object(Q.jsx)(ue.a,{className:"Firestore-panels-wrapper",children:Object(Q.jsx)(Gs,{})})})},$s=function(){return ne("firestore")?Object(Q.jsx)(Ce,{productName:"Firestore"}):Object(Q.jsx)(Ee,{span:12,message:"Firestore Emulator Loading..."})},Xs=(n(380),"/storage/"),el=n(191),tl="isLocalWarningCalloutDismissed",nl=function(e){var t=e.projectId,n=Object(el.useLocalStorage)(tl);return Object(G.a)(n,1)[0]?null:Object(Q.jsx)(O.b,{span:12,children:Object(Q.jsxs)(vn,{type:"note",actions:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Ae.a,{tag:"a",href:"".concat("https://console.firebase.google.com","/project/").concat(t,"/overview"),target:"_blank",label:"View project"}),Object(Q.jsx)(Ae.a,{label:"Dismiss",onClick:function(){return Object(el.writeStorage)(tl,!0)}})]}),children:["Remember this is a local environment. Visit the production version of"," ",Object(Q.jsx)("strong",{children:t})," in the console."]})})},rl=n(192),al=n.n(rl),cl={icon:"check_circle",size:"xsmall"},il={icon:"block",size:"xsmall"},ol=function(e){var t=e.isActive;return Object(Q.jsx)(On,{use:t?"success":"note",wrap:!0,children:Object(Q.jsxs)(de.a,{use:"headline6",tag:"div",theme:t?"primary":"secondary",className:al.a.container,children:[t?"On":"Off",Object(Q.jsx)(be.a,{icon:t?cl:il,className:al.a.icon})]})})},sl=function(){var e=re();return void 0===e?Object(Q.jsx)(Ee,{span:12,message:"Overview Page Loading..."}):Object(Q.jsx)(ll,{config:e||{}})},ll=function(e){var t=e.config;return Object(Q.jsx)(O.b,{span:12,children:Object(Q.jsxs)(O.c,{children:[t.projectId&&Object(Q.jsx)(nl,{projectId:t.projectId}),Object(Q.jsx)(O.b,{span:12,children:Object(Q.jsx)(de.a,{use:"headline5",children:"Emulator overview"})}),Object(Q.jsx)(ul,{name:"Authentication emulator",icon:Object(Q.jsx)(he,{theme:"secondary"}),config:t.auth,linkTo:"/auth",testId:"emulator-info-auth"}),Object(Q.jsx)(ul,{name:"Firestore emulator",icon:Object(Q.jsx)(fe,{theme:"secondary"}),config:t.firestore,linkTo:"/firestore",testId:"emulator-info-firestore"}),Object(Q.jsx)(ul,{name:"Realtime Database emulator",icon:Object(Q.jsx)(pe,{theme:"secondary"}),config:t.database,linkTo:"/database",testId:"emulator-info-database"}),Object(Q.jsx)(ul,{name:"Functions emulator",icon:Object(Q.jsx)(Oe,{theme:"secondary"}),config:t.functions,linkTo:"/functions",linkLabel:"View logs",testId:"emulator-info-functions"}),Object(Q.jsx)(ul,{name:"Storage emulator",icon:Object(Q.jsx)(ve,{}),config:t.storage,linkTo:Xs,linkLabel:"Storage",testId:"emulator-info-storage"}),Object(Q.jsx)(ul,{name:"Hosting emulator",icon:Object(Q.jsx)(me,{theme:"secondary"}),config:t.hosting,testId:"emulator-info-hosting",linkToExternal:t.hosting&&"http://".concat(t.hosting.hostAndPort,"/"),linkLabel:"View website"}),Object(Q.jsx)(ul,{name:"PubSub emulator",icon:Object(Q.jsx)(xe,{theme:"secondary"}),config:t.pubsub,testId:"emulator-info-pubsub"})]})})},ul=function(e){var t=e.name,n=e.icon,r=e.config,a=e.linkTo,c=e.linkLabel,i=e.linkToExternal,o=e.testId;return Object(Q.jsx)(O.b,{span:4,children:Object(Q.jsxs)(ue.a,{className:"Home-EmulatorCard","data-testid":o,children:[Object(Q.jsxs)("div",{className:"Home-EmulatorCard-Info",children:[Object(Q.jsxs)(de.a,{use:"headline6",tag:"h3",className:"title",children:[n," ",Object(Q.jsx)("span",{children:t})]}),Object(Q.jsx)(de.a,{use:"body2",tag:"h4",theme:"secondary",children:"Status"}),Object(Q.jsx)(ol,{isActive:!!r}),Object(Q.jsx)(de.a,{use:"body2",tag:"h4",theme:"secondary",children:"Port number"}),Object(Q.jsx)(de.a,{use:"headline6",tag:"div",children:r?r.port:"N/A"})]}),(i||a)&&Object(Q.jsx)(Gn.a,{tag:"div"}),Object(Q.jsx)(ue.e,{children:Object(Q.jsxs)(ue.d,{children:[i&&Object(Q.jsx)(ue.b,{tag:"a",href:i,target:"_blank",children:c}),a&&Object(Q.jsx)(ue.b,{tag:u.b,to:a,children:c||"Go to emulator"})]})})]})})},dl=(n(382),function(){function e(){Object(We.a)(this,e),this.getters={}}return Object(ze.a)(e,[{key:"getOrCompile",value:function(e,t){if(!this.getters[e])try{this.getters[e]=new Function("obj","return obj."+e+";")}catch(n){return void console.warn(n)}try{return this.getters[e](t)}catch(n){return}}}]),e}()),jl=(n(383),n(165));n(384);!function(e){e[e.NONE=0]="NONE",e[e.DOT=1]="DOT",e[e.BRACKET=2]="BRACKET",e[e.INCREMENT=3]="INCREMENT"}(qs||(qs={}));var bl=function(e){return e.match(/^[A-Z|_]+$/i)?{mode:qs.DOT,key:e}:{mode:qs.BRACKET,key:e}},fl=function(e){return e.map((function(e){switch(e.mode){case qs.NONE:return e.key;case qs.BRACKET:return'["'.concat(e.key,'"]');case qs.DOT:return".".concat(e.key);case qs.INCREMENT:return"[".concat(JSON.stringify(e.key),"]")}return""})).join("")},hl=function(e){var t=e.data,n=e.appendToQuery,r=e.compiledGetters,a=JSON.stringify(t,null,2).split("\n");if(1===a.length)return Object(Q.jsx)("div",{className:"log-message-single",children:t});var c=!1,i=[{mode:qs.NONE,key:"user"}],o=function(e,t){return r.getOrCompile(t,{user:e})},s=a.map((function(e,r){var s=e.split('"').length-1,l=0===r&&e.startsWith("{"),u=r===a.length-1&&e.endsWith("}"),d=e.endsWith("[]")||e.endsWith("[],"),j=e.endsWith("{}")||e.endsWith("{},"),b=s>=2&&(e.endsWith("{")||j),f=s>=2&&(e.endsWith("[")||d),h=!f&&(e.endsWith("[")||d),p=!h&&(e.endsWith("{")||j),O=!e.endsWith("[")&&!e.endsWith("{")&&!e.endsWith("}")&&!e.endsWith("},"),m=e.endsWith("}")||e.endsWith("},"),v=e.endsWith("]")||e.endsWith("],");if(l)return c=!0,Object(Q.jsx)("div",{className:"line start",children:e},r);if(u)return Object(Q.jsx)("div",{className:"line end",children:e},r);if(p||h||O){var x=i[i.length-1];x.mode===qs.INCREMENT&&(x.key+=1)}if(p&&i.push({mode:qs.NONE,key:""}),h&&(i.push({mode:qs.NONE,key:""}),i.push({mode:qs.INCREMENT,key:-1})),b||f){var g=e.split(":"),y=Object(jl.a)(g),w=y[0],C=y.slice(1),N=w.split('"'),k=Object(jl.a)(N),S=k[0],_=k.slice(1).filter((function(e){return e})).join('"'),E=C.join(":");i.push(bl(_));var A=fl(i);return f&&i.push({mode:qs.INCREMENT,key:-1}),v&&(i.pop(),i.pop()),m&&i.pop(),Object(Q.jsxs)("div",{className:"line object-start",children:[S,Object(Q.jsxs)("div",{className:"clickable key",onClick:function(){return n(A,"*")},children:['"',_,'"']}),":",E]},r)}if(m)return i[i.length-1].mode!==qs.INCREMENT&&i.pop(),Object(Q.jsx)("div",{className:"line object-end",children:e},r);if(v)return i.pop(),i.pop(),Object(Q.jsx)("div",{className:"line array-end",children:e},r);if(O){if(!c)return Object(Q.jsx)("div",{className:"line literal",children:Object(Q.jsx)("div",{className:"value clickable",children:e})},r);var D=e.split(":"),R=Object(jl.a)(D),T=R[0],I=R.slice(1),F=T.split('"').slice(1).filter((function(e){return e})).join('"'),L=I.join(":").trim(),P=new Array(e.length-e.trim().length+1).join(" ");if(F&&L){var U=fl([].concat(i,[bl(F)]));return Object(Q.jsxs)("div",{className:"line literal",children:[P,Object(Q.jsxs)("div",{className:"key clickable",onClick:function(){return n(U,"*")},children:['"',F,'"']}),":"," ",Object(Q.jsx)("div",{className:"clickable value",onClick:function(){return n(U,o(t,U))},children:L})]},r)}var M=fl(i);return Object(Q.jsxs)("div",{className:"line literal",children:[P,Object(Q.jsx)("div",{className:"clickable value",onClick:function(){return n(M,o(t,M))},children:e.trim()})]},r)}return Object(Q.jsx)("div",{className:"line generic",children:e},r)}));return Object(Q.jsx)("div",{className:"HighlightedJSON",children:s})},pl=(n(385),["level","search","metadata.emulator","metadata.emulator.name","metadata.function","metadata.function.name"]);function Ol(e){var t="",n=!1,r=!0,a=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;n?(t+="\u02cd",n=!1):(t+=s,"\\"===s&&(n=!0))}}catch(h){a=!0,c=h}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}var l=t.split('"').map((function(e,t){return t%2?e.replace(/ /g,"\u02cd"):e})).join('"').split("\n").reduce((function(e,t){return[].concat(Object(Ie.a)(e),Object(Ie.a)(t.split(/((?:[^\s]+)\s?=\s?(?:[^\s]+))/)),["\n"])}),[]),u={},d=[],j=0,b=l.map((function(t,n){var r=e.slice(j,j+t.length);j+=t.length;var a=r.indexOf("=")>-1&&"="!==r[0]&&"="!==r.slice(-1)[0];if("\n"===r)return Object(Q.jsx)("br",{},n);if(!a)return d.push(r),Object(Q.jsx)("span",{className:"text",children:r},n);var c=r.split("=")[0].trim();if(a&&-1===pl.indexOf(c)&&!c.startsWith("user.")&&!c.startsWith("user["))return Object(Q.jsx)("span",{children:Object(Q.jsx)("span",{className:"invalid_pair",children:r})},n);var i=r.split("="),o=Object(G.a)(i,2),s=o[0],l=o[1];try{u[s.trim()]=JSON.parse(l)}catch(h){u[s.trim()]=l}return Object(Q.jsxs)("span",{children:[Object(Q.jsxs)("span",{className:"key",children:[s,"="]}),Object(Q.jsx)("span",{className:"value",children:l})]},n)})),f=[u.search,d.filter((function(e){return e})).join(" ").trim()].filter((function(e){return e})).join(" ");return f.length&&(u.search=f),{elements:b,filters:u}}var ml=function(e){var t=e.query,n=e.setQuery,r=Object(c.useState)(""),a=Object(G.a)(r,2),i=a[0],o=a[1];Object(c.useEffect)((function(){o(t)}),[t]);var s=Ol(i);return Object(Q.jsxs)("div",{className:"QueryBar",children:[Object(Q.jsx)("div",{className:"QueryBar-render",children:s.elements}),Object(Q.jsx)("textarea",{rows:1,className:"QueryBar-input",spellCheck:!1,value:i,onChange:function(e){return o(e.target.value)},placeholder:"Filter or search logs..."}),Object(Q.jsxs)("div",{className:"QueryBar-actions",children:[Object(Q.jsx)(Ae.a,{unelevated:!0,onClick:function(){return n(i)},disabled:t===i,children:"Apply"}),Object(Q.jsx)(Ae.a,{unelevated:!0,disabled:!i.length,onClick:function(){o(""),n("")},children:"Reset"})]})]})},vl=function(e){var t,n,r,a=e.appendToQuery,c=e.log.data.metadata;return(null===c||void 0===c||null===(t=c.function)||void 0===t?void 0:t.name)?r=Object(Q.jsxs)("div",{className:"log-tag-button",onClick:function(){var e;return a("metadata.function.name",null===(e=c.function)||void 0===e?void 0:e.name)},children:["function[",c.function.name,"]"]}):(null===c||void 0===c||null===(n=c.emulator)||void 0===n?void 0:n.name)&&(r=Object(Q.jsx)("div",{className:"log-tag-button",onClick:function(){var e;return a("metadata.emulator.name",null===(e=c.emulator)||void 0===e?void 0:e.name)},children:c.emulator.name})),Object(Q.jsx)("div",{className:"log-tag",children:r})},xl=function(e){var t=e.parsedQuery,n=e.setQuery,r=e.logs,i=e.compiledGetters,o=r.filter((function(e){return function(e,t,n){for(var r=0,a=Object.keys(e.filters);r<a.length;r++){var c=a[r];if("search"===c){if(-1===JSON.stringify(t).toLowerCase().indexOf(e.filters[c].toLowerCase()))return!1}else{var i=c;(i.startsWith("user.")||i.startsWith("metadata.")||i.startsWith("user[")||i.startsWith("metadata["))&&(i="data.".concat(i));var o=e.filters[c],s=n.getOrCompile(i,t);if(!s||void 0!==o&&"*"!==o&&o.toString()!==s.toString())return!1}}return!0}(t,e,i)})),s=Object(c.useRef)(null);Object(c.useEffect)((function(){var e,t;s&&s.current&&(null===(e=(t=s.current).scrollIntoView)||void 0===e||e.call(t))}),[o]);var l=function(e,r){n(function(e){var t=[];for(var n in e)t.push("".concat(n,"=").concat(JSON.stringify(e[n])));return t.sort().join("\n")}(Object(V.a)(Object(V.a)({},t.filters),{},Object(Ve.a)({},e,r))))},u=function(e){var t,n;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user)&&Object.keys(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.user).length};return Object(Q.jsxs)(a.b,{options:{surface:f},className:"LogHistory",children:[o.length?o.slice(-100).map((function(e,t){return Object(Q.jsxs)("div",{id:"log_".concat(t),className:"log-entry",children:[Object(Q.jsx)("span",{className:"log-timestamp",children:new Date(e.timestamp).toLocaleTimeString("en-US",{hour12:!1})}),Object(Q.jsx)("span",{className:"log-level ".concat(e.level),onClick:function(){return l("level",e.level)},children:e.level[0].toUpperCase()}),Object(Q.jsx)(vl,{appendToQuery:l,log:e}),u(e)?Object(Q.jsx)(hl,{data:e.data.user,appendToQuery:l,compiledGetters:i}):Object(Q.jsx)("div",{className:"log-message-single",children:e.message})]},t)})):Object(Q.jsx)("div",{className:"LogHistoryEmpty",children:"No logs are found which match your filters."}),Object(Q.jsx)("div",{ref:s})]})},gl=new dl;var yl=function(){var e,t=function(){var e=Object(d.h)().search;return Object(c.useMemo)((function(){return new URLSearchParams(e)}),[e])}(),n=Object(c.useState)([]),r=Object(G.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(t.get("q")||""),s=Object(G.a)(o,2),l=s[0],u=s[1],j=null===(e=re())||void 0===e?void 0:e.logging;Object(c.useEffect)((function(){if(j){i([]);var e=new cs("ws://".concat(j.hostAndPort));return e.listener=function(e){i((function(t){return[].concat(Object(Ie.a)(t),[e])}))},function(){return e.cleanup()}}}),[j,i]);var b=Ol(l);return Object(Q.jsx)(O.b,{span:12,children:Object(Q.jsx)(m.a,{z:2,wrap:!0,children:Object(Q.jsxs)(ue.a,{className:"LogViewer",children:[Object(Q.jsx)(ml,{query:l,setQuery:u,compiledGetters:gl}),Object(Q.jsx)(xl,{parsedQuery:b,setQuery:u,compiledGetters:gl,logs:a})]})})})};function wl(){var e=Object(d.g)();return[Object(d.i)().bucket,function(t){e.push(Xs+t)}]}function Cl(){var e=te("storage"),t=wl(),n=Object(G.a)(t,1)[0],r=function(){var t=Object(H.a)(z.a.mark((function t(){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://"+e.hostAndPort+"/b");case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r.items.map((function(e){return e.name})));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=Object(K.a)("storage/buckets/"+n,r,{suspense:!0}).data;return a.includes(n)?a:[].concat(Object(Ie.a)(a),[n])}var Nl=n(241),kl=n.n(Nl),Sl=function(){var e=Cl(),t=wl(),n=Object(G.a)(t,2),r=n[0],a=n[1];return Object(Q.jsx)(En.a,{icon:Object(Q.jsx)(ve,{}),className:kl.a.bucketPicker,value:r,"aria-label":"Select bucket",options:e,onChange:function(e){a(e.target.value)}})},_l=n(242),El=n.n(_l);function Al(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion error";if(!e)throw new Error(t)}function Dl(e,t,n){return{type:"file",name:e.name,size:e.size,contentType:e.type,bucket:t,fullPath:n+"/"+e.name,uploading:!0,updated:(new Date).toUTCString(),timeCreated:(new Date).toUTCString(),customMetadata:{}}}var Rl='--boundary\nContent-Type: application/json\n\n{"contentType":"text/plain"}\n--boundary\nContent-Type: text/plain\n\n--boundary--';function Tl(){var e=Object(d.i)().path,t=wl(),n=Object(G.a)(t,1)[0],r=Object(d.g)();return[e||"",function(e){e=e.replace(/\/+/g,"/"),r.push(Xs+n+(e.startsWith("/")?"":"/")+e)}]}function Il(e){return Fl.apply(this,arguments)}function Fl(){return(Fl=Object(H.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMetadata();case 2:return n=e.sent,e.abrupt("return",Object(V.a)({type:"file"},n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e){return{type:"folder",name:e.name,fullPath:e.fullPath}}function Pl(){var e=Object(cc.e)(),t=wl(),n=Object(G.a)(t,2),r=n[0],a=n[1],c=Tl(),i=Object(G.a)(c,2),o=i[0],s=i[1],l=function(){var e=te("storage"),t=wl(),n=Object(G.a)(t,1)[0];function r(){return(r=Object(H.a)(z.a.mark((function t(r){var a,c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.replace(/\/+/g,"/").replace(/^\//,""),c=encodeURIComponent(a),t.next=4,fetch("http://".concat(e.hostAndPort,"/upload/storage/v1/b/").concat(n,"/o?name=").concat(c,"/"),{headers:{"Content-Type":"multipart/related; boundary=boundary"},method:"POST",body:new Blob([Rl])});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{createFolder:function(e){return r.apply(this,arguments)}}}().createFolder;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"gs://".concat(r,"/").concat(e)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return e.refFromURL(u(t))}var j=Object(K.a)("storage/hasFiles/".concat(r,"/"),Object(H.a)(z.a.mark((function e(){var t,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("").listAll();case 2:return t=e.sent,n=t.items,r=t.prefixes,e.abrupt("return",!!n.length||!!r.length);case 6:case"end":return e.stop()}}),e)}))),{suspense:!0}),b=Object(K.a)("storage/".concat(r,"/").concat(o),Object(H.a)(z.a.mark((function e(){var t,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().listAll();case 2:return t=e.sent,n=t.items,r=t.prefixes,e.t0=[],e.t1=Object(Ie.a)(r.map(Ll)),e.t2=Ie.a,e.next=10,Promise.all(n.map(Il));case 10:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t4));case 13:case"end":return e.stop()}}),e)}))),{suspense:!0}),f=b.data||[];function h(e){return p.apply(this,arguments)}function p(){return(p=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("").child(t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return m.apply(this,arguments)}function m(){return(m=Object(H.a)(z.a.mark((function e(t){var n,r,a,c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t).listAll();case 2:return n=e.sent,r=n.items,a=n.prefixes,e.prev=5,e.next=8,h(t+"%2f");case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:return c=a.map(function(){var e=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t.fullPath);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i=r.map(function(){var e=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=16,Promise.all([].concat(Object(Ie.a)(i),Object(Ie.a)(c)));case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function v(){return x.apply(this,arguments)}function x(){return(x=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return Promise.all(e.map((function(e){var n=t?"".concat(t,"/").concat(e.name):e.name;return d().child(n).put(e)})))}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(H.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Al(n=f.find((function(e){return e.fullPath===t}))),"folder"!==n.type){e.next=8;break}return e.next=5,O(n.fullPath);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,h(n.fullPath);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(H.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map((function(t){return e.refFromURL(u()+"/"+t)})).map((function(e){return e.getDownloadURL()})));case 2:t.sent.forEach((function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener",t.click()}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{files:f,setBucket:a,bucket:r,path:o,setPath:s,bucketHasAnyFiles:j.data,getLocation:u,uploadFiles:function(e,t){return Object(H.a)(z.a.mark((function n(){var a,c,i;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new Set(e.map((function(e){return e.name}))),c=f.filter((function(e){return!a.has(e.name)})),i=e.map((function(e){return Dl(e,r,o)})),b.mutate([].concat(Object(Ie.a)(i),Object(Ie.a)(c)),!1),n.next=6,g(e,t);case 6:return n.next=8,b.mutate();case 8:return n.next=10,j.mutate();case 10:case"end":return n.stop()}}),n)})))()},deleteAllFiles:function(){return Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.mutate([],!1);case 2:return s(""),e.next=5,v();case 5:return e.next=7,b.mutate();case 7:return e.next=9,j.mutate();case 9:case"end":return e.stop()}}),e)})))()},openAllFiles:function(e){return C.apply(this,arguments)},createFolder:function(e){return Object(H.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(o+"/"+e),t.next=3,b.mutate();case 3:return t.next=5,j.mutate();case 5:case"end":return t.stop()}}),t)})))()},deleteFiles:function(e){return Object(H.a)(z.a.mark((function t(){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Set(e),r=f.filter((function(e){return!n.has(e.fullPath)})),b.mutate(r,!1),t.next=5,y(e);case 5:return t.next=7,b.mutate();case 7:return t.next=9,j.mutate();case 9:case"end":return t.stop()}}),t)})))()}}}var Ul=n(243),Ml=n.n(Ul),ql=function(){return Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Vl,{deleteAllFiles:function(){},disabled:!0}),children:Object(Q.jsx)(Bl,{})})},Bl=function(){var e=Pl(),t=e.deleteAllFiles,n=e.bucketHasAnyFiles;return Object(Q.jsx)(Vl,{disabled:!n,deleteAllFiles:t})},Vl=function(e){var t=e.deleteAllFiles,n=e.disabled;return Object(Q.jsx)(On,{use:"warning",wrap:!0,children:Object(Q.jsx)(Ae.a,{className:Ml.a.deleteAllFiles,disabled:n,unelevated:!0,onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn({title:"Clear all data?",body:Object(Q.jsx)("div",{className:"Firestore--dialog-body",children:Object(Q.jsx)(vn,{aside:!0,type:"warning",children:"This will delete all files"})}),acceptLabel:null,cancelLabel:null,footer:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Kt.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Q.jsx)(Kt.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})});case 2:if(!e.sent){e.next=4;break}t();case 4:case"end":return e.stop()}}),e)}))),children:"Delete all files"})})},Wl=function(){return Object(Q.jsxs)("div",{className:El.a.canvasWrapper,children:[Object(Q.jsx)(Sl,{}),Object(Q.jsx)(ql,{})]})};function zl(e){var t=function(e){var t=Object(c.useState)(new Set),n=Object(G.a)(t,2),r=n[0],a=n[1];return[new Set(e.filter((function(e){return r.has(e)}))),a]}(e),n=Object(G.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(G.a)(i,2),s=o[0],l=o[1];function u(e){l(s.filter((function(t){return t!==e})))}function d(e,t){var n=!0,c=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t?r.add(l):(r.delete(l),u(l))}}catch(d){c=!0,i=d}finally{try{n||null==s.return||s.return()}finally{if(c)throw i}}a(new Set(Object(Ie.a)(r)))}function j(e){l([].concat(Object(Ie.a)(s),[e]))}return{allSelected:r.size===e.length&&r.size>0,allIndeterminate:r.size>0&&r.size<e.length,isSelected:function(e){return r.has(e)},selected:r,toggleSingle:function(e){r.has(e)?(d([e],!1),u(e)):(d([e],!0),j(e))},toggleContinuous:function(t){0!==r.size&&0!==s.length||this.toggleSingle(t),d(function(t,n){var r=e.indexOf(t),a=e.indexOf(n),c=Math.abs(r-a)+1,i=r<a?r:a;return e.slice(i,i+c)}(s[s.length-1],t),!this.isSelected(t)),j(t)},clearAll:function(){a(new Set),l([])},toggleAll:function(){r.size===e.length?a(new Set):d(e,!0)}}}var Hl=function(e){var t=1e3;if(Math.round(e)<t)return e+" B";var n=["kB","MB","GB","TB","PB","EB","ZB","YB"],r=-1,a=e;do{a/=t,r++}while(Math.abs(a)>=t&&r<n.length-1);return function(e){var t=e.toFixed(2).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),0===+t[1]?t[0]:t.join(".")}(a)+" "+n[r]},Gl=n(157),Kl=n.n(Gl),Jl={"application/illustrator":"drive_ai","application/msword":"drive_ms_word","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"drive_ms_word","application/vnd.ms-powerpoint":"drive_ms_powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation":"drive_ms_powerpoint","application/vnd.ms-excel":"drive_ms_excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"drive_ms_excel","application/pdf":"drive_pdf","application/photoshop":"drive_ps","application/psd":"drive_ps","application/x-photoshop":"drive_ps","image/photoshop":"drive_ps","image/psd":"drive_ps","image/x-photoshop":"drive_ps","image/x-psd":"drive_ps","image/gif":"photo","image/jpg":"photo","image/jpeg":"photo","image/png":"photo","image/svg+xml":"photo","image/webp":"photo","audio/m4a":"drive_audio","audio/mp3":"drive_audio","audio/mpeg":"drive_audio","audio/wav":"drive_audio","audio/x-ms-wma":"drive_audio","video/avi":"drive_video","video/mp4":"drive_video","video/mpeg":"drive_video","video/quicktime":"drive_video","video/x-ms-wmv":"drive_video","application/zip":"drive_zip","application/csv":"csv","text/csv":"csv","text/tsv":"tsv","text/tab-separated-values":"tsv","text/javascript":"drive_document","text/plain":"drive_document","text/x-log":"drive_document"};function Ql(e){return Jl[e]||"drive_file"}var Zl=function(e){var t=e.contentType;return Object(Q.jsx)(a.a,{use:"secondary",children:Object(Q.jsx)(be.a,{icon:Ql(t),className:Kl.a.icon})})},Yl=n(116),$l=n.n(Yl),Xl=function(e){var t=e.isExpanded,n=void 0!==t&&t,r=e.title,a=e.children,i=Object(c.useState)(n),o=Object(G.a)(i,2),s=o[0],l=o[1],u=Object(_n.a)("accordion-content"),d=Object(_n.a)("accordion-header");return Object(Q.jsxs)("section",{className:$l.a.accordion,children:[Object(Q.jsxs)("header",{tabIndex:0,role:"button",id:d,"aria-controls":u,"aria-expanded":s,onClick:function(){return l(!s)},onKeyDown:function(e){return(" "===e.key||"Enter"===e.key)&&l(!s)},className:$l.a.header,children:[Object(Q.jsx)(de.a,{use:"body1",children:r}),s?Object(Q.jsx)(be.a,{icon:"expand_less",className:$l.a.icon}):Object(Q.jsx)(be.a,{icon:"expand_more",className:$l.a.icon})]}),s&&Object(Q.jsx)("div",{className:$l.a.content,"aria-labelledby":d,id:u,children:a})]})},eu=n(244),tu=n.n(eu),nu=function(e){var t=e.metadata;return Object(Q.jsx)(Xl,{title:"Custom metadata",children:t?Object(Q.jsx)("dl",{className:tu.a.metadata,children:Object.entries(t).map((function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1];return Object(Q.jsxs)(i.a.Fragment,{children:[Object(Q.jsx)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:n}),Object(Q.jsx)(de.a,{use:"body2",tag:"dd",children:r})]},n)}))}):Object(Q.jsx)(de.a,{use:"body2",theme:"secondary",children:"No custom metadata"})})};var ru=n(166),au=n.n(ru),cu=function(e){var t=e.fullPath,n=function(e){var t=te("storage"),n=wl(),r=Object(G.a)(n,1)[0],a="storage/tokens/".concat(r,"/").concat(e),c=function(){var n=Object(H.a)(z.a.mark((function n(){var a,c,i;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="http://".concat(t.hostAndPort,"/v0/b/").concat(r,"/o/").concat(encodeURIComponent(e)),n.next=3,fetch(a,{method:"GET",headers:{Authorization:"Bearer owner"}});case 3:return c=n.sent,n.next=6,c.json();case 6:return i=n.sent,n.abrupt("return",(i.downloadTokens||"").split(",").filter((function(e){return!!e})));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),i=Object(K.a)(a,c,{suspense:!0}),o=i.data,s=i.mutate;function l(){return(l=Object(H.a)(z.a.mark((function n(){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://".concat(t.hostAndPort,"/v0/b/").concat(r,"/o/").concat(encodeURIComponent(e),"?create_token=true"),{headers:{Authorization:"Bearer owner"},method:"POST"});case 2:s();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(){return(u=Object(H.a)(z.a.mark((function n(a){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://".concat(t.hostAndPort,"/v0/b/").concat(r,"/o/").concat(encodeURIComponent(e),"?delete_token=").concat(a),{headers:{Authorization:"Bearer owner"},method:"POST"});case 2:s();case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return{tokens:o||[],createToken:function(){return l.apply(this,arguments)},deleteToken:function(e){return u.apply(this,arguments)}}}(t),r=n.tokens,a=n.createToken,c=n.deleteToken,i=Pl().getLocation,o=ki().writeText;return Object(Q.jsxs)(Xl,{title:"File location",children:[Object(Q.jsxs)("dl",{className:au.a.metadata,children:[Object(Q.jsx)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:"File location"}),Object(Q.jsx)(de.a,{use:"body2",tag:"dd",className:au.a.location,children:i(t)}),r.map((function(e){return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:["Access token",Object(Q.jsx)(mr.c,{handle:Object(Q.jsx)(fr.a,{icon:"more_vert",label:"Open menu"}),renderToPortal:!0,children:Object(Q.jsx)(mr.b,{onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||c(e)},onClick:function(){return c(e)},children:"Revoke"})})]}),Object(Q.jsx)(de.a,{use:"body2",tag:"dd",children:Object(Q.jsx)(ya.a,{content:"Click to copy the token to clipboard",children:Object(Q.jsx)("input",{"aria-label":"Token, press Enter to copy",className:au.a.token,readOnly:!0,value:e,onClick:function(){return o(e)},onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||o(e)}})})})]},e)}))]}),Object(Q.jsx)(Ae.a,{unelevated:!0,onClick:a,children:"Create new access token"})]})},iu=n(100),ou=n.n(iu),su=n(245),lu=n.n(su),uu=["image/bmp","image/gif","image/jpeg","image/jpg","image/png","image/svg+xml"];function du(e){return uu.includes(e)}var ju=function(e){var t=e.file;return du(t.contentType)?Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Ee,{}),children:Object(Q.jsx)(bu,{file:t})}):null},bu=function(e){var t=function(e){var t=Object(cc.e)(),n=Pl().getLocation;return Object(K.a)("storage/downloadUrl/"+e.fullPath,(function(){return du(e.contentType)?t.refFromURL(n(e.fullPath)).getDownloadURL():Promise.resolve(void 0)}),{suspense:!0}).data}(e.file);return t?Object(Q.jsx)("img",{className:lu.a.preview,src:t,alt:"Preview"}):null};function fu(e){var t=new Date(e);return t.toLocaleDateString()+", "+t.toLocaleTimeString()}var hu=function(e){var t=e.file,n=e.closeSidebar,r=Pl().openAllFiles;return Object(Q.jsxs)("aside",{className:ou.a.sideBarWrapper,children:[Object(Q.jsxs)("div",{className:ou.a.headerWrapper,children:[Object(Q.jsxs)("div",{className:ou.a.headerTitleWrapper,children:[Object(Q.jsx)(Zl,{contentType:t.contentType}),Object(Q.jsx)(de.a,{className:ou.a.fileName,use:"subtitle1",title:t.name,children:t.name})]}),Object(Q.jsx)(fr.a,{theme:"secondary","aria-label":"Close",icon:"close",onClick:n})]}),Object(Q.jsx)(ju,{file:t}),Object(Q.jsxs)("dl",{className:ou.a.metadata,children:[Object(Q.jsx)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:"Name"}),Object(Q.jsx)(de.a,{role:"button",tabIndex:"0",className:ou.a.openFileLink,use:"body2",tag:"dd",onKeyDown:function(e){if("Enter"===e.key||" "===e.key)return r([t.fullPath])},onClick:function(){return r([t.fullPath])},children:t.name}),Object(Q.jsx)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:"Size"}),Object(Q.jsx)(de.a,{use:"body2",tag:"dd",children:Hl(t.size)}),Object(Q.jsx)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:"Type"}),Object(Q.jsx)(de.a,{use:"body2",tag:"dd",children:t.contentType}),Object(Q.jsx)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:"Created"}),Object(Q.jsx)(de.a,{use:"body2",tag:"dd",children:fu(t.timeCreated)}),Object(Q.jsx)(de.a,{use:"body2",tag:"dt",theme:"secondary",children:"Last modified"}),Object(Q.jsx)(de.a,{use:"body2",tag:"dd",children:fu(t.updated)})]}),Object(Q.jsx)(cu,{fullPath:t.fullPath}),Object(Q.jsx)(nu,{metadata:t.customMetadata})]})},pu=n(167),Ou=n.n(pu),mu=n(117),vu=n.n(mu);var xu=function(e){var t=e.selection,n=Pl(),r=n.files,c=n.openAllFiles,i=n.deleteFiles,o=function(e,t){return e.some((function(e){return t.has(e.fullPath)&&"folder"===e.type}))}(r,t.selected),s=Object(Ie.a)(t.selected);return Object(Q.jsx)(ar,{className:vu.a.actionBar,children:Object(Q.jsx)(a.a,{use:"textPrimaryOnDark",children:Object(Q.jsxs)("div",{className:vu.a.actionHeaderWrapper,children:[Object(Q.jsx)(fr.a,{icon:"close",label:"Unselect all",onClick:function(){return t.clearAll()}}),Object(Q.jsx)("div",{className:vu.a.actionHeaderLabel,children:Object(Q.jsxs)(de.a,{use:"body2",children:[t.selected.size," item(s)"]})}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(Ae.a,{className:vu.a.openButton,disabled:o,onClick:function(){return c(s)},unelevated:!0,children:"Open all files"}),Object(Q.jsx)(Ae.a,{onClick:function(){return t.clearAll(),i(s)},className:vu.a.deleteButton,outlined:!0,unelevated:!0,children:"Delete"})]})]})})})},gu=function(e){var t=e.confirm,n=e.isOpen,r=e.close,a=Object(c.useReducer)((function(e,t){return t.trim()}),""),i=Object(G.a)(a,2),o=i[0],s=i[1],l=function(){t(o),r()};return Object(Q.jsxs)(Kt.a,{open:n,onClose:function(){return r()},children:[Object(Q.jsx)(Kt.e,{children:"Create folder"}),Object(Q.jsx)(Kt.d,{children:Object(Q.jsx)("form",{onSubmit:function(e){e.preventDefault(),l()},children:Object(Q.jsx)(Dn,{maxLength:252,onChange:function(e){s(e.target.value)},required:!0,label:"New folder name"})})}),Object(Q.jsxs)(Kt.b,{children:[Object(Q.jsx)(Kt.c,{type:"button",theme:"secondary",onClick:r,children:"Cancel"}),Object(Q.jsx)(Kt.c,{disabled:""===o,unelevated:!0,onClick:l,children:"Create"})]})]})},yu=function(){var e=Pl().createFolder,t=Object(c.useState)(!1),n=Object(G.a)(t,2),r=n[0],a=n[1];return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(fr.a,{icon:"create_new_folder",theme:"secondary","aria-label":"Create new folder",title:"Create new folder",onClick:function(){return a(!0)}}),r&&Object(Q.jsx)(gu,{isOpen:r,close:function(){return a(!1)},confirm:function(t){return e(t)}})]})},wu=n(129),Cu=n.n(wu),Nu=n(246),ku=n.n(Nu),Su=function(){var e=Pl().uploadFiles,t=Object(Lr.a)({onDrop:function(){var t=Object(H.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),n=t.getInputProps,r=t.getRootProps;return Object(Q.jsxs)("div",Object(V.a)(Object(V.a)({className:ku.a.uploadButton},r()),{},{children:[Object(Q.jsx)(Ae.a,{unelevated:!0,children:"Upload file"}),Object(Q.jsx)("input",Object(V.a)({"aria-label":"Upload"},n()))]}))},_u=function(){var e=Tl(),t=Object(G.a)(e,2),n=t[0],r=t[1],a=wl(),c=Object(G.a)(a,1)[0],i="gs://".concat(c);return Object(Q.jsx)("div",{className:Cu.a.storageHeaderActionBarWrapper,children:Object(Q.jsx)(ar,{children:Object(Q.jsxs)("div",{className:Cu.a.storageHeaderWrapper,children:[Object(Q.jsx)(ya.a,{content:"Copy URL to clipboard",children:Object(Q.jsx)("div",{children:Object(Q.jsx)(Si,{textToCopy:i+"/"+n,icon:"link"})})}),Object(Q.jsx)("div",{className:Cu.a.wrapper,children:Object(Q.jsx)("div",{className:Cu.a.breadcrumbWrapper,children:Object(Q.jsx)(Hr,{inputPrefix:i+"/",onNavigate:r,base:Xs+c,path:n,homeElement:i})})}),Object(Q.jsx)(yu,{}),Object(Q.jsx)(Su,{})]})})})},Eu=function(){return Object(Q.jsx)(a.a,{use:"secondary",children:Object(Q.jsx)(be.a,{icon:"folder_open",className:Kl.a.icon})})},Au=n(78),Du=n.n(Au),Ru=n(247),Tu=n.n(Ru),Iu=function(){var e=Pl().uploadFiles,t=Object(Lr.a)({onDrop:function(){var t=Object(H.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),n=t.getInputProps,r=t.getRootProps,a=t.isDragActive;return Object(Q.jsxs)("div",Object(V.a)(Object(V.a)({className:Tu.a.zeroStateWrapper},r()),{},{children:[a?Object(Q.jsx)(de.a,{use:"body2",theme:"secondary",children:"Drop files here"}):Object(Q.jsxs)("div",{children:[Object(Q.jsx)(de.a,{use:"body1",theme:"secondary",tag:"div",children:"No files found"}),Object(Q.jsx)(de.a,{use:"body2",theme:"secondary",tag:"div",children:"Drag and drop files to upload"})]}),Object(Q.jsx)("input",Object(V.a)({},n()))]}))},Fu=function(e){var t=e.selection,n=e.selectFile,r=e.selectedFile,a=Pl(),c=a.files,i=a.bucket,o=a.setPath;return Object(Q.jsxs)("div",{className:Du.a.tableWrapper,children:[Object(Q.jsx)(Or.a,{className:Du.a.tableWrapper,children:Object(Q.jsxs)(Or.d,{children:[Object(Q.jsx)(Or.e,{children:Object(Q.jsxs)(Or.g,{children:[Object(Q.jsx)(Or.f,{hasFormControl:!0,className:Du.a.checkboxColumn,children:Object(Q.jsx)(Qr.a,{disabled:0===c.length,checked:t.allSelected,indeterminate:t.allIndeterminate,onChange:function(e){var n=e.target,r=n.checked,a=n.indeterminate;r===t.allSelected&&a===t.allIndeterminate||t.toggleAll()},"aria-label":"Select all"})}),Object(Q.jsx)(Or.f,{children:"Name"}),Object(Q.jsx)(Or.f,{children:"Size"}),Object(Q.jsx)(Or.f,{children:"Type"}),Object(Q.jsx)(Or.f,{children:"Last Modified"})]})}),c.length>0?Object(Q.jsx)(Or.b,{children:c.map((function(e){return Object(Q.jsx)(Pu,{selectedFile:r,bucket:i,selection:t,selectFile:n,item:e,setPath:o},e.fullPath)}))}):null]})}),0===c.length&&Object(Q.jsx)(Iu,{})]})};function Lu(e){return"folder"===e.type?Object(Q.jsx)(Q.Fragment,{children:"\u2014"}):e.uploading?Object(Q.jsxs)("div",{className:Du.a.columnUploading,children:[Object(Q.jsx)(Ee,{size:20}),Object(Q.jsx)("span",{children:"Uploading..."})]}):new Date(e.updated).toLocaleDateString()}var Pu=function(e){var t=e.item,n=e.selection,r=e.selectFile,a=e.setPath,c=e.selectedFile,i=Object(_n.a)("file");function o(){"file"===t.type?r(c===t?void 0:t):(r(void 0),a(t.fullPath))}return Object(Q.jsxs)(Or.g,{tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&o()},onClick:o,selected:c===t,className:Du.a.row,children:[Object(Q.jsx)(Or.c,{hasFormControl:!0,children:Object(Q.jsx)(Qr.a,{"aria-labelledby":i,checked:n.isSelected(t.fullPath),onClick:function(e){e.stopPropagation()},onChange:function(e){n.isSelected(t.fullPath)!==e.target.checked&&n.toggleSingle(t.fullPath)}})}),Object(Q.jsx)(Or.c,{className:Du.a.name,children:"folder"===t.type?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Eu,{}),Object(Q.jsxs)(de.a,{use:"body2",id:i,theme:"textPrimaryOnLight",className:"".concat(Du.a.item," ").concat(Du.a.link),children:[t.name,"/"]})]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Zl,{contentType:t.contentType}),Object(Q.jsx)(de.a,{use:"body2",id:i,className:Du.a.item,theme:"textPrimaryOnLight",children:t.name})]})}),Object(Q.jsx)(Or.c,{children:"folder"===t.type?Object(Q.jsx)(Q.Fragment,{children:"\u2014"}):Hl(t.size)}),Object(Q.jsx)(Or.c,{children:"folder"===t.type?"Folder":t.contentType}),Object(Q.jsx)(Or.c,{children:Lu(t)})]})},Uu=n(193),Mu=n.n(Uu),qu=function(e){var t=e.children,n=Pl().uploadFiles,r=Object(Lr.a)({noClick:!0,noKeyboard:!0,onDrop:function(){var e=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),a=r.getInputProps,c=r.getRootProps,i=r.isDragActive;return Object(Q.jsxs)("div",Object(V.a)(Object(V.a)({},c()),{},{children:[i?Object(Q.jsxs)("div",{className:Mu.a.dropzoneWrapper,children:[Object(Q.jsx)(Q.Fragment,{children:t}),Object(Q.jsx)(de.a,{use:"body2",className:Mu.a.dropWrapper,theme:"secondary",children:"Drop files here"})]}):Object(Q.jsx)(Q.Fragment,{children:t}),Object(Q.jsx)("input",Object(V.a)({},a()))]}))};var Bu=function(){var e=Pl().files,t=zl(e.map((function(e){return e.fullPath}))),n=function(e){var t=Object(c.useState)(void 0),n=Object(G.a)(t,2),r=n[0],a=n[1];return[r?e.find((function(e){return e.fullPath===r.fullPath})):void 0,a]}(e),r=Object(G.a)(n,2),i=r[0],o=r[1];return Object(Q.jsx)(a.b,{options:{surface:f},children:Object(Q.jsx)(m.a,{z:"2",wrap:!0,children:Object(Q.jsxs)(ue.a,{children:[0===t.selected.size?Object(Q.jsx)(_u,{}):Object(Q.jsx)(xu,{selection:t}),Object(Q.jsx)("div",{className:Ou.a.tableWrapper,children:Object(Q.jsxs)(O.c,{className:Ou.a.gridWrapper,children:[Object(Q.jsx)(O.b,{phone:i?1:4,tablet:i?4:8,desktop:i?8:12,className:Ou.a.tableCell,children:Object(Q.jsx)(a.b,{options:{surface:"#fff"},children:Object(Q.jsx)(qu,{children:Object(Q.jsx)(Fu,{selection:t,selectedFile:i,selectFile:o})})})}),i&&Object(Q.jsx)(O.b,{phone:3,tablet:4,desktop:4,children:Object(Q.jsx)(hu,{file:i,closeSidebar:function(){return o(void 0)}})})]})})]})})})},Vu=n(248),Wu=n.n(Vu),zu={},Hu=function(e){var t=e.children,n=te("storage"),r=n.host,a=n.port,i=qr("storage",zu,Object(c.useCallback)((function(e){e.storage().useEmulator(r,a)}),[r,a]));return i?Object(Q.jsx)(cc.a,{firebaseApp:i,children:t}):null},Gu=function(){return Object(Q.jsx)(Hu,{children:Object(Q.jsxs)(O.b,{span:12,className:Wu.a.storageWrapper,children:[Object(Q.jsx)(Wl,{}),Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Ee,{}),children:Object(Q.jsx)(Bu,{})})]})})},Ku=function(e){var t=e.children,n=Cl(),r=Object(G.a)(n,1)[0];return Object(Q.jsxs)(d.d,{children:[Object(Q.jsx)(d.b,{exact:!0,path:"/storage/:bucket/:path*",children:t}),Object(Q.jsx)(d.b,{exact:!0,path:Xs,children:Object(Q.jsx)(d.a,{to:Xs+r})})]})},Ju=function(){return ne("storage")?Object(Q.jsx)(Ce,{productName:"Storage"}):Object(Q.jsx)(Ee,{span:12,message:"Storage Emulator Loading..."})},Qu=[{path:"/",component:sl,label:"Overview",exact:!0,showInNav:!0},{path:"/auth",component:Tr,label:"Authentication",exact:!1,showInNav:!0},{path:"/firestore",component:Ks,label:"Firestore",exact:!1,showInNav:!0},{path:"/database",component:xi,label:"Realtime Database",exact:!1,showInNav:!0},{path:"/storage",component:function(){return Object(Q.jsx)(c.Suspense,{fallback:Object(Q.jsx)(Ju,{}),children:Object(Q.jsx)(Ku,{children:Object(Q.jsx)(Gu,{})})})},label:"Storage",exact:!1,showInNav:!0},{path:"/logs",component:yl,label:"Logs",exact:!0,showInNav:!0}],Zu=(n(386),n(249)),Yu=function(){return Object(Q.jsx)(be.a,{className:"Logo",icon:{strategy:"component",icon:Object(Q.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",style:{width:"24px",height:"24px"},children:[Object(Q.jsxs)("defs",{children:[Object(Q.jsx)("clipPath",{id:"a",children:Object(Q.jsx)("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150l57.9 32.46a12 12 0 0 0 11.7 0L160 150z"})}),Object(Q.jsxs)("linearGradient",{id:"d",x1:"-108.63",y1:"-692.24",x2:"-58.56",y2:"-742.31",gradientTransform:"matrix(2.67 0 0 -2.67 317.23 -1808)",gradientUnits:"userSpaceOnUse",children:[Object(Q.jsx)("stop",{offset:"0",stopColor:"#fff",stopOpacity:".1"}),Object(Q.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),Object(Q.jsxs)("linearGradient",{id:"b",x1:"56.9",y1:"102.54",x2:"48.9",y2:"98.36",gradientUnits:"userSpaceOnUse",children:[Object(Q.jsx)("stop",{offset:"0",stopColor:"#a52714"}),Object(Q.jsx)("stop",{offset:".4",stopColor:"#a52714",stopOpacity:".5"}),Object(Q.jsx)("stop",{offset:".8",stopColor:"#a52714",stopOpacity:"0"})]}),Object(Q.jsxs)("linearGradient",{id:"c",x1:"90.89",y1:"90.91",x2:"87.31",y2:"87.33",gradientUnits:"userSpaceOnUse",children:[Object(Q.jsx)("stop",{offset:"0",stopColor:"#a52714",stopOpacity:".8"}),Object(Q.jsx)("stop",{offset:".5",stopColor:"#a52714",stopOpacity:".21"}),Object(Q.jsx)("stop",{offset:"1",stopColor:"#a52714",stopOpacity:"0"})]})]}),Object(Q.jsxs)("g",{clipPath:"url(#a)",children:[Object(Q.jsx)("path",{d:"M32 150L53.66 11.39a4 4 0 0 1 7.48-1.27l22.4 41.78 8.93-17a4 4 0 0 1 7.08 0L160 150z",fill:"#ffa000"}),Object(Q.jsx)("path",{opacity:".12",fill:"url(#b)",d:"M106 9L0 0v192l32-42L106 9z"}),Object(Q.jsx)("path",{d:"M106.83 96.01l-23.3-44.12L32 150l74.83-53.99z",fill:"#f57c00"}),Object(Q.jsx)("path",{opacity:".2",fill:"url(#c)",d:"M0 0h192v192H0z"}),Object(Q.jsx)("path",{d:"M160 150L143.41 47.34a4 4 0 0 0-6.77-2.16L32 150l57.9 32.47a12 12 0 0 0 11.7 0z",fill:"#ffca28"}),Object(Q.jsx)("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150h-.08l.07.08.57.28L115.83 67l20.78-20.8a4 4 0 0 1 6.78 2.16l16.45 101.74.16-.1zM32.19 149.81L53.66 12.39a4 4 0 0 1 7.48-1.28l22.4 41.78 8.93-17a4 4 0 0 1 7.08 0l16 30.43z",fill:"#fff",fillOpacity:".2"}),Object(Q.jsx)("path",{d:"M101.6 181.49a12 12 0 0 1-11.7 0l-57.76-32.4-.14.91 57.9 32.46a12 12 0 0 0 11.7 0L160 150l-.15-.92z",fill:"#a52714",opacity:".2"}),Object(Q.jsx)("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150l57.9 32.46a12 12 0 0 0 11.7 0L160 150z",fill:"url(#d)"})]})]})}})},$u=function(e){var t=e.routes,n=Object(d.h)(),r=t.filter((function(e){return e.showInNav})),c=r.map((function(e){var t=e.path,n=e.label;return Object(Q.jsx)(wi.a,{className:"mdc-tab--min-width",tag:u.b,to:t,children:n},n)})),i=r.findIndex((function(e){return Object(d.f)(n.pathname,{path:e.path,exact:e.exact})}));return Object(Q.jsx)(a.b,{options:{primary:"#D7AEFB",surface:"#0c2d48",onSurface:"#FFF"},wrap:!0,children:Object(Q.jsxs)(Zu.a,{fixed:!0,className:"AppBar",theme:"surface",children:[Object(Q.jsx)("div",{className:"AppBar-title-row",children:Object(Q.jsxs)("div",{className:"AppBar-logo-lockup",children:[Object(Q.jsx)(Yu,{}),Object(Q.jsx)(de.a,{use:"headline5",className:"AppBar-title",tag:"h1",children:"Firebase Emulator Suite"})]})}),Object(Q.jsx)(Ci.a,{theme:"onSurface",activeTabIndex:i,children:c})]})})},Xu=function(){return ne()?Object(Q.jsxs)(Kt.a,{open:!0,preventOutsideDismiss:!0,children:[Object(Q.jsx)(Kt.e,{children:"Emulator Suite Disconnected"}),Object(Q.jsxs)(Kt.d,{children:["All emulators for this project have stopped running. To restart all emulators, at the command line, run"," ",Object(Q.jsx)("code",{children:"firebase emulators:start"}),"."]})]}):null},ed=function(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(p.a,{dialogs:gn}),Object(Q.jsx)(h.a,{}),Object(Q.jsx)(Xu,{}),Object(Q.jsx)(a.a,{use:"background",wrap:!0,children:Object(Q.jsxs)("div",{className:"App",children:[Object(Q.jsx)($u,{routes:Qu}),Object(Q.jsx)(O.a,{className:"App-main",children:Object(Q.jsxs)(d.d,{children:[Qu.map((function(e){return Object(Q.jsx)(d.b,{path:e.path,component:e.component,exact:e.exact},e.path)})),Object(Q.jsx)(d.a,{from:"/functions",to:"/logs?q=metadata.emulator.name%3D%22functions%22"}),Object(Q.jsx)(d.a,{to:"/"})," "]})})]})})]})},td=n(252);var nd=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.c,t=Object(td.a)(),n=Object(De.d)(kt,e(Object(De.a)(t)));return t.run(Nt),n}(),rd=function(){return Object(Q.jsx)(u.a,{children:Object(Q.jsx)(d.d,{children:Object(Q.jsx)(d.b,{component:ed})})})};s.a.unstable_createBlockingRoot(document.getElementById("root")).render(Object(Q.jsx)(i.a.StrictMode,{children:Object(Q.jsx)(r.a,{ripple:!1,children:Object(Q.jsx)(a.b,{options:{background:"#F6F7F9",primary:j,primaryRgb:"104, 29, 168",secondary:"rgba(0, 0, 0, .54)",error:"#d32f2f"},children:Object(Q.jsx)(X,{refreshInterval:2e3,children:Object(Q.jsx)(os,{children:Object(Q.jsx)(l.a,{store:nd,children:Object(Q.jsx)(rd,{})})})})})})}))},53:function(e,t,n){e.exports={panel:"CollectionFilter_panel__3z15Z",header:"CollectionFilter_header__1-t0U",headerTitle:"CollectionFilter_headerTitle__ebNNW",preview:"CollectionFilter_preview__1TWpW",children:"CollectionFilter_children__l7ZC9",previewFilter:"CollectionFilter_previewFilter__eDMkO",conditionEntries:"CollectionFilter_conditionEntries__2CpLn",removeFilter:"CollectionFilter_removeFilter__1xNn1",hidden:"CollectionFilter_hidden__IoL4U",conditionEntry:"CollectionFilter_conditionEntry__xeuMd",conditionEntryType:"CollectionFilter_conditionEntryType__3jxWW",conditionEntryValue:"CollectionFilter_conditionEntryValue__3N83N",actions:"CollectionFilter_actions__1uD4j"}},70:function(e,t,n){e.exports={emailWrapper:"controls_emailWrapper__2uj98",error:"controls_error__3u2lA",customAttributesWrapper:"controls_customAttributesWrapper__3rPpB",customAttributeWrapper:"controls_customAttributeWrapper__w-Bmn",signInWrapper:"controls_signInWrapper__3GGfU",signInHeader:"controls_signInHeader__1CQk8",authKindLabel:"controls_authKindLabel__1v_H7"}},78:function(e,t,n){e.exports={tableWrapper:"Table_tableWrapper__1qYGf",link:"Table_link__3ffTh",checkboxColumn:"Table_checkboxColumn__3EV23",name:"Table_name__1kRY3",row:"Table_row__14jDG",columnUploading:"Table_columnUploading__2llJi",item:"Table_item__3AKvk"}},96:function(e,t,n){e.exports={noResultsWrapper:"UsersTable_noResultsWrapper__2S_XP",tableWrapper:"UsersTable_tableWrapper__1Quve",disabled:"UsersTable_disabled__2DlIr"}}},[[387,7,9]]]);
//# sourceMappingURL=main.26defe06.chunk.js.map